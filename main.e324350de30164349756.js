(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.2","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return ws})),n.d(e,"b",(function(){return $f})),n.d(e,"c",(function(){return qf})),n.d(e,"d",(function(){return Ff})),n.d(e,"e",(function(){return Hf})),n.d(e,"f",(function(){return Vd})),n.d(e,"g",(function(){return xd})),n.d(e,"h",(function(){return Tt})),n.d(e,"i",(function(){return Go})),n.d(e,"j",(function(){return id})),n.d(e,"k",(function(){return kf})),n.d(e,"l",(function(){return Cl})),n.d(e,"m",(function(){return Qf})),n.d(e,"n",(function(){return Af})),n.d(e,"o",(function(){return Sl})),n.d(e,"p",(function(){return nr})),n.d(e,"q",(function(){return Rh})),n.d(e,"r",(function(){return nt})),n.d(e,"s",(function(){return m})),n.d(e,"t",(function(){return et})),n.d(e,"u",(function(){return ys})),n.d(e,"v",(function(){return Rf})),n.d(e,"w",(function(){return Bl})),n.d(e,"x",(function(){return Gl})),n.d(e,"y",(function(){return Kf})),n.d(e,"z",(function(){return Mf})),n.d(e,"A",(function(){return vt})),n.d(e,"B",(function(){return jd})),n.d(e,"C",(function(){return bt})),n.d(e,"D",(function(){return Od})),n.d(e,"E",(function(){return ad})),n.d(e,"F",(function(){return b})),n.d(e,"G",(function(){return Nf})),n.d(e,"H",(function(){return Wf})),n.d(e,"I",(function(){return Gf})),n.d(e,"J",(function(){return Pf})),n.d(e,"K",(function(){return jl})),n.d(e,"L",(function(){return xl})),n.d(e,"M",(function(){return Tl})),n.d(e,"N",(function(){return kl})),n.d(e,"O",(function(){return Wr})),n.d(e,"P",(function(){return y})),n.d(e,"Q",(function(){return Pd})),n.d(e,"R",(function(){return Kl})),n.d(e,"S",(function(){return gd})),n.d(e,"T",(function(){return $o})),n.d(e,"U",(function(){return Rl})),n.d(e,"V",(function(){return Pl})),n.d(e,"W",(function(){return Jl})),n.d(e,"X",(function(){return jt})),n.d(e,"Y",(function(){return Ed})),n.d(e,"Z",(function(){return wr})),n.d(e,"ab",(function(){return M})),n.d(e,"bb",(function(){return yr})),n.d(e,"cb",(function(){return Dd})),n.d(e,"db",(function(){return vd})),n.d(e,"eb",(function(){return Xf})),n.d(e,"fb",(function(){return os})),n.d(e,"gb",(function(){return bc})),n.d(e,"hb",(function(){return Br})),n.d(e,"ib",(function(){return Ir})),n.d(e,"jb",(function(){return lr})),n.d(e,"kb",(function(){return fr})),n.d(e,"lb",(function(){return mr})),n.d(e,"mb",(function(){return pr})),n.d(e,"nb",(function(){return dr})),n.d(e,"ob",(function(){return gr})),n.d(e,"pb",(function(){return dc})),n.d(e,"qb",(function(){return Nd})),n.d(e,"rb",(function(){return pc})),n.d(e,"sb",(function(){return gc})),n.d(e,"tb",(function(){return hr})),n.d(e,"ub",(function(){return G})),n.d(e,"vb",(function(){return Ms})),n.d(e,"wb",(function(){return Ia})),n.d(e,"xb",(function(){return Sa})),n.d(e,"yb",(function(){return fc})),n.d(e,"zb",(function(){return oh})),n.d(e,"Ab",(function(){return we})),n.d(e,"Bb",(function(){return D})),n.d(e,"Cb",(function(){return cr})),n.d(e,"Db",(function(){return xs})),n.d(e,"Eb",(function(){return fe})),n.d(e,"Fb",(function(){return _l})),n.d(e,"Gb",(function(){return vi})),n.d(e,"Hb",(function(){return Ws})),n.d(e,"Ib",(function(){return lu})),n.d(e,"Jb",(function(){return Vu})),n.d(e,"Kb",(function(){return au})),n.d(e,"Lb",(function(){return Xh})),n.d(e,"Mb",(function(){return Rt})),n.d(e,"Nb",(function(){return Ht})),n.d(e,"Ob",(function(){return S})),n.d(e,"Pb",(function(){return I})),n.d(e,"Qb",(function(){return Mt})),n.d(e,"Rb",(function(){return qt})),n.d(e,"Sb",(function(){return da})),n.d(e,"Tb",(function(){return wa})),n.d(e,"Ub",(function(){return Oa})),n.d(e,"Vb",(function(){return _a})),n.d(e,"Wb",(function(){return ya})),n.d(e,"Xb",(function(){return va})),n.d(e,"Yb",(function(){return Ca})),n.d(e,"Zb",(function(){return Zn})),n.d(e,"ac",(function(){return ac})),n.d(e,"bc",(function(){return cl})),n.d(e,"cc",(function(){return fl})),n.d(e,"dc",(function(){return ll})),n.d(e,"ec",(function(){return hl})),n.d(e,"fc",(function(){return ft})),n.d(e,"gc",(function(){return pa})),n.d(e,"hc",(function(){return nf})),n.d(e,"ic",(function(){return xa})),n.d(e,"jc",(function(){return Jh})),n.d(e,"kc",(function(){return Pa})),n.d(e,"lc",(function(){return Sh})),n.d(e,"mc",(function(){return Ih})),n.d(e,"nc",(function(){return xh})),n.d(e,"oc",(function(){return Va})),n.d(e,"pc",(function(){return Na})),n.d(e,"qc",(function(){return ma})),n.d(e,"rc",(function(){return Ma})),n.d(e,"sc",(function(){return Ua})),n.d(e,"tc",(function(){return ch})),n.d(e,"uc",(function(){return lh})),n.d(e,"vc",(function(){return hh})),n.d(e,"wc",(function(){return fh})),n.d(e,"xc",(function(){return Bh})),n.d(e,"yc",(function(){return fa})),n.d(e,"zc",(function(){return qe})),n.d(e,"Ac",(function(){return Kr})),n.d(e,"Bc",(function(){return Ut})),n.d(e,"Cc",(function(){return Kh})),n.d(e,"Dc",(function(){return Gh})),n.d(e,"Ec",(function(){return su})),n.d(e,"Fc",(function(){return ha})),n.d(e,"Gc",(function(){return ef})),n.d(e,"Hc",(function(){return Eu})),n.d(e,"Ic",(function(){return Cu})),n.d(e,"Jc",(function(){return Su})),n.d(e,"Kc",(function(){return Iu})),n.d(e,"Lc",(function(){return Wh}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}const c="__annotations__",l="__parameters__",h="__prop__metadata__";function f(t,e,n,r,i){return u(()=>{const o=d(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(c)?n[c]:Object.defineProperty(n,c,{value:[]})[c]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function d(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function p(t,e,n){return u(()=>{const r=d(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function g(t,e,n,r){return u(()=>{const i=d(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(h)?o[h]:Object.defineProperty(o,h,{value:{}})[h];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const m=p("Inject",t=>({token:t})),b=p("Optional"),v=p("Self"),y=p("SkipSelf"),w=p("Host"),_=p("Attribute",t=>({attributeName:t}));var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function C(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return T(t,t[A])||T(t,t[R])}function T(t,e){return e&&e.token===t?e:null}function j(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(N))?t[k]:null}const A=E({"\u0275prov":E}),k=E({"\u0275inj":E}),P=E({"\u0275provFallback":E}),R=E({ngInjectableDef:E}),N=E({ngInjectorDef:E});function D(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(D).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function L(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const V=E({__forward_ref__:E});function M(t){return t.__forward_ref__=M,t.toString=function(){return D(this())},t}function U(t){return F(t)?t():t}function F(t){return"function"==typeof t&&t.hasOwnProperty(V)&&t.__forward_ref__===M}const H="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,G=H||B||q||z;var W=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function $(){const t=G.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const X=E({"\u0275cmp":E}),K=E({"\u0275dir":E}),Q=E({"\u0275pipe":E}),J=E({"\u0275mod":E}),Z=E({"\u0275loc":E}),Y=E({"\u0275fac":E}),tt=E({__NG_ELEMENT_ID__:E});class et{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const nt=new et("INJECTOR",-1),rt={},it=/\n/gm,ot="__source",st=E({provide:String,useValue:E});let at,ut=void 0;function ct(t){const e=ut;return ut=t,e}function lt(t){const e=at;return at=t,e}function ht(t,e=O.Default){if(void 0===ut)throw new Error("inject() must be called from an injection context");return null===ut?pt(t,void 0,e):ut.get(t,e&O.Optional?null:void 0,e)}function ft(t,e=O.Default){return(at||ht)(U(t),e)}function dt(t){throw new Error("invalid")}function pt(t,e,n){const r=x(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${D(t)}]`)}function gt(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=O.Optional:i instanceof y||"SkipSelf"===i.ngMetadataName||i===y?n|=O.SkipSelf:i instanceof v||"Self"===i.ngMetadataName||i===v?n|=O.Self:t=i instanceof m||i===m?i.token:i}e.push(ft(t,n))}else e.push(ft(r))}return e}class mt{get(t,e=rt){if(e===rt){const e=new Error(`NullInjectorError: No provider for ${D(t)}!`);throw e.name="NullInjectorError",e}return e}}class bt{}class vt{}function yt(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function wt(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),wt(r,e)):e!==t&&e.push(r)}return e}function _t(t,e){t.forEach(t=>Array.isArray(t)?_t(t,e):e(t))}function Ot(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Et(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ct(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function St(t,e,n){let r=xt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function It(t,e){const n=xt(t,e);if(n>=0)return t[1|n]}function xt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Tt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),jt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const At={},kt=[];let Pt=0;function Rt(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||jt.Emulated,id:"c",styles:t.styles||kt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Pt++,n.inputs=Ft(t.inputs,e),n.outputs=Ft(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Dt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Lt):null,n})}function Nt(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(Dt),r.pipeDefs=()=>n.map(Lt)}function Dt(t){return zt(t)||Bt(t)}function Lt(t){return Gt(t)}const Vt={};function Mt(t){const e={type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{Vt[t.id]=t.type}),e}function Ut(t,e){return u(()=>{const n=$t(t,!0);n.declarations=e.declarations||kt,n.imports=e.imports||kt,n.exports=e.exports||kt})}function Ft(t,e){if(null==t)return At;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Ht=Rt;function qt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function zt(t){return t[X]||null}function Bt(t){return t[K]||null}function Gt(t){return t[Q]||null}function Wt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}function $t(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${D(t)} does not have '\u0275mod' property.`);return n}const Xt=20,Kt=10;function Qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Jt(t){return Array.isArray(t)&&!0===t[1]}function Zt(t){return 0!=(8&t.flags)}function Yt(t){return 2==(2&t.flags)}function te(t){return 1==(1&t.flags)}function ee(t){return null!==t.template}function ne(t){return 0!=(512&t[2])}function re(t){return"string"==typeof t?t:null==t?"":""+t}function ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}const oe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function se(t){return{name:"window",target:t.ownerDocument.defaultView}}function ae(t){return{name:"document",target:t.ownerDocument}}function ue(t){return{name:"body",target:t.ownerDocument.body}}function ce(t){return t instanceof Function?t():t}function le(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${ie(t)} found${n}`)}class he{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function fe(){return de}function de(t){return t.type.prototype.ngOnChanges&&(t.setInput=ge),pe}function pe(){const t=me(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===At)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ge(t,e,n,r){const i=me(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:At,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new he(u&&u.currentValue,e,s===At),t[r]=e}function me(t){return t.__ngSimpleChanges__||null}fe.ngInherit=!0;const be="http://www.w3.org/2000/svg",ve="http://www.w3.org/1998/MathML/";let ye=void 0;function we(t){ye=t}function _e(){return void 0!==ye?ye:"undefined"!=typeof document?document:void 0}function Oe(t){return!!t.listen}const Ee={createRenderer:(t,e)=>_e()};function Ce(t){for(;Array.isArray(t);)t=t[0];return t}function Se(t,e){return Ce(e[t+Xt])}function Ie(t,e){return Ce(e[t.index])}function xe(t,e){return t.data[e+Xt]}function Te(t,e){return t[e+Xt]}function je(t,e){const n=e[t];return Qt(n)?n:n[0]}function Ae(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ke(t){return 4==(4&t[2])}function Pe(t){return 128==(128&t[2])}function Re(t,e){return null===t||null==e?null:t[e]}function Ne(t){t[18]=0}function De(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Le={lFrame:cn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ve(){return Le.bindingsEnabled}function Me(){Le.bindingsEnabled=!0}function Ue(){Le.bindingsEnabled=!1}function Fe(){return Le.lFrame.lView}function He(){return Le.lFrame.tView}function qe(t){Le.lFrame.contextLView=t}function ze(){return Le.lFrame.currentTNode}function Be(t,e){Le.lFrame.currentTNode=t,Le.lFrame.isParent=e}function Ge(){return Le.lFrame.isParent}function We(){Le.lFrame.isParent=!1}function $e(){return Le.isInCheckNoChangesMode}function Xe(t){Le.isInCheckNoChangesMode=t}function Ke(){const t=Le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qe(){return Le.lFrame.bindingIndex}function Je(t){return Le.lFrame.bindingIndex=t}function Ze(){return Le.lFrame.bindingIndex++}function Ye(t){const e=Le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tn(t,e){const n=Le.lFrame;n.bindingIndex=n.bindingRootIndex=t,en(e)}function en(t){Le.lFrame.currentDirectiveIndex=t}function nn(t){const e=Le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function rn(){return Le.lFrame.currentQueryIndex}function on(t){Le.lFrame.currentQueryIndex=t}function sn(t,e){const n=un();Le.lFrame=n,n.currentTNode=e,n.lView=t}function an(t){const e=un(),n=t[1];Le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function un(){const t=Le.lFrame,e=null===t?null:t.child;return null===e?cn(t):e}function cn(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ln(){const t=Le.lFrame;return Le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const hn=ln;function fn(){const t=ln();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dn(){return Le.lFrame.selectedIndex}function pn(t){Le.lFrame.selectedIndex=t}function gn(){const t=Le.lFrame;return xe(t.tView,t.selectedIndex)}function mn(){Le.lFrame.currentNamespace=be}function bn(){Le.lFrame.currentNamespace=ve}function vn(){Le.lFrame.currentNamespace=null}function yn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function wn(t,e,n){En(t,e,3,n)}function _n(t,e,n,r){(3&t[2])===n&&En(t,e,n,r)}function On(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function En(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Cn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Cn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Sn=-1;class In{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function xn(t,e,n){const r=Oe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];jn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Tn(t){return 3===t||4===t||6===t}function jn(t){return 64===t.charCodeAt(0)}function An(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||kn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function kn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pn(t){return t!==Sn}function Rn(t){return 32767&t}function Nn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Dn=!0;function Ln(t){const e=Dn;return Dn=t,e}let Vn=0;function Mn(t,e){const n=Fn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Un(r.data,t),Un(e,null),Un(r.blueprint,null));const i=Hn(t,e),o=t.injectorIndex;if(Pn(i)){const t=Rn(i),n=Nn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Un(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Hn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Sn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Sn}function qn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(tt)&&(r=n[tt]),null==r&&(r=n[tt]=Vn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function zn(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(tt)?t[tt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){sn(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;le(n)}finally{hn()}}else if("number"==typeof i){if(-1===i)return new Qn(t,e);let o=null,s=Fn(t,e),a=Sn,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?Hn(t,e):e[s+8],a!==Sn&&Kn(r,!1)?(o=e[1],s=Rn(a),e=Nn(a,e)):s=-1);-1!==s;){const t=e[1];if(Xn(i,s,t.data)){const t=Gn(s,e,n,o,r,u);if(t!==Bn)return t}a=e[s+8],a!==Sn&&Kn(r,e[1].data[s+8]===u)&&Xn(i,s,e)?(o=t,s=Rn(a),e=Nn(a,e)):s=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],o=lt(void 0);try{return t?t.get(n,i,r&O.Optional):pt(n,i,r&O.Optional)}finally{lt(o)}}if(r&O.Optional)return i;le(n,"NodeInjector")}const Bn={};function Gn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Wn(a,s,n,null==r?Yt(a)&&Dn:r!=s&&2===a.type,i&O.Host&&o===a);return null!==u?$n(e,s,u,a):Bn}function Wn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ee(t)&&t.type===n)return u}return null}function $n(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof In){const s=i;s.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(ie(o[n]));const a=Ln(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?lt(s.injectImpl):null;sn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=de(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&lt(u),Ln(a),s.resolving=!1,hn()}}return i}function Xn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Kn(t,e){return!(t&O.Self||t&O.Host&&e)}class Qn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return zn(this._tNode,this._lView,t,void 0,e)}}function Jn(t){const e=t;if(F(t))return()=>{const t=Jn(U(e));return t?t():null};let n=Wt(e);if(null===n){const t=j(e);n=t&&t.factory}return n||null}function Zn(t){return u(()=>{const e=t.prototype.constructor,n=e[Y]||Jn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||Jn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Yn(t){return t.ngDebugContext}function tr(t){return t.ngOriginalError}function er(t,...e){t.error(...e)}class nr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Yn(t)?Yn(t):this._findContext(tr(t)):null}_findOriginalError(t){let e=tr(t);for(;e&&tr(e);)e=tr(e);return e}}class rr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class ir extends rr{getTypeName(){return"HTML"}}class or extends rr{getTypeName(){return"Style"}}class sr extends rr{getTypeName(){return"Script"}}class ar extends rr{getTypeName(){return"URL"}}class ur extends rr{getTypeName(){return"ResourceURL"}}function cr(t){return t instanceof rr?t.changingThisBreaksApplicationSecurity:t}function lr(t,e){const n=hr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function hr(t){return t instanceof rr&&t.getTypeName()||null}function fr(t){return new ir(t)}function dr(t){return new or(t)}function pr(t){return new sr(t)}function gr(t){return new ar(t)}function mr(t){return new ur(t)}let br=!0,vr=!1;function yr(){return vr=!0,br}function wr(){if(vr)throw new Error("Cannot enable prod mode after platform setup.");br=!1}function _r(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Or:new Er(t)}class Or{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Er{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Cr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ir(t){return(t=String(t)).match(Cr)||t.match(Sr)?t:(yr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function xr(t){return(t=String(t)).split(",").map(t=>Ir(t.trim())).join(", ")}function Tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function jr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ar=Tr("area,br,col,hr,img,wbr"),kr=Tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pr=Tr("rp,rt"),Rr=jr(Pr,kr),Nr=jr(Ar,jr(kr,Tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jr(Pr,Tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rr),Dr=Tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lr=Tr("srcset"),Vr=jr(Dr,Lr,Tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mr=Tr("script,style,template");class Ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Vr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Dr[i]&&(o=Ir(o)),Lr[i]&&(o=xr(o)),this.buf.push(" ",e,'="',qr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Nr.hasOwnProperty(e)&&!Ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hr=/([^\#-~ |!])/g;function qr(t){return t.replace(/&/g,"&amp;").replace(Fr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Hr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zr;function Br(t,e){let n=null;try{zr=zr||_r(t);let r=e?String(e):"";n=zr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=zr.getInertBodyElement(r)}while(r!==o);const s=new Ur,a=s.sanitizeChildren(Gr(n)||n);return yr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Gr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function $r(t){const e=Yr();return e?e.sanitize(Wr.HTML,t)||"":lr(t,"HTML")?cr(t):Br(_e(),re(t))}function Xr(t){const e=Yr();return e?e.sanitize(Wr.STYLE,t)||"":lr(t,"Style")?cr(t):re(t)}function Kr(t){const e=Yr();return e?e.sanitize(Wr.URL,t)||"":lr(t,"URL")?cr(t):Ir(re(t))}function Qr(t){const e=Yr();if(e)return e.sanitize(Wr.RESOURCE_URL,t)||"";if(lr(t,"ResourceURL"))return cr(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Jr(t){const e=Yr();if(e)return e.sanitize(Wr.SCRIPT,t)||"";if(lr(t,"Script"))return cr(t);throw new Error("unsafe value used in a script context")}function Zr(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Qr:Kr}(e,n)(t)}function Yr(){const t=Fe();return t&&t[12]}function ti(t,e){t.__ngContext__=e}function ei(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ni="ng-template";function ri(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ei(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ii(t){return 0===t.type&&t.tagName!==ni}function oi(t,e,n){return e===(0!==t.type||n?t.tagName:ni)}function si(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Tn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!oi(t,u,n)||""===u&&1===e.length){if(ai(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ri(t.attrs,c,n)){if(ai(r))return!1;s=!0}continue}const l=ui(8&r?"class":u,i,ii(t),n);if(-1===l){if(ai(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ei(e,c,0)||2&r&&c!==t){if(ai(r))return!1;s=!0}}}}else{if(!s&&!ai(r)&&!ai(u))return!1;if(s&&ai(u))continue;s=!1,r=u|1&r}}return ai(r)||s}function ai(t){return 0==(1&t)}function ui(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function li(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function hi(t,e){return t?":not("+e.trim()+")":e}function fi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ai(s)||(e+=hi(o,i),i=""),r=s,o=o||!ai(r);n++}return""!==i&&(e+=hi(o,i)),e}const di={};function pi(t){const e=t[3];return Jt(e)?e[3]:e}function gi(t){return bi(t[13])}function mi(t){return bi(t[4])}function bi(t){for(;null!==t&&!Jt(t);)t=t[4];return t}function vi(t){yi(He(),Fe(),dn()+t,$e())}function yi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&wn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_n(e,r,0,n)}pn(n)}function wi(t,e){return t<<17|e<<2}function _i(t){return t>>17&32767}function Oi(t){return 2|t}function Ei(t){return(131068&t)>>2}function Ci(t,e){return-131069&t|e<<2}function Si(t){return 1|t}function Ii(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];on(i),n.contentQueries(2,e[o],o)}}}function xi(t,e,n){return Oe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ti(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ne(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ji(t,e,n,r,i){const o=e+Xt,s=t.data[o]||function(t,e,n,r,i){const o=ze(),s=Ge(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return Be(s,!0),s}function Ai(t,e,n){an(e);try{const r=t.viewQuery;null!==r&&uo(1,r,n);const i=t.template;null!==i&&Ri(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ii(t,e),t.staticViewQueries&&uo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ro(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,fn()}}function ki(t,e,n,r){const i=e[2];if(256==(256&i))return;an(e);const o=$e();try{Ne(e),Je(t.bindingStartIndex),null!==n&&Ri(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&wn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_n(e,n,0,null),On(e,0)}if(function(t){for(let e=gi(t);null!==e;e=mi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&De(r,1),n[2]|=1024}}}(e),function(t){for(let e=gi(t);null!==e;e=mi(e))for(let t=Kt;t<e.length;t++){const n=e[t],r=n[1];Pe(n)&&ki(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ii(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&wn(e,n)}else{const n=t.contentHooks;null!==n&&_n(e,n,1),On(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,pn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(tn(r,i),s(2,e[i])),i++)}}}finally{pn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)no(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&uo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&wn(e,n)}else{const n=t.viewHooks;null!==n&&_n(e,n,2),On(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,De(e[3],-1))}finally{fn()}}function Pi(t,e,n,r){const i=e[10],o=!$e(),s=ke(e);try{o&&!s&&i.begin&&i.begin(),s&&Ai(t,e,r),ki(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ri(t,e,n,r,i){const o=dn();try{pn(-1),2&r&&e.length>Xt&&yi(t,e,0,$e()),n(r,i)}finally{pn(o)}}function Ni(t,e,n){if(Zt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Di(t,e,n){Ve()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Mn(n,e),ti(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ee(r);o&&Ji(e,n,r);const u=$n(e,t,a,n);ti(u,e),null!==s&&Yi(0,a-i,u,r,0,s),o&&(je(n.index,e)[8]=u)}}(t,e,n,Ie(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Xt,u=Le.lFrame.currentDirectiveIndex;try{pn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];en(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Gi(r,i):s&&o.push(null)}}finally{pn(-1),en(u)}}(t,e,n))}function Li(t,e,n=Ie){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Vi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Mi(t,e,n,r,i,o,s,a,u,c){const l=Xt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ui(t,e,n,r){const i=lo(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Fi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Hi(t,e,n,r,i,o,s,a){const u=Ie(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(po(t,n,c,r,i),Yt(e)&&function(t,e){const n=je(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Oe(o)?o.setProperty(u,r,i):jn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function qi(t,e,n,r){let i=!1;if(Ve()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ci(n,s.selectors,!1)&&(i||(i=[]),qn(Mn(n,e),t,s.type),ee(s)?($i(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Ki(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Wi(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=An(n.mergedAttrs,c.hostAttrs),Qi(t,e,c),Xi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Xt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Xt),u=!0),zi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ii(e)?null:to(n,i);o.push(c),s=Fi(n,u,s),a=Fi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Bi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=An(n.mergedAttrs,n.attrs),i}function zi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Bi(t,e,n){for(let r=0;r<n;r++)e.push(di),t.blueprint.push(di),t.data.push(null)}function Gi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Wi(t,e,n){const r=Xt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function $i(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Xi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ee(e)&&(n[""]=t)}}function Ki(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Wt(n.type)),i=new In(r,ee(n),null);t.blueprint.push(i),e.push(i)}function Ji(t,e,n){const r=Ie(e,t),i=Vi(n),o=t[10],s=io(t,Ti(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Zi(t,e,n,r,i,o){const s=Ie(t,e),a=e[11];if(null==r)Oe(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?re(r):i(r,t.tagName||"",n);Oe(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}function Yi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function to(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function eo(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function no(t,e){const n=je(e,t);if(Pe(n)){const t=n[1];80&n[2]?ki(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=gi(e);null!==r;r=mi(r))for(let e=Kt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];ki(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=je(n[r],e);Pe(i)&&i[5]>0&&t(i)}}(n)}}function ro(t,e){const n=je(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ai(r,n,n[8])}function io(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function oo(t){for(;t;){t[2]|=64;const e=pi(t);if(ne(t)&&!e)return t;t=e}return null}function so(t,e,n){const r=e[10];r.begin&&r.begin();try{ki(t,e,t.template,n)}catch(i){throw fo(e,i),i}finally{r.end&&r.end()}}function ao(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ae(n),i=r[1];Pi(i,r,i.template,n)}}(t[8])}function uo(t,e,n){on(0),e(t,n)}const co=(()=>Promise.resolve(null))();function lo(t){return t[7]||(t[7]=[])}function ho(t,e,n){return(null===t||ee(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function fo(t,e){const n=t[9],r=n?n.get(nr,null):null;r&&r.handleError(e)}function po(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function go(t,e,n){const r=Se(e,t),i=t[11];Oe(i)?i.setValue(r,n):r.textContent=n}function mo(t,e,n,r,i){if(null!=r){let o,s=!1;Jt(r)?o=r:Qt(r)&&(s=!0,r=r[0]);const a=Ce(r);0===t&&null!==n?null==i?Co(e,n,a):Eo(e,n,a,i||null):1===t&&null!==n?Eo(e,n,a,i||null):2===t?jo(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ce(n)&&mo(e,t,r,o,i);for(let s=Kt;s<n.length;s++){const i=n[s];ko(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function bo(t,e){return Oe(e)?e.createText(t):e.createTextNode(t)}function vo(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,De(i,-1)),n.splice(r,1)}function yo(t,e){if(t.length<=Kt)return;const n=Kt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&vo(o,r),e>0&&(t[n-1][4]=r[4]);const s=Et(t,Kt+e);ko(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function wo(t,e){if(!(256&e[2])){const n=e[11];Oe(n)&&n.destroyNode&&ko(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return _o(t[1],t);for(;e;){let n=null;if(Qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Qt(e)&&_o(e[1],e),e=e[3];null===e&&(e=t),Qt(e)&&_o(e[1],e),n=e&&e[4]}e=n}}(e)}}function _o(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof In)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Ce(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Oe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Jt(e[3])){n!==e[3]&&vo(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Oo(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Ie(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==jt.ShadowDom&&n!==jt.Native)return null}return Ie(r,n)}function Eo(t,e,n,r){Oe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Co(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function So(t,e,n,r){null!==r?Eo(t,e,n,r):Co(t,e,n)}function Io(t,e){return Oe(t)?t.parentNode(e):e.parentNode}function xo(t,e){return 3===t.type||4===t.type?Ie(t,e):null}function To(t,e,n,r){const i=Oo(t,r,e);if(null!=i){const t=e[11],o=xo(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)So(t,i,n[e],o);else So(t,i,n,o)}}function jo(t,e,n){const r=Io(t,e);r&&function(t,e,n,r){Oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function Ao(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&ti(Ce(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Ao(t,e,n.child,r,i,o,!1),mo(e,t,i,a,o)):1===u?Ro(t,e,r,n,i,o):mo(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function ko(t,e,n,r,i,o){Ao(n,r,t.firstChild,e,i,o,!1)}function Po(t,e,n){Ro(e[11],0,e,n,Oo(t,n,e),xo(n.parent||e[6],e))}function Ro(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)mo(e,t,i,a[u],o);else Ao(t,e,a,s[3],i,o,!0)}function No(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Do(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Lo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Ce(s)),Jt(s))for(let e=Kt;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=pi(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}wo(this._lView[1],this._lView)}onDestroy(t){Ui(this._lView[1],this._lView,null,t)}markForCheck(){oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){so(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xe(!0);try{so(t,e,n)}finally{Xe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ko(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Vo extends Lo{constructor(t){super(t),this._view=t}detectChanges(){ao(this._view)}checkNoChanges(){!function(t){Xe(!0);try{ao(t)}finally{Xe(!1)}}(this._view)}get context(){return null}}let Mo,Uo,Fo;function Ho(t,e,n){return Mo||(Mo=class extends t{}),new Mo(Ie(e,n))}function qo(t,e,n,r){return Uo||(Uo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ti(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ai(e,n,t),new Lo(n)}}),0===n.type?new Uo(r,n,Ho(e,n,r)):null}function zo(t,e,n,r){let i;Fo||(Fo=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ho(e,this._hostTNode,this._hostView)}get injector(){return new Qn(this._hostTNode,this._hostView)}get parentInjector(){const t=Hn(this._hostTNode,this._hostView);if(Pn(t)){const e=Nn(t,this._hostView),n=Rn(t);return new Qn(e[1].data[n+8],e)}return new Qn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(bt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Jt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Fo(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Kt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Kt?(e[4]=n[i],Ot(n,Kt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Kt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return Ie(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Jt(e)?t(-1,e):Ce(e)}}{const t=n[16],i=t[6],o=pi(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=Io(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ko(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),Ot(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=yo(this._lContainer,e);n&&(Et(this._lContainer[8],e),wo(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=yo(this._lContainer,e);return n&&null!=Et(this._lContainer[8],e)?new Lo(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Jt(o))i=o;else{let t;if(3===n.type)t=Ce(o);else if(t=r[11].createComment(""),ne(r)){const e=r[11],i=Ie(n,r);Eo(e,Io(e,i),t,function(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else To(r[1],r,t,n);r[n.index]=i=eo(o,r,t,n),io(r,i)}return new Fo(i,n,r)}function Bo(t=!1){return function(t,e,n){if(!n&&Yt(t)){const n=je(t.index,e);return new Lo(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Lo(e[16],e):null}(ze(),Fe(),t)}let Go=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Wo(),t})();const Wo=Bo,$o=Function;function Xo(t){return"function"==typeof t}const Ko=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Qo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Jo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Zo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Yo{constructor(t){this._reflect=t||G.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Ct(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Ko.test(n)||Zo.test(n)||Qo.test(n)&&!Jo.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&ts(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(l)&&t[l],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):Ct(t.length)}parameters(t){if(!Xo(t))return[];const e=es(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?ts(t.decorators):t.hasOwnProperty(c)?t[c]:null}annotations(t){if(!Xo(t))return[];const e=es(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=ts(e[t])}),n}return t.hasOwnProperty(h)?t[h]:null}propMetadata(t){if(!Xo(t))return{};const e=es(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Xo(t)&&this._ownPropMetadata(t,es(t))||{}}hasLifecycleHook(t,e){return t instanceof $o&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+D(t)}resourceUri(t){return"./"+D(t)}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function ts(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function es(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}let ns=null;function rs(){return ns=ns||new Yo}function is(t){return function(t){const e=$();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const o=e[i];if(void 0===o)continue;const s=Object.getPrototypeOf(o);if(o instanceof b||"Optional"===s.ngMetadataName)n.optional=!0;else if(o instanceof y||"SkipSelf"===s.ngMetadataName)n.skipSelf=!0;else if(o instanceof v||"Self"===s.ngMetadataName)n.self=!0;else if(o instanceof w||"Host"===s.ngMetadataName)n.host=!0;else if(o instanceof m)n.token=o.token;else if(o instanceof _){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else o===Go?(n.token=o,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=W.Invalid):r(e);return n}(e,t))}(rs().parameters(t))}const os=new et("Set Injector scope."),ss={},as={},us=[];let cs=void 0;function ls(){return void 0===cs&&(cs=new mt),cs}function hs(t,e=null,n=null,r){return new fs(t,n,e||ls(),r)}class fs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&_t(e,n=>this.processProvider(n,t,e)),_t([t],t=>this.processInjectorType(t,[],i)),this.records.set(nt,gs(void 0,this));const o=this.records.get(os);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:D(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=rt,n=O.Default){this.assertNotDestroyed();const r=ct(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof et)&&x(t);e=n&&this.injectableDefInScope(n)?gs(ds(t),ss):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?ls():this.parent).get(t,e=n&O.Optional&&e===rt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(D(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[ot]&&i.unshift(e[ot]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=D(e);if(Array.isArray(e))i=e.map(D).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):D(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(it,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ct(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(D(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=U(t)))return!1;let r=j(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=j(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{_t(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];_t(r,t=>this.processProvider(t,n,r||us))}}this.injectorDefTypes.add(o),this.records.set(o,gs(r.factory,ss));const a=r.providers;if(null!=a&&!s){const e=t;_t(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=bs(t=U(t))?t:U(t&&t.provide);const i=function(t,e,n){return ms(t)?gs(void 0,t.useValue):gs(ps(t),ss)}(t);if(bs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=gs(void 0,ss,!0),e.factory=()=>gt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ss&&(e.value=as,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ds(t){const e=x(t),n=null!==e?e.factory:Wt(t);if(null!==n)return n;const r=j(t);if(null!==r)return r.factory;if(t instanceof et)throw new Error(`Token ${D(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Ct(e,"?");throw new Error(`Can't resolve all parameters for ${D(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[R]||t[P]&&t[P]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ps(t,e,n){let r=void 0;if(bs(t)){const e=U(t);return Wt(e)||ds(e)}if(ms(t))r=()=>U(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...gt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ft(U(t.useExisting));else{const e=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Wt(e)||ds(e);r=()=>new e(...gt(t.deps))}var i;return r}function gs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ms(t){return null!==t&&"object"==typeof t&&st in t}function bs(t){return"function"==typeof t}const vs=function(t,e,n){return function(t,e=null,n=null,r){const i=hs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ys=(()=>{class t{static create(t,e){return Array.isArray(t)?vs(t,e,""):vs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=rt,t.NULL=new mt,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>ft(nt)}),t.__NG_ELEMENT_ID__=-1,t})();const ws=new et("AnalyzeForEntryComponents");let _s=new Map;const Os=new Set;function Es(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function Cs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=L(i,t):2==o&&(r=L(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ss(t,e){const n=Ae(t)[1],r=n.data.length-1;yn(n,{directiveStart:r,directiveEnd:r+1})}function Is(t){return Object.getPrototypeOf(t.prototype).constructor}function xs(t){let e=Is(t.type),n=!0;const r=[t];for(;e;){let i=void 0;if(ee(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ts(t.inputs),e.declaredInputs=Ts(t.declaredInputs),e.outputs=Ts(t.outputs);const n=i.hostBindings;n&&ks(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&js(t,o),s&&As(t,s),C(t.inputs,i.inputs),C(t.declaredInputs,i.declaredInputs),C(t.outputs,i.outputs),ee(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===xs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=An(i.hostAttrs,n=An(n,i.hostAttrs))}}(r)}function Ts(t){return t===At?{}:t===kt?[]:t}function js(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function As(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ks(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Ps=["providersResolver"],Rs=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ns(t){let e=Is(t.type),n=void 0;n=ee(t)?e.\u0275cmp:e.\u0275dir;const r=t;for(const i of Ps)r[i]=n[i];if(ee(n))for(const i of Rs)r[i]=n[i]}let Ds=null;function Ls(){if(!Ds){const t=G.Symbol;if(t&&t.iterator)Ds=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ds=n)}}}return Ds}class Vs{constructor(t){this.wrapped=t}static wrap(t){return new Vs(t)}static unwrap(t){return Vs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Vs}}function Ms(t){return!!Us(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ls()in t)}function Us(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fs(t,e,n){return t[e]=n}function Hs(t,e){return t[e]}function qs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function zs(t,e,n,r){const i=qs(t,e,n);return qs(t,e+1,r)||i}function Bs(t,e,n,r,i){const o=zs(t,e,n,r);return qs(t,e+2,i)||o}function Gs(t,e,n,r,i,o){const s=zs(t,e,n,r);return zs(t,e+2,i,o)||s}function Ws(t,e,n,r){const i=Fe();return qs(i,Ze(),e)&&(He(),Zi(gn(),i,t,e,n,r)),Ws}function $s(t,e){let n=!1,r=Qe();for(let o=1;o<e.length;o+=2)n=qs(t,r++,e[o])||n;if(Je(r),!n)return di;let i=e[0];for(let o=1;o<e.length;o+=2)i+=re(e[o])+e[o+1];return i}function Xs(t,e,n,r){return qs(t,Ze(),n)?e+re(n)+r:di}function Ks(t,e,n,r,i,o){const s=zs(t,Qe(),n,i);return Ye(2),s?e+re(n)+r+re(i)+o:di}function Qs(t,e,n,r,i,o,s,a){const u=Bs(t,Qe(),n,i,s);return Ye(3),u?e+re(n)+r+re(i)+o+re(s)+a:di}function Js(t,e,n,r,i,o,s,a,u,c){const l=Gs(t,Qe(),n,i,s,u);return Ye(4),l?e+re(n)+r+re(i)+o+re(s)+a+re(u)+c:di}function Zs(t,e,n,r,i,o,s,a,u,c,l,h){const f=Qe();let d=Gs(t,f,n,i,s,u);return d=qs(t,f+4,l)||d,Ye(5),d?e+re(n)+r+re(i)+o+re(s)+a+re(u)+c+re(l)+h:di}function Ys(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=Qe();let g=Gs(t,p,n,i,s,u);return g=zs(t,p+4,l,f)||g,Ye(6),g?e+re(n)+r+re(i)+o+re(s)+a+re(u)+c+re(l)+h+re(f)+d:di}function ta(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=Qe();let b=Gs(t,m,n,i,s,u);return b=Bs(t,m+4,l,f,p)||b,Ye(7),b?e+re(n)+r+re(i)+o+re(s)+a+re(u)+c+re(l)+h+re(f)+d+re(p)+g:di}function ea(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b){const v=Qe();let y=Gs(t,v,n,i,s,u);return y=Gs(t,v+4,l,f,p,m)||y,Ye(8),y?e+re(n)+r+re(i)+o+re(s)+a+re(u)+c+re(l)+h+re(f)+d+re(p)+g+re(m)+b:di}function na(t,e,n,r,i,o){const s=Fe(),a=Xs(s,e,n,r);return a!==di&&Zi(gn(),s,t,a,i,o),na}function ra(t,e,n,r,i,o,s,a){const u=Fe(),c=Ks(u,e,n,r,i,o);return c!==di&&Zi(gn(),u,t,c,s,a),ra}function ia(t,e,n,r,i,o,s,a,u,c){const l=Fe(),h=Qs(l,e,n,r,i,o,s,a);return h!==di&&Zi(gn(),l,t,h,u,c),ia}function oa(t,e,n,r,i,o,s,a,u,c,l,h){const f=Fe(),d=Js(f,e,n,r,i,o,s,a,u,c);return d!==di&&Zi(gn(),f,t,d,l,h),oa}function sa(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=Fe(),g=Zs(p,e,n,r,i,o,s,a,u,c,l,h);return g!==di&&Zi(gn(),p,t,g,f,d),sa}function aa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=Fe(),b=Ys(m,e,n,r,i,o,s,a,u,c,l,h,f,d);return b!==di&&Zi(gn(),m,t,b,p,g),aa}function ua(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b){const v=Fe(),y=ta(v,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return y!==di&&Zi(gn(),v,t,y,m,b),ua}function ca(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b,v,y){const w=Fe(),_=ea(w,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b);return _!==di&&Zi(gn(),w,t,_,v,y),ca}function la(t,e,n,r){const i=Fe(),o=$s(i,e);return o!==di&&Zi(gn(),i,t,o,n,r),la}function ha(t,e,n,r,i,o,s,a){const u=Fe(),c=He(),l=t+Xt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ji(e,t,0,s||null,Re(c,a));qi(e,n,l,Re(c,u)),yn(e,l);const h=l.tViews=Mi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Be(h,!1);const f=u[11].createComment("");To(c,u,f,h),ti(f,u),io(u,u[l]=eo(f,u,f,h)),te(h)&&Di(c,u,h),null!=s&&Li(u,h,a)}function fa(t){return Te(Le.lFrame.contextLView,t)}function da(t,e=O.Default){const n=Fe();return null===n?ft(t,e):zn(ze(),n,U(t),e)}function pa(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Tn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ze(),t)}function ga(){throw new Error("invalid")}function ma(t,e,n){const r=Fe();return qs(r,Ze(),e)&&Hi(He(),gn(),r,t,e,r[11],n,!1),ma}function ba(t,e,n,r,i){const o=i?"class":"style";po(t,n,e.inputs[o],o,r)}function va(t,e,n,r){const i=Fe(),o=He(),s=Xt+t,a=i[11],u=i[s]=xi(e,a,Le.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ji(e,t,2,i,Re(a,o));return qi(e,n,u,Re(a,s)),null!==u.attrs&&Cs(u,u.attrs,!1),null!==u.mergedAttrs&&Cs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];Be(c,!0);const l=c.mergedAttrs;null!==l&&xn(a,u,l);const h=c.classes;null!==h&&Do(a,u,h);const f=c.styles;null!==f&&No(a,u,f),To(o,i,u,c),0===Le.lFrame.elementDepthCount&&ti(u,i),Le.lFrame.elementDepthCount++,te(c)&&(Di(o,i,c),Ni(o,c,i)),null!==r&&Li(i,c)}function ya(){let t=ze();Ge()?We():(t=t.parent,Be(t,!1));const e=t;Le.lFrame.elementDepthCount--;const n=He();n.firstCreatePass&&(yn(n,t),Zt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ba(n,e,Fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ba(n,e,Fe(),e.stylesWithoutHost,!1)}function wa(t,e,n,r){va(t,e,n,r),ya()}function _a(t,e,n){const r=Fe(),i=He(),o=t+Xt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Re(o,r),a=ji(e,t,3,"ng-container",s);return null!==s&&Cs(a,s,!0),qi(e,n,a,Re(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];Be(s,!0);const a=r[o]=r[11].createComment("");To(i,r,a,s),ti(a,r),te(s)&&(Di(i,r,s),Ni(i,s,r)),null!=n&&Li(r,s)}function Oa(){let t=ze();const e=He();Ge()?We():(t=t.parent,Be(t,!1)),e.firstCreatePass&&(yn(e,t),Zt(t)&&e.queries.elementEnd(t))}function Ea(t,e,n){_a(t,e,n),Oa()}function Ca(){return Fe()}function Sa(t){return!!t&&"function"==typeof t.then}function Ia(t){return!!t&&"function"==typeof t.subscribe}function xa(t,e,n=!1,r){const i=Fe(),o=He(),s=ze();return ja(o,i,i[11],s,t,e,n,r),xa}function Ta(t,e,n=!1,r){const i=ze(),o=Fe(),s=He();return ja(s,o,ho(nn(s.data),i,o),i,t,e,n,r),Ta}function ja(t,e,n,r,i,o,s=!1,a){const u=te(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=lo(e);let h=!0;if(2===r.type){const f=Ie(r,e),d=a?a(f):At,p=d.target||f,g=l.length,m=a?t=>a(Ce(t[r.index])).target:r.index;if(Oe(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ka(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=ka(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function Aa(t,e,n){try{return!1!==e(n)}catch(r){return fo(t,r),!1}}function ka(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?je(t.index,e):e;0==(32&e[2])&&oo(s);let a=Aa(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Aa(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Pa(t=1){return function(t){return(Le.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Le.lFrame.contextLView))[8]}(t)}function Ra(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ci(t,o,!0):li(r,o))return i}else n=i}return n}function Na(t){const e=Fe()[16][6];if(!e.projection){const n=e.projection=Ct(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ra(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let Da=!1;function La(t){Da=t}function Va(t,e=0,n){const r=Fe(),i=He(),o=ji(i,t,1,null,n||null);null===o.projection&&(o.projection=e),We(),Da||Po(i,r,o)}function Ma(t,e,n){return Ua(t,"",e,"",n),Ma}function Ua(t,e,n,r,i){const o=Fe(),s=Xs(o,e,n,r);return s!==di&&Hi(He(),gn(),o,t,s,o[11],i,!1),Ua}function Fa(t,e,n,r,i,o,s){const a=Fe(),u=Ks(a,e,n,r,i,o);return u!==di&&Hi(He(),gn(),a,t,u,a[11],s,!1),Fa}function Ha(t,e,n,r,i,o,s,a,u){const c=Fe(),l=Qs(c,e,n,r,i,o,s,a);return l!==di&&Hi(He(),gn(),c,t,l,c[11],u,!1),Ha}function qa(t,e,n,r,i,o,s,a,u,c,l){const h=Fe(),f=Js(h,e,n,r,i,o,s,a,u,c);return f!==di&&Hi(He(),gn(),h,t,f,h[11],l,!1),qa}function za(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Fe(),p=Zs(d,e,n,r,i,o,s,a,u,c,l,h);return p!==di&&Hi(He(),gn(),d,t,p,d[11],f,!1),za}function Ba(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Fe(),m=Ys(g,e,n,r,i,o,s,a,u,c,l,h,f,d);return m!==di&&Hi(He(),gn(),g,t,m,g[11],p,!1),Ba}function Ga(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const b=Fe(),v=ta(b,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return v!==di&&Hi(He(),gn(),b,t,v,b[11],m,!1),Ga}function Wa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b,v){const y=Fe(),w=ea(y,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b);return w!==di&&Hi(He(),gn(),y,t,w,y[11],v,!1),Wa}function $a(t,e,n){const r=Fe(),i=$s(r,e);return i!==di&&Hi(He(),gn(),r,t,i,r[11],n,!1),$a}const Xa=[];function Ka(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?_i(o):Ei(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Qa(t[a],e)&&(u=!0,t[a+1]=r?Si(n):Oi(n)),a=r?_i(n):Ei(n)}u&&(t[n+1]=r?Oi(o):Si(o))}function Qa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&xt(t,e)>=0}const Ja={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Za(t){return t.substring(Ja.key,Ja.keyEnd)}function Ya(t){return t.substring(Ja.value,Ja.valueEnd)}function tu(t,e){const n=Ja.textEnd;return n===e?-1:(e=Ja.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ja.key=e,n),ru(t,e,n))}function eu(t,e){const n=Ja.textEnd;let r=Ja.key=ru(t,e,n);return n===r?-1:(r=Ja.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=iu(t,r,n),r=Ja.value=ru(t,r,n),r=Ja.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=ou(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=ou(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),iu(t,r,n))}function nu(t){Ja.key=0,Ja.keyEnd=0,Ja.value=0,Ja.valueEnd=0,Ja.textEnd=t.length}function ru(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function iu(t,e,n,r){return(e=ru(t,e,n))<n&&e++,e}function ou(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function su(t,e,n){return fu(t,e,n,!1),su}function au(t,e){return fu(t,e,null,!0),au}function uu(t){du(vu,cu,t,!1)}function cu(t,e){for(let n=function(t){return nu(t),eu(t,ru(t,0,Ja.textEnd))}(e);n>=0;n=eu(e,n))vu(t,Za(e),Ya(e))}function lu(t){du(St,hu,t,!0)}function hu(t,e){for(let n=function(t){return nu(t),tu(t,ru(t,0,Ja.textEnd))}(e);n>=0;n=tu(e,n))St(t,Za(e),!0)}function fu(t,e,n,r){const i=Fe(),o=He(),s=Ye(2);o.firstUpdatePass&&gu(o,t,s,r),e!==di&&qs(i,s,e)&&yu(o,o.data[dn()+Xt],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=D(cr(t)))),t}(e,n),r,s)}function du(t,e,n,r){const i=He(),o=Ye(2);i.firstUpdatePass&&gu(i,null,o,r);const s=Fe();if(n!==di&&qs(s,o,n)){const a=i.data[dn()+Xt];if(Ou(a,r)&&!pu(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=L(t,n||"")),ba(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===di&&(i=Xa);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&yu(t,e,n,r,p,g,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Xa;const r=[],i=cr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function pu(t,e){return e>=t.expandoStartIndex}function gu(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[dn()+Xt],s=pu(t,n);Ou(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=nn(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bu(n=mu(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=mu(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ei(r))return t[_i(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=mu(null,t,e,n[1],r),n=bu(n,e.attrs,r),function(t,e,n,r){t[_i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=bu(r,t[o].hostAttrs,n);return bu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_i(s),u=Ei(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||xt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=_i(t[a+1]);t[r+1]=wi(e,a),0!==e&&(t[e+1]=Ci(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=wi(a,0),0!==a&&(t[a+1]=Ci(t[a+1],r)),a=r;else t[r+1]=wi(u,0),0===a?a=r:t[u+1]=Ci(t[u+1],r),u=r;l&&(t[r+1]=Oi(t[r+1])),Ka(t,c,r,!0),Ka(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&xt(o,e)>=0&&(n[r+1]=Si(n[r+1]))}(e,c,t,r,o),s=wi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function mu(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=bu(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),St(t,s,!!n||e[++o]))}return void 0===t?null:t}function vu(t,e,n){St(t,e,cr(n))}function yu(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];_u(1==(1&c)?wu(u,e,n,i,Ei(c),s):void 0)||(_u(o)||2==(2&c)&&(o=wu(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Oe(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Se(dn(),n),i,o))}function wu(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===di&&(l=c?Xa:void 0);let h=c?It(l,r):u===r?l:void 0;if(o&&!_u(h)&&(h=It(e,r)),_u(h)&&(a=h,s))return a;const f=t[i+1];i=s?_i(f):Ei(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=It(t,r))}return a}function _u(t){return void 0!==t}function Ou(t,e){return 0!=(t.flags&(e?16:32))}function Eu(t,e=""){const n=Fe(),r=He(),i=t+Xt,o=r.firstCreatePass?ji(r,t,2,null,null):r.data[i],s=n[i]=bo(e,n[11]);To(r,n,s,o),Be(o,!1)}function Cu(t){return Su("",t,""),Cu}function Su(t,e,n){const r=Fe(),i=Xs(r,t,e,n);return i!==di&&go(r,dn(),i),Su}function Iu(t,e,n,r,i){const o=Fe(),s=Ks(o,t,e,n,r,i);return s!==di&&go(o,dn(),s),Iu}function xu(t,e,n,r,i,o,s){const a=Fe(),u=Qs(a,t,e,n,r,i,o,s);return u!==di&&go(a,dn(),u),xu}function Tu(t,e,n,r,i,o,s,a,u){const c=Fe(),l=Js(c,t,e,n,r,i,o,s,a,u);return l!==di&&go(c,dn(),l),Tu}function ju(t,e,n,r,i,o,s,a,u,c,l){const h=Fe(),f=Zs(h,t,e,n,r,i,o,s,a,u,c,l);return f!==di&&go(h,dn(),f),ju}function Au(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Fe(),p=Ys(d,t,e,n,r,i,o,s,a,u,c,l,h,f);return p!==di&&go(d,dn(),p),Au}function ku(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Fe(),m=ta(g,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p);return m!==di&&go(g,dn(),m),ku}function Pu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const b=Fe(),v=ea(b,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m);return v!==di&&go(b,dn(),v),Pu}function Ru(t){const e=Fe(),n=$s(e,t);return n!==di&&go(e,dn(),n),Ru}function Nu(t,e,n){du(St,hu,Xs(Fe(),t,e,n),!0)}function Du(t,e,n,r,i){du(St,hu,Ks(Fe(),t,e,n,r,i),!0)}function Lu(t,e,n,r,i,o,s){du(St,hu,Qs(Fe(),t,e,n,r,i,o,s),!0)}function Vu(t,e,n,r,i,o,s,a,u){du(St,hu,Js(Fe(),t,e,n,r,i,o,s,a,u),!0)}function Mu(t,e,n,r,i,o,s,a,u,c,l){du(St,hu,Zs(Fe(),t,e,n,r,i,o,s,a,u,c,l),!0)}function Uu(t,e,n,r,i,o,s,a,u,c,l,h,f){du(St,hu,Ys(Fe(),t,e,n,r,i,o,s,a,u,c,l,h,f),!0)}function Fu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){du(St,hu,ta(Fe(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p),!0)}function Hu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){du(St,hu,ea(Fe(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m),!0)}function qu(t){du(St,hu,$s(Fe(),t),!0)}function zu(t,e,n){uu(Xs(Fe(),t,e,n))}function Bu(t,e,n,r,i){uu(Ks(Fe(),t,e,n,r,i))}function Gu(t,e,n,r,i,o,s){uu(Qs(Fe(),t,e,n,r,i,o,s))}function Wu(t,e,n,r,i,o,s,a,u){uu(Js(Fe(),t,e,n,r,i,o,s,a,u))}function $u(t,e,n,r,i,o,s,a,u,c,l){uu(Zs(Fe(),t,e,n,r,i,o,s,a,u,c,l))}function Xu(t,e,n,r,i,o,s,a,u,c,l,h,f){uu(Ys(Fe(),t,e,n,r,i,o,s,a,u,c,l,h,f))}function Ku(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){uu(ta(Fe(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p))}function Qu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){uu(ea(Fe(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m))}function Ju(t){uu($s(Fe(),t))}function Zu(t,e,n,r,i){return fu(t,Xs(Fe(),e,n,r),i,!1),Zu}function Yu(t,e,n,r,i,o,s){return fu(t,Ks(Fe(),e,n,r,i,o),s,!1),Yu}function tc(t,e,n,r,i,o,s,a,u){return fu(t,Qs(Fe(),e,n,r,i,o,s,a),u,!1),tc}function ec(t,e,n,r,i,o,s,a,u,c,l){return fu(t,Js(Fe(),e,n,r,i,o,s,a,u,c),l,!1),ec}function nc(t,e,n,r,i,o,s,a,u,c,l,h,f){return fu(t,Zs(Fe(),e,n,r,i,o,s,a,u,c,l,h),f,!1),nc}function rc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){return fu(t,Ys(Fe(),e,n,r,i,o,s,a,u,c,l,h,f,d),p,!1),rc}function ic(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){return fu(t,ta(Fe(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g),m,!1),ic}function oc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b,v){return fu(t,ea(Fe(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,b),v,!1),oc}function sc(t,e,n){return fu(t,$s(Fe(),e),n,!1),sc}function ac(t,e,n){const r=Fe();return qs(r,Ze(),e)&&Hi(He(),gn(),r,t,e,r[11],n,!0),ac}function uc(t,e,n){const r=Fe();if(qs(r,Ze(),e)){const i=He(),o=gn();Hi(i,o,r,t,e,ho(nn(i.data),o,r),n,!0)}return uc}const cc=void 0;var lc=["en",[["a","p"],["AM","PM"],cc],[["AM","PM"],cc,cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cc,"{1} 'at' {0}",cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let hc={};function fc(t,e,n){"string"!=typeof e&&(n=e,e=t[bc.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),hc[e]=t,n&&(hc[e][bc.ExtraData]=n)}function dc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=mc(e);if(n)return n;const r=e.split("-")[0];if(n=mc(r),n)return n;if("en"===r)return lc;throw new Error(`Missing locale data for the locale "${t}".`)}function pc(t){return dc(t)[bc.CurrencyCode]||null}function gc(t){return dc(t)[bc.PluralCase]}function mc(t){return t in hc||(hc[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),hc[t]}var bc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const vc=["zero","one","two","few","many"],yc="en-US",wc={marker:"element"},_c={marker:"comment"};let Oc=yc;function Ec(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Oc=t.toLowerCase().replace(/_/g,"-"))}const Cc=[];let Sc=-1,Ic=0,xc=0;function Tc(t,e,n,r){const i=r[11];let o=null,s=null;const a=[];for(let u=0;u<n.length;u++){const c=n[u];if("string"==typeof c){const e=bo(c,i),l=n[++u];s=o,o=Nc(t,r,l,2,e,null),a.push(l),We()}else if("number"==typeof c)switch(7&c){case 1:const i=c>>>17;let l;l=i===e?r[6]:xe(t,i),s=Pc(t,o,l,s,r);break;case 0:const h=c>=0,f=(h?c:~c)>>>3;a.push(f),s=o,o=xe(t,f),o&&Be(o,h);break;case 5:s=o=xe(t,c>>>3),Be(o,!1);break;case 4:const d=n[++u],p=n[++u];Zi(xe(t,c>>>3),r,d,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case _c:const e=n[++u],l=n[++u],h=i.createComment(e);s=o,o=Nc(t,r,l,4,h,null),a.push(l),ti(h,r),We();break;case wc:const f=n[++u],d=n[++u];s=o,o=Nc(t,r,d,2,i.createElement(f),f),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return We(),a}function jc(t,e,n,r,i,o){let s=!1;for(let a=0;a<r.length;a++){const u=r[a],c=r[++a];if(u&o){let o="";for(let u=a+1;u<=a+c;u++){const a=r[u];if("string"==typeof a)o+=a;else if("number"==typeof a)if(a<0)o+=re(n[i-a]);else{const c=a>>>2;switch(3&a){case 1:const a=r[++u],l=r[++u];Hi(t,xe(t,c),n,a,o,n[11],l,!1);break;case 0:go(n,c,o);break;case 2:s=kc(t,e,r[++u],n,o);break;case 3:Ac(t,e,r[++u],i,n,s)}}}}a+=c}}function Ac(t,e,n,r,i,o){const s=e[n],a=i[s.currentCaseLViewIndex];null!==a&&jc(t,e,i,s.update[a],r,o?-1:Ic)}function kc(t,e,n,r,i){!function t(e,n,r,i){const o=n[r],s=i[o.currentCaseLViewIndex];if(null!==s){const r=o.remove[s];for(let o=0;o<r.length;o++){const s=r[o],a=s>>>3;switch(7&s){case 3:Rc(e,i,a,!1);break;case 6:t(e,n,a,i)}}}}(t,e,n,r);let o=!1;const s=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=gc(e)(parseInt(t,10)),r=vc[n];return void 0!==r?r:"other"}(e,Oc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(s,i);return r[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(Tc(t,-1,s.create[a],r),o=!0),o}function Pc(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let s=e.next;for(;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return Po(t,i,e),e;To(t,i,Ie(e,i),e);const a=i[e.index];return 0!==e.type&&Jt(a)&&To(t,i,a[7],e),e}function Rc(t,e,n,r){const i=xe(t,n),o=Se(n,e);o&&jo(e[11],o);const s=Te(e,n);if(Jt(s)){const t=s;0!==i.type&&jo(e[11],t[7])}r&&i&&(i.flags|=64)}function Nc(t,e,n,r,i,o){const s=ze();e[n+Xt]=i;const a=ji(t,n,r,o,null);return s&&s.next===a&&(s.next=null),a}const Dc=/\ufffd(\d+):?\d*\ufffd/gi,Lc=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Vc=/\ufffd(\d+)\ufffd/,Mc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let Uc;const Fc=[],Hc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qc=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,zc=/\uE500/g;function Bc(t,e,n,r=null){const i=[null,null],o=t.split(Dc);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=$c(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Gc(t,e=0){let n;e|=$c(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=Dc.exec(r);)e|=$c(parseInt(n[1],10));else e=Gc(r,e)}}return e}function Wc(t){return t+Uc++}function $c(t){return 1<<Math.min(t,31)}function Xc(t){return void 0===t}function Kc(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Hc.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function Qc(t,e,n,r){const i=[],o=[],s=[],a=[],u=[],c=e.values;for(let l=0;l<c.length;l++){const e=c[l],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const f=Zc(e.join(""),n,h,t,r);i.push(f.create),o.push(f.remove),s.push(f.update),a.push(f.vars),u.push(f.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:Xt+r+1,childIcus:u,cases:e.cases,create:i,remove:o,update:s}),Uc+=Math.max(...a)}function Jc(t){const e=[],n=[];let r=1,i=0;const o=Yc(t=t.replace(Mc,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Yc(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Zc(t,e,n,r,i){const o=_r(_e()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){const a=[];for(;e;){const u=e.nextSibling,c=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const u=e,l=u.tagName.toLowerCase();if(Nr.hasOwnProperty(l)){n.create.push(wc,l,c,r<<17|1);const a=u.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(Dc)?Vr.hasOwnProperty(r)&&yt(Dr[r]?Bc(e.value,c,e.name,Ir):Lr[r]?Bc(e.value,c,e.name,xr):Bc(e.value,c,e.name),n.update):n.create.push(c<<3|4,e.name,e.value)}t(e.firstChild,n,c,i,o,s),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",f=h.match(Dc);n.create.push(f?"":h,c,r<<17|1),n.remove.push(c<<3|3),f&&yt(Bc(h,c),n.update);break;case Node.COMMENT_NODE:const d=Vc.exec(e.textContent||"");if(d){const t=parseInt(d[1],10);n.create.push(_c,"",c,r<<17|1),a.push([i[t],c])}else n.vars--;break;default:n.vars--}e=u}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Qc(o,e,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const u=Gc(e);n.update.push($c(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Gr(o)||o).firstChild,s,e,n,r,i),s}function Yc(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Mc.test(n)?r.push(Jc(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}const tl=/\[(\ufffd.+?\ufffd?)\]/,el=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,nl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,rl=/{([A-Z0-9_]+)}/g,il=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,ol=/\/\*/,sl=/\d+\:(\d+)/;function al(t,e,n){const r=He(),i=Re(r.consts,e);!function(t){Cc[++Sc]=t}(t),La(!0),r.firstCreatePass&&null===r.data[t+Xt]&&function(t,e,n,r,i){const o=e.blueprint.length-Xt;Uc=0;const s=ze(),a=Ge()?s:s&&s.parent;let u=a&&a!==t[6]?a.index-Xt:n,c=0;Fc[c]=u;const l=[];if(n>0&&s!==a){let t=s.index-Xt;Ge()||(t=~t),l.push(t<<3|0)}const h=[],f=[];if(""===r&&Xc(i))l.push(r,Wc(o),u<<17|1);else{const t=function(t,e){if(Xc(e))return Kc(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Kc(t.substring(n,r))}}(r,i),e=(d=t,d.replace(zc," ")).split(qc);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);u=Fc[--c],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,u<<17|1),e&&(Fc[++c]=u=t)}else{const e=Yc(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Wc(o);l.push(_c,"",i,u<<17|1);const s=Gc(r);Qc(f,r,i,i);const a=f.length-1;h.push($c(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(Dc),i=Wc(o);l.push(r?"":t,i,u<<17|1),r&&yt(Bc(t,i),h)}}}}var d;Uc>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,Uc),e.data[n+Xt]={vars:Uc,create:l,update:h,icus:f.length?f:null}}(Fe(),r,t,i,n)}function ul(){const t=Fe();(function(t,e){const n=Cc[Sc--],r=t.data[n+Xt],i=ze(),o=Tc(t,n,r.create,e);let s=n+1;for(;null!==i&&s<=i.index-Xt;){-1===o.indexOf(s)&&Rc(t,e,s,!0);const n=xe(t,s);!n||0!==n.type&&2!==n.type&&3!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}})(He(),t),La(!1)}function cl(t,e,n){al(t,e,n),ul()}function ll(t,e){const n=Fe(),r=He();!function(t,e,n,r){const i=ze().index-Xt,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],u=r[s+1].split(Lc);for(let r=0;r<u.length;r++){const s=u[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(Dc))e.firstCreatePass&&null===e.data[n+Xt]&&yt(Bc(s,i,a),o);else{const n=xe(e,i);2===n.type&&Zi(n,t,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&po(e,t,r,a,s)}}}e.firstCreatePass&&null===e.data[n+Xt]&&(e.data[n+Xt]=o)}(n,r,t,Re(r.consts,e))}function hl(t){return qs(Fe(),Ze(),t)&&(Ic|=1<<xc),xc++,hl}function fl(t){!function(t,e,n){if(xc>0){const r=t.data[n+Xt];let i,o=null;Array.isArray(r)?i=r:(i=r.update,o=r.icus),jc(t,o,e,i,Qe()-xc-1,Ic),Ic=0,xc=0}}(He(),Fe(),t)}function dl(t,e={}){return function(t,e={}){let n=t;if(tl.test(t)){const t={},e=[0];n=n.replace(el,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(sl),n=e?parseInt(e[1],10):0,r=ol.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);const a=e[e.length-1];let u=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){u=t;break}const[c,l,h]=s[u];return l?e.pop():a!==c&&e.push(c),s.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(nl,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace(rl,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(il,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function pl(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let o=0;o<t.length;o++)pl(t[o],e,n,r,i);else{const o=He(),s=Fe();let a=bs(t)?t:U(t.provide),u=ps(t);const c=ze(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(bs(t)||!t.multi){const r=new In(u,i,da),d=bl(a,e,i?l:l+f,h);-1===d?(qn(Mn(c,s),o,a),gl(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=bl(a,e,l+f,h),p=bl(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){qn(Mn(c,s),o,a);const l=function(t,e,n,r,i){const o=new In(t,n,da);return o.multi=[],o.index=e,o.componentProviders=0,ml(o,i,r&&!n),o}(i?yl:vl,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),gl(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else gl(o,t,d>-1?d:p,ml(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function gl(t,e,n,r){const i=bs(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ml(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vl(t,e,n,r){return wl(this.multi,[])}function yl(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$n(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),wl(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],wl(i,o);return o}function wl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _l(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=He();if(r.firstCreatePass){const i=ee(t);pl(n,r.data,r.blueprint,i,!0),pl(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ol{}class El{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${D(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Cl=(()=>{class t{}return t.NULL=new El,t})(),Sl=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Il(t),t})();const Il=function(t){return Ho(t,ze(),Fe())};class xl{}var Tl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let jl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Al(),t})();const Al=function(){const t=Fe(),e=je(ze().index,t);return function(t){const e=t[11];if(Oe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Qt(e)?e:t)};let kl=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Pl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rl=new Pl("10.2.4");class Nl{constructor(){}supports(t){return Ms(t)}create(t){return new Ll(t)}}const Dl=(t,e)=>e;class Ll{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Dl}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Fl(n,r,i)?e:n,s=Fl(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ms(t))throw new Error(`Error trying to diff '${D(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ls()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Vl(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ul),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ul),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vl{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ml{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ul{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ml,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fl(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Hl{constructor(){}supports(t){return t instanceof Map||Us(t)}create(){return new ql}}class ql{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Us(t)))throw new Error(`Error trying to diff '${D(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new zl(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class zl{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Bl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new y,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Nl])}),t})(),Gl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new y,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Hl])}),t})();const Wl=[new Hl],$l=new Bl([new Nl]),Xl=new Gl(Wl);let Kl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ql(t,Sl),t})();const Ql=function(t,e){return qo(t,e,ze(),Fe())};let Jl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zl(t,Sl),t})();const Zl=function(t,e){return zo(t,e,ze(),Fe())},Yl={};class th extends Cl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=zt(t);return new rh(e,this.ngModule)}}function eh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const nh=new et("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>oe});class rh extends Ol{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(fi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return eh(this.componentDef.inputs)}get outputs(){return eh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Yl,i);return o!==Yl||r===Yl?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(xl,Ee),s=i.get(kl,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Oe(t))return t.selectRootElement(e,n===jt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):xi(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?be:"math"===e?ve:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:oe,clean:co,playerHandler:null,flags:0},f=Mi(0,null,null,1,0,null,null,null,null,null),d=Ti(null,f,h,l,null,null,o,a,s,i);let p,g;an(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=ji(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Cs(a,u,!0),null!==t&&(xn(i,t,u),null!==a.classes&&Do(i,t,a.classes),null!==a.styles&&No(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ti(n,Vi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(qn(Mn(a,n),s,e.type),$i(s,a),Ki(a,n.length,1)),io(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)xn(a,c,["ng-version",Rl.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&xn(a,c,t),e&&e.length>0&&Do(a,c,e.join(" "))}if(g=xe(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ze();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Wi(t,r,1),Qi(t,e,n));const i=$n(e,t,e.length-1,r);ti(i,e);const o=Ie(r,e);return o&&ti(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=ze();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){pn(a.index-Xt);const t=n[1];zi(t,e),Bi(t,n,e.hostVars),Gi(e,s)}return s}(t,this.componentDef,d,h,[Ss]),Ai(f,d,null)}finally{fn()}return new ih(this.componentType,p,Ho(Sl,g,d),d,g)}}class ih extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Vo(r),this.componentType=t}get injector(){return new Qn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}function oh(t,e,n,r){return u(()=>{const i=t,o=i.prototype?Object.getPrototypeOf(i.prototype):null,s=o&&o.constructor;null!==e&&(void 0===i.decorators||s&&s.decorators===i.decorators?i.decorators=e:i.decorators.push(...e)),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||s&&s.propDecorators===i.propDecorators?r:Object.assign(Object.assign({},i.propDecorators),r))})}const sh=new Map;class ah extends bt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new th(this);const n=$t(t),r=t[Z]||null;r&&Ec(r),this._bootstrapComponents=ce(n.bootstrap),this._r3Injector=hs(t,e,[{provide:bt,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver}],D(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ys.THROW_IF_NOT_FOUND,n=O.Default){return t===ys||t===bt||t===nt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class uh extends vt{constructor(t){super(),this.moduleType=t,null!==$t(t)&&function(t){const e=new Set;!function t(n){const r=$t(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${D(e)} vs ${D(e.name)}`)}(i,sh.get(i),n),sh.set(i,n));const o=ce(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new ah(this.moduleType,t)}}function ch(t,e,n){const r=Ke()+t,i=Fe();return i[r]===di?Fs(i,r,n?e.call(n):e()):Hs(i,r)}function lh(t,e,n,r){return wh(Fe(),Ke(),t,e,n,r)}function hh(t,e,n,r,i){return _h(Fe(),Ke(),t,e,n,r,i)}function fh(t,e,n,r,i,o){return Oh(Fe(),Ke(),t,e,n,r,i,o)}function dh(t,e,n,r,i,o,s){return Eh(Fe(),Ke(),t,e,n,r,i,o,s)}function ph(t,e,n,r,i,o,s,a){const u=Ke()+t,c=Fe(),l=Gs(c,u,n,r,i,o);return qs(c,u+4,s)||l?Fs(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):Hs(c,u+5)}function gh(t,e,n,r,i,o,s,a,u){const c=Ke()+t,l=Fe(),h=Gs(l,c,n,r,i,o);return zs(l,c+4,s,a)||h?Fs(l,c+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):Hs(l,c+6)}function mh(t,e,n,r,i,o,s,a,u,c){const l=Ke()+t,h=Fe();let f=Gs(h,l,n,r,i,o);return Bs(h,l+4,s,a,u)||f?Fs(h,l+7,c?e.call(c,n,r,i,o,s,a,u):e(n,r,i,o,s,a,u)):Hs(h,l+7)}function bh(t,e,n,r,i,o,s,a,u,c,l){const h=Ke()+t,f=Fe(),d=Gs(f,h,n,r,i,o);return Gs(f,h+4,s,a,u,c)||d?Fs(f,h+8,l?e.call(l,n,r,i,o,s,a,u,c):e(n,r,i,o,s,a,u,c)):Hs(f,h+8)}function vh(t,e,n,r){return Ch(Fe(),Ke(),t,e,n,r)}function yh(t,e){const n=t[e];return n===di?void 0:n}function wh(t,e,n,r,i,o){const s=e+n;return qs(t,s,i)?Fs(t,s+1,o?r.call(o,i):r(i)):yh(t,s+1)}function _h(t,e,n,r,i,o,s){const a=e+n;return zs(t,a,i,o)?Fs(t,a+2,s?r.call(s,i,o):r(i,o)):yh(t,a+2)}function Oh(t,e,n,r,i,o,s,a){const u=e+n;return Bs(t,u,i,o,s)?Fs(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):yh(t,u+3)}function Eh(t,e,n,r,i,o,s,a,u){const c=e+n;return Gs(t,c,i,o,s,a)?Fs(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):yh(t,c+4)}function Ch(t,e,n,r,i,o){let s=e+n,a=!1;for(let u=0;u<i.length;u++)qs(t,s++,i[u])&&(a=!0);return a?Fs(t,s,r.apply(o,i)):yh(t,s)}function Sh(t,e){const n=He();let r;const i=t+Xt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Wt(r.type)),s=lt(da);try{const e=Ln(!1),r=o();return Ln(e),function(t,e,n,r){const i=n+Xt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Fe(),t,r),r}finally{lt(s)}}function Ih(t,e,n){const r=Fe(),i=Te(r,t);return Ph(r,kh(r,t)?wh(r,Ke(),e,i.transform,n,i):i.transform(n))}function xh(t,e,n,r){const i=Fe(),o=Te(i,t);return Ph(i,kh(i,t)?_h(i,Ke(),e,o.transform,n,r,o):o.transform(n,r))}function Th(t,e,n,r,i){const o=Fe(),s=Te(o,t);return Ph(o,kh(o,t)?Oh(o,Ke(),e,s.transform,n,r,i,s):s.transform(n,r,i))}function jh(t,e,n,r,i,o){const s=Fe(),a=Te(s,t);return Ph(s,kh(s,t)?Eh(s,Ke(),e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function Ah(t,e,n){const r=Fe(),i=Te(r,t);return Ph(r,kh(r,t)?Ch(r,Ke(),e,i.transform,n,i):i.transform.apply(i,n))}function kh(t,e){return t[1].data[e+Xt].pure}function Ph(t,e){return Vs.isWrapped(e)&&(e=Vs.unwrap(e),t[Qe()]=di),e}const Rh=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Nh(){return this._results[Ls()]()}class Dh{constructor(){this.dirty=!0,this._results=[],this.changes=new Rh,this.length=0;const t=Ls(),e=Dh.prototype;e[t]||(e[t]=Nh)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=wt(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Lh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Lh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Vh(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==tf(t,e).matches&&this.queries[e].setDirty()}}class Mh{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Uh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Uh(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Fh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Fh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Hh(e,i)),this.matchTNodeWithReadOption(t,e,Wn(e,t,i,!1,!1))}else n===Kl?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Wn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Sl||r===Jl||r===Kl&&0===e.type)this.addMatch(e.index,-2);else{const n=Wn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Hh(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function qh(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Ho(Sl,t,e):0===t.type?qo(Kl,Sl,t,e):null}(e,t):-2===n?function(t,e,n){return n===Sl?Ho(Sl,e,t):n===Kl?qo(Kl,Sl,e,t):n===Jl?zo(Jl,Sl,e,t):void 0}(t,e,r):$n(t,t[1],n,e)}function zh(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:qh(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Bh(t){const e=Fe(),n=He(),r=rn();on(r+1);const i=tf(n,r);if(t.dirty&&ke(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=zh(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Kt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):zh(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Gh(t,e,n){$h(He(),Fe(),t,e,n,!0)}function Wh(t,e,n){$h(He(),Fe(),t,e,n,!1)}function $h(t,e,n,r,i,o){t.firstCreatePass&&(Yh(t,new Mh(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Zh(t,e)}function Xh(t,e,n,r){Qh(He(),Fe(),e,n,r,!1,ze(),t)}function Kh(t,e,n,r){Qh(He(),Fe(),e,n,r,!0,ze(),t)}function Qh(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Yh(t,new Mh(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Zh(t,e)}function Jh(){return t=Fe(),e=rn(),t[19].queries[e].queryList;var t,e}function Zh(t,e){const n=new Dh;Ui(t,e,n,n.destroy),null===e[19]&&(e[19]=new Vh),e[19].queries.push(new Lh(n))}function Yh(t,e,n){null===t.queries&&(t.queries=new Uh),t.queries.track(new Fh(e,n))}function tf(t,e){return t.queries.getByIndex(e)}function ef(t,e){return qo(Kl,Sl,t,e)}function nf(t=O.Default){const e=Bo(!0);if(null!=e||t&O.Optional)return e;le("ChangeDetectorRef")}const rf=(()=>({"\u0275\u0275attribute":Ws,"\u0275\u0275attributeInterpolate1":na,"\u0275\u0275attributeInterpolate2":ra,"\u0275\u0275attributeInterpolate3":ia,"\u0275\u0275attributeInterpolate4":oa,"\u0275\u0275attributeInterpolate5":sa,"\u0275\u0275attributeInterpolate6":aa,"\u0275\u0275attributeInterpolate7":ua,"\u0275\u0275attributeInterpolate8":ca,"\u0275\u0275attributeInterpolateV":la,"\u0275\u0275defineComponent":Rt,"\u0275\u0275defineDirective":Ht,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":I,"\u0275\u0275defineNgModule":Mt,"\u0275\u0275definePipe":qt,"\u0275\u0275directiveInject":da,"\u0275\u0275getFactoryOf":Jn,"\u0275\u0275getInheritedFactory":Zn,"\u0275\u0275inject":ft,"\u0275\u0275injectAttribute":pa,"\u0275\u0275invalidFactory":ga,"\u0275\u0275invalidFactoryDep":dt,"\u0275\u0275injectPipeChangeDetectorRef":nf,"\u0275\u0275templateRefExtractor":ef,"\u0275\u0275NgOnChangesFeature":fe,"\u0275\u0275ProvidersFeature":_l,"\u0275\u0275CopyDefinitionFeature":Ns,"\u0275\u0275InheritDefinitionFeature":xs,"\u0275\u0275nextContext":Pa,"\u0275\u0275namespaceHTML":vn,"\u0275\u0275namespaceMathML":bn,"\u0275\u0275namespaceSVG":mn,"\u0275\u0275enableBindings":Me,"\u0275\u0275disableBindings":Ue,"\u0275\u0275elementStart":va,"\u0275\u0275elementEnd":ya,"\u0275\u0275element":wa,"\u0275\u0275elementContainerStart":_a,"\u0275\u0275elementContainerEnd":Oa,"\u0275\u0275elementContainer":Ea,"\u0275\u0275pureFunction0":ch,"\u0275\u0275pureFunction1":lh,"\u0275\u0275pureFunction2":hh,"\u0275\u0275pureFunction3":fh,"\u0275\u0275pureFunction4":dh,"\u0275\u0275pureFunction5":ph,"\u0275\u0275pureFunction6":gh,"\u0275\u0275pureFunction7":mh,"\u0275\u0275pureFunction8":bh,"\u0275\u0275pureFunctionV":vh,"\u0275\u0275getCurrentView":Ca,"\u0275\u0275restoreView":qe,"\u0275\u0275listener":xa,"\u0275\u0275projection":Va,"\u0275\u0275syntheticHostProperty":uc,"\u0275\u0275syntheticHostListener":Ta,"\u0275\u0275pipeBind1":Ih,"\u0275\u0275pipeBind2":xh,"\u0275\u0275pipeBind3":Th,"\u0275\u0275pipeBind4":jh,"\u0275\u0275pipeBindV":Ah,"\u0275\u0275projectionDef":Na,"\u0275\u0275hostProperty":ac,"\u0275\u0275property":ma,"\u0275\u0275propertyInterpolate":Ma,"\u0275\u0275propertyInterpolate1":Ua,"\u0275\u0275propertyInterpolate2":Fa,"\u0275\u0275propertyInterpolate3":Ha,"\u0275\u0275propertyInterpolate4":qa,"\u0275\u0275propertyInterpolate5":za,"\u0275\u0275propertyInterpolate6":Ba,"\u0275\u0275propertyInterpolate7":Ga,"\u0275\u0275propertyInterpolate8":Wa,"\u0275\u0275propertyInterpolateV":$a,"\u0275\u0275pipe":Sh,"\u0275\u0275queryRefresh":Bh,"\u0275\u0275viewQuery":Wh,"\u0275\u0275staticViewQuery":Gh,"\u0275\u0275staticContentQuery":Kh,"\u0275\u0275loadQuery":Jh,"\u0275\u0275contentQuery":Xh,"\u0275\u0275reference":fa,"\u0275\u0275classMap":lu,"\u0275\u0275classMapInterpolate1":Nu,"\u0275\u0275classMapInterpolate2":Du,"\u0275\u0275classMapInterpolate3":Lu,"\u0275\u0275classMapInterpolate4":Vu,"\u0275\u0275classMapInterpolate5":Mu,"\u0275\u0275classMapInterpolate6":Uu,"\u0275\u0275classMapInterpolate7":Fu,"\u0275\u0275classMapInterpolate8":Hu,"\u0275\u0275classMapInterpolateV":qu,"\u0275\u0275styleMap":uu,"\u0275\u0275styleMapInterpolate1":zu,"\u0275\u0275styleMapInterpolate2":Bu,"\u0275\u0275styleMapInterpolate3":Gu,"\u0275\u0275styleMapInterpolate4":Wu,"\u0275\u0275styleMapInterpolate5":$u,"\u0275\u0275styleMapInterpolate6":Xu,"\u0275\u0275styleMapInterpolate7":Ku,"\u0275\u0275styleMapInterpolate8":Qu,"\u0275\u0275styleMapInterpolateV":Ju,"\u0275\u0275styleProp":su,"\u0275\u0275stylePropInterpolate1":Zu,"\u0275\u0275stylePropInterpolate2":Yu,"\u0275\u0275stylePropInterpolate3":tc,"\u0275\u0275stylePropInterpolate4":ec,"\u0275\u0275stylePropInterpolate5":nc,"\u0275\u0275stylePropInterpolate6":rc,"\u0275\u0275stylePropInterpolate7":ic,"\u0275\u0275stylePropInterpolate8":oc,"\u0275\u0275stylePropInterpolateV":sc,"\u0275\u0275classProp":au,"\u0275\u0275advance":vi,"\u0275\u0275template":ha,"\u0275\u0275text":Eu,"\u0275\u0275textInterpolate":Cu,"\u0275\u0275textInterpolate1":Su,"\u0275\u0275textInterpolate2":Iu,"\u0275\u0275textInterpolate3":xu,"\u0275\u0275textInterpolate4":Tu,"\u0275\u0275textInterpolate5":ju,"\u0275\u0275textInterpolate6":Au,"\u0275\u0275textInterpolate7":ku,"\u0275\u0275textInterpolate8":Pu,"\u0275\u0275textInterpolateV":Ru,"\u0275\u0275i18n":cl,"\u0275\u0275i18nAttributes":ll,"\u0275\u0275i18nExp":hl,"\u0275\u0275i18nStart":al,"\u0275\u0275i18nEnd":ul,"\u0275\u0275i18nApply":fl,"\u0275\u0275i18nPostprocess":dl,"\u0275\u0275resolveWindow":se,"\u0275\u0275resolveDocument":ae,"\u0275\u0275resolveBody":ue,"\u0275\u0275setComponentScope":Nt,"\u0275\u0275setNgModuleScope":Ut,"\u0275\u0275sanitizeHtml":$r,"\u0275\u0275sanitizeStyle":Xr,"\u0275\u0275sanitizeResourceUrl":Qr,"\u0275\u0275sanitizeScript":Jr,"\u0275\u0275sanitizeUrl":Kr,"\u0275\u0275sanitizeUrlOrResourceUrl":Zr}))();const of=[],sf=[];let af=!1;function uf(t){return Array.isArray(t)?t.every(uf):!!U(t)}function cf(t,e){const n=wt(e.declarations||of),r=hf(t);n.forEach(e=>{e.hasOwnProperty(X)?lf(zt(e),r):e.hasOwnProperty(K)||e.hasOwnProperty(Q)||(e.ngSelectorScope=t)})}function lf(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(X)?zt(t):Bt(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>Gt(t)),t.schemas=e.schemas,t.tView=null}function hf(t){if(!df(t))throw new Error(t.name+" does not have a module def (\u0275mod property)");const e=$t(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ce(e.imports).forEach(t=>{const e=t;if(!df(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=hf(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),ce(e.declarations).forEach(t=>{Gt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),ce(e.exports).forEach(t=>{const e=t;if(df(e)){const t=hf(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else Gt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function ff(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function df(t){return!!$t(t)}let pf=0;function gf(t,e){let n=null;bf(t,e||{}),Object.defineProperty(t,K,{get:()=>{if(null===n){const r=mf(t,e||{});n=$().compileDirective(rf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function mf(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=$(),o=yf(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&wf(t),{metadata:o,sourceMapUrl:r}}function bf(t,e){let n=null;Object.defineProperty(t,Y,{get:()=>{if(null===n){const r=mf(t,e),i=$();n=i.compileFactory(rf,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function vf(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function yf(t,e){const n=rs(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:is(t),host:e.host||At,propMetadata:r,inputs:e.inputs||kt,outputs:e.outputs||kt,queries:Of(t,r,Ef),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!vf(t),exportAs:(i=e.exportAs,void 0===i?null:If(i)),providers:e.providers||null,viewQueries:Of(t,r,Cf)};var i}function wf(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)Bt(n)||zt(n)||!Tf(n)||gf(n,null),n=Object.getPrototypeOf(n)}function _f(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?If(n):U(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}function Of(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${ie(t)}" since the query selector wasn't defined.`);if(o.some(Sf))throw new Error("Cannot combine @Input decorators with query decorators");r.push(_f(i,e))}})}return r}function Ef(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Cf(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Sf(t){return"Input"===t.ngMetadataName}function If(t){return t.split(",").map(t=>t.trim())}const xf=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Tf(t){const e=rs();if(xf.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(Sf(n)||Ef(n)||Cf(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function jf(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:is(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}const Af=f("Directive",(t={})=>t,void 0,void 0,(t,e)=>Lf(t,e)),kf=f("Component",(t={})=>Object.assign({changeDetection:Tt.Default},t),Af,void 0,(t,e)=>Df(t,e)),Pf=f("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>Vf(t,e)),Rf=g("Input",t=>({bindingPropertyName:t})),Nf=g("Output",t=>({bindingPropertyName:t})),Df=function(t,e){let n=null;!function(t,e){Es(e)&&(_s.set(t,e),Os.add(t))}(t,e),bf(t,e),Object.defineProperty(t,X,{get:()=>{if(null===n){const r=$();if(Es(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(" - templateUrl: "+e.templateUrl),e.styleUrls&&e.styleUrls.length&&n.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=null;let o=e.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=e.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:jt.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,u=Object.assign(Object.assign({},yf(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:o,styles:e.styles||kt,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null});pf++;try{u.usesInheritance&&wf(t),n=r.compileComponent(rf,a,u)}finally{pf--}if(0===pf&&function(){if(!af){af=!0;try{for(let t=sf.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=sf[t];n.declarations&&n.declarations.every(uf)&&(sf.splice(t,1),cf(e,n))}}finally{af=!1}}}(),void 0!==t.ngSelectorScope){const e=hf(t.ngSelectorScope);lf(n,e)}}return n},configurable:!1})},Lf=gf,Vf=function(t,e){let n=null,r=null;Object.defineProperty(t,Y,{get:()=>{if(null===r){const n=jf(t,e),i=$();r=i.compileFactory(rf,`ng:///${n.name}/\u0275fac.js`,Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(t,Q,{get:()=>{if(null===n){const r=jf(t,e);n=$().compilePipe(rf,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})},Mf=f("NgModule",t=>t,void 0,void 0,(t,e)=>Uf(t,e)),Uf=function(t,e={}){!function(t,e,n=!1){const r=wt(e.declarations||of);let i=null;Object.defineProperty(t,J,{configurable:!0,get:()=>(null===i&&(i=$().compileNgModule(rf,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:wt(e.bootstrap||of).map(U),declarations:r.map(U),imports:wt(e.imports||of).map(U).map(ff),exports:wt(e.exports||of).map(U).map(ff),schemas:e.schemas?wt(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(t,k,{get:()=>{if(null===o){const n={name:t.name,type:t,deps:is(t),providers:e.providers||of,imports:[(e.imports||of).map(U),(e.exports||of).map(U)]};o=$().compileInjector(rf,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}(t,e),function(t,e){sf.push({moduleType:t,ngModule:e})}(t,e)},Ff=new et("Application Initializer");let Hf=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Sa(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ft(Ff,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const qf=new et("AppId"),zf={provide:qf,useFactory:function(){return`${Bf()}${Bf()}${Bf()}`},deps:[]};function Bf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gf=new et("Platform Initializer"),Wf=new et("Platform ID"),$f=new et("appBootstrapListener");let Xf=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Kf=new et("LocaleId"),Qf=new et("DefaultCurrencyCode");class Jf{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Zf=function(t){return new uh(t)},Yf=Zf,td=function(t){return Promise.resolve(Zf(t))},ed=function(t){const e=Zf(t),n=ce($t(t).declarations).reduce((t,e)=>{const n=zt(e);return n&&t.push(new rh(n)),t},[]);return new Jf(e,n)},nd=ed,rd=function(t){return Promise.resolve(ed(t))};let id=(()=>{class t{constructor(){this.compileModuleSync=Yf,this.compileModuleAsync=td,this.compileModuleAndAllComponentsSync=nd,this.compileModuleAndAllComponentsAsync=rd}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const od=(()=>Promise.resolve(0))();function sd(t){"undefined"==typeof Zone?od.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ad{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rh(!1),this.onMicrotaskEmpty=new Rh(!1),this.onStable=new Rh(!1),this.onError=new Rh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hd(t),ld(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hd(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return fd(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),dd(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return fd(t),e.invoke(r,i,o,s,a)}finally{dd(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,hd(t),ld(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ad.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ad.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,cd,ud,ud);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ud(){}const cd={};function ld(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function fd(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dd(t){t._nesting--,ld(t)}class pd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rh,this.onMicrotaskEmpty=new Rh,this.onStable=new Rh,this.onError=new Rh}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let gd=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ad.assertNotInAngularZone(),sd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sd(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ft(ad))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),md=(()=>{class t{constructor(){this._applications=new Map,wd.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return wd.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class bd{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function vd(t){wd=t}let yd,wd=new bd;const _d=new et("AllowMultipleToken");class Od{constructor(t,e){this.name=t,this.token=e}}function Ed(t,e,n=[]){const r="Platform: "+e,i=new et(r);return(e=[])=>{let o=Cd();if(!o||o.injector.get(_d,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:os,useValue:"platform"});!function(t){if(yd&&!yd.destroyed&&!yd.injector.get(_d,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yd=t.get(Sd);const e=t.get(Gf,null);e&&e.forEach(t=>t())}(ys.create({providers:t,name:r}))}return function(t){const e=Cd();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Cd(){return yd&&!yd.destroyed?yd:null}let Sd=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new pd:("zone.js"===t?void 0:t)||new ad({enableLongStackTrace:yr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:ad,useValue:n}];return n.run(()=>{const e=ys.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(nr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Td(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Sa(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Hf);return t.runInitializers(),t.donePromise.then(()=>(Ec(i.injector.get(Kf,yc)||yc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Id({},e);return function(t,e,n){const r=new uh(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(xd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${D(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ft(ys))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Id(t,e){return Array.isArray(e)?e.reduce(Id,t):Object.assign(Object.assign({},t),e)}let xd=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=yr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ad.assertNotInAngularZone(),sd(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ad.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ol?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(bt),i=n.create(ys.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(gd,null);return o&&i.injector.get(md).registerApplication(i.location.nativeElement,o),this._loadComponent(i),yr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Td(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($f,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Td(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ft(ad),ft(Xf),ft(ys),ft(nr),ft(Cl),ft(Hf))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Td(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class jd{}class Ad{}const kd={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pd=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||kd}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Rd(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Rd(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ft(id),ft(Ad,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Rd(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Nd=function(t){return null},Dd=Ed(null,"core",[{provide:Wf,useValue:"unknown"},{provide:Sd,deps:[ys]},{provide:md,deps:[]},{provide:Xf,deps:[]}]),Ld=[{provide:xd,useClass:xd,deps:[ad,Xf,ys,nr,Cl,Hf]},{provide:nh,deps:[ad],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Hf,useClass:Hf,deps:[[new b,Ff]]},{provide:id,useClass:id,deps:[]},zf,{provide:Bl,useFactory:function(){return $l},deps:[]},{provide:Gl,useFactory:function(){return Xl},deps:[]},{provide:Kf,useFactory:function(t){return Ec(t=t||"undefined"!=typeof $localize&&$localize.locale||yc),t},deps:[[new m(Kf),new b,new y]]},{provide:Qf,useValue:"USD"}];let Vd=(()=>{class t{constructor(t){}}return t.\u0275mod=Mt({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(ft(xd))},providers:Ld}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return g}));var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.t("angularfire2.app.options"),y=new u.t("angularfire2.app.nameOrConfig"),w=new u.V("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.bb)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[v,u.E,[new u.F,y]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.U.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=u.Qb({type:t}),t.\u0275inj=u.Pb({factory:function(e){return new(e||t)(u.fc(u.H))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.g)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyC-y7-AHFJiI3E6MspjoGNF0DYJ_4cYyAo",authDomain:"inventario-construccion.firebaseapp.com",projectId:"inventario-construccion",storageBucket:"inventario-construccion.appspot.com",messagingSenderId:"133211656723",appId:"1:133211656723:web:9596776ba888b55ba925e6"};let o=null;function s(){return o}const a=new r.t("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ob)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.fc)(h)}const l=new r.t("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=Object(r.Ob)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.fc)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ob)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.fc)(a).location;return new w(Object(r.fc)(u),e&&e.origin||"")}const y=new r.t("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(u),r.fc(y,8))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(u),r.fc(y,8))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.q,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.fc(b),r.fc(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Ob)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.fc)(b),Object(r.fc)(u))}function C(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function T(t,e){const n=Object(r.pb)(t),i=n[r.gb.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.gb.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.gb.NumberSymbols][x.Group]}return i}const j=r.sb,A=/^(\d+)?\.((\d+)(-(\d+))?)?$/,k=".",P="0";function R(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class N{}let D=(()=>{class t extends N{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.y))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();class L{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.bb)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new L(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new M(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new M(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.W),r.Sb(r.R),r.Sb(r.w))},t.\u0275dir=r.Nb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class M{constructor(t,e){this.record=t,this.view=e}}let U=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new F,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){H("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){H("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.W),r.Sb(r.R))},t.\u0275dir=r.Nb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class F{constructor(){this.$implicit=null,this.ngIf=null}}function H(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Bb)(e)}'.`)}function q(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Bb)(t)}'`)}class z{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class B{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const G=new B,W=new z;let $=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.xb)(e))return G;if(Object(r.wb)(e))return W;throw q(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.hc())},t.\u0275pipe=r.Rb({name:"async",type:t,pure:!1}),t})(),X=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(k))>-1&&(s=s.replace(k,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===P;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===P;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(A);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=R(e)),null!=n&&(h=R(n)),null!=r?f=R(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const b=[];for(d.length>=e.lgSize&&b.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)b.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&b.unshift(d.join("")),a=b.join(T(n,r)),m.length&&(a+=T(n,i)+m.join("")),g&&(a+=T(n,x.Exponential)+"+"+g)}else a=T(n,x.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(k)?i.split(k):[i.substring(0,i.lastIndexOf(P)+1),i.substring(i.lastIndexOf(P)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===P?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.pb)(t)[r.gb.NumberFormats][e]}(e,S.Decimal),T(e,x.MinusSign)),e,x.Group,x.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(o){throw q(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.y))},t.\u0275pipe=r.Rb({name:"number",type:t,pure:!0}),t})(),K=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[{provide:N,useClass:D}]}),t})();function Q(t){return"server"===t}let J=(()=>{class t{}return t.\u0275prov=Object(r.Ob)({token:t,providedIn:"root",factory:()=>new Z(Object(r.fc)(a),window,Object(r.fc)(r.p))}),t})();class Z{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Y(this.window.history)||Y(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Y(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new tt,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=nt||(nt=document.querySelector("base"),nt)?nt.getAttribute("href"):null;return null==e?null:(n=e,et||(et=document.createElement("a")),et.setAttribute("href",n),"/"===et.pathname.charAt(0)?et.pathname:"/"+et.pathname);var n}resetBaseElement(){nt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let et,nt=null;const rt=new r.t("TRANSITION_ID"),it=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[rt,a,r.u],multi:!0}];class ot{static init(){Object(r.db)(new ot)}addToWindow(t){r.ub.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ub.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ub.getAllAngularRootElements=()=>t.getAllRootElements(),r.ub.frameworkStabilizers||(r.ub.frameworkStabilizers=[]),r.ub.frameworkStabilizers.push(t=>{const e=r.ub.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const st=new r.t("EventManagerPlugins");let at=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.fc(st),r.fc(r.E))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ct=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t extends ct{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ft=/%COMP%/g;function dt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?dt(t,i,n):(i=i.replace(ft,t),n.push(i))}return n}function pt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new mt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.X.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new bt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.X.Native:case r.X.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=dt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.fc(at),r.fc(lt),r.fc(r.c))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();class mt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ht[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ht[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ht[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.M.DashCase?t.style.setProperty(e,n,i&r.M.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.M.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pt(n)):this.eventManager.addEventListener(t,e,pt(n))}}class bt extends mt{constructor(t,e,n,r){super(t),this.component=n;const i=dt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ft,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ft,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class vt extends mt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.X.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=dt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let yt=(()=>{class t extends ut{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();const wt=["alt","control","meta","shift"],_t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Et={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ct=(()=>{class t extends ut{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ot.hasOwnProperty(e)&&(e=Ot[e]))}return _t[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wt.forEach(r=>{r!=n&&(0,Et[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();const St=[{provide:r.H,useValue:"browser"},{provide:r.I,useValue:function(){tt.makeCurrent(),ot.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.Ab)(document),document},deps:[]}],It=Object(r.Y)(r.cb,"browser",St),xt=[[],{provide:r.fb,useValue:"root"},{provide:r.p,useFactory:function(){return new r.p},deps:[]},{provide:st,useClass:yt,multi:!0,deps:[a,r.E,r.H]},{provide:st,useClass:Ct,multi:!0,deps:[a]},[],{provide:gt,useClass:gt,deps:[at,lt,r.c]},{provide:r.L,useExisting:gt},{provide:ct,useExisting:lt},{provide:lt,useClass:lt,deps:[a]},{provide:r.S,useClass:r.S,deps:[r.E]},{provide:at,useClass:at,deps:[st,r.E]},[]];let Tt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:rt,useExisting:r.c},it]}}}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)(r.fc(t,12))},providers:xt,imports:[K,r.f]}),t})();"undefined"!=typeof window&&window;var jt=n("spgP"),At=n("XNiG"),kt=n("LRne"),Pt=n("HDdC"),Rt=n("Cfvw"),Nt=n("VRyK"),Dt=n("pxpQ"),Lt=n("lJxs"),Vt=n("zx2A");function Mt(t,e){return"function"==typeof e?n=>n.pipe(Mt((n,r)=>Object(Rt.a)(t(n,r)).pipe(Object(Lt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ut(t))}class Ut{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ft(t,this.project))}}class Ft extends Vt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Vt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Vt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Ht=n("qgXg"),qt=n("quSY"),zt=n("9ppp"),Bt=n("Ylt2");class Gt extends At.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Wt(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new zt.a;if(this.isStopped||this.hasError?o=qt.a.EMPTY:(this.observers.push(t),o=new Bt.a(this,t)),r&&t.add(t=new Dt.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ht.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Wt{constructor(t,e){this.time=t,this.value=e}}function $t(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Gt(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const Xt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Kt=n("7o/Q");function Qt(t,e){return function(n){return n.lift(new Jt(t,e))}}class Jt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Zt(t,this.predicate,this.thisArg))}}class Zt extends Kt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var te=n("EY2u");function ee(t){return e=>0===t?Object(te.b)():e.lift(new ne(t))}class ne{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new re(t,this.total))}}class re extends Kt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ie(t=null){return e=>e.lift(new oe(t))}class oe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new se(t,this.defaultValue))}}class se extends Kt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ae(t=le){return e=>e.lift(new ue(t))}class ue{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ce(t,this.errorFactory))}}class ce extends Kt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(vE){t=vE}this.destination.error(t)}}}function le(){return new Xt}var he=n("SpAZ");function fe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):he.a,ee(1),n?ie(e):ae(()=>new Xt))}function de(t,e){return e?Mt(()=>t,e):Mt(()=>t)}var pe=n("tf+s");const ge=new r.t("angularfire2.auth.use-emulator"),me=new r.t("angularfire2.auth.settings"),be=new r.t("angularfire2.auth.tenant-id"),ve=new r.t("angularfire2.auth.langugage-code"),ye=new r.t("angularfire2.auth.use-device-language"),we=new r.t("angularfire.auth.persistence");let _e=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new jt.d(i),f=Object(jt.h)(h),d=new At.a,p=Object(kt.a)(void 0).pipe(Object(Dt.b)(h.outsideAngular),Mt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Lt.a)(()=>Object(jt.g)(t,i,e)),Object(Lt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(jt.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),$t({bufferSize:1,refCount:!1}));if(Q(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(kt.a)(null);else{p.pipe(fe()).subscribe();const t=p.pipe(Mt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,$t({bufferSize:1,refCount:!1})),e=t=>new Pt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Mt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Mt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(de(n),Object(pe.a)(h.outsideAngular),Object(Dt.b)(h.insideAngular)),this.user=t.pipe(de(r),Object(pe.a)(h.outsideAngular),Object(Dt.b)(h.insideAngular)),this.idToken=this.user.pipe(Mt(t=>t?Object(Rt.a)(t.getIdToken()):Object(kt.a)(null))),this.idTokenResult=this.user.pipe(Mt(t=>t?Object(Rt.a)(t.getIdTokenResult()):Object(kt.a)(null))),this.credential=Object(Nt.a)(t,d,this.authState.pipe(Qt(t=>!t))).pipe(Object(Lt.a)(t=>(null==t?void 0:t.user)?t:null),Object(pe.a)(h.outsideAngular),Object(Dt.b)(h.insideAngular))}return Object(jt.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.fc(jt.c),r.fc(jt.b,8),r.fc(r.H),r.fc(r.E),r.fc(ge,8),r.fc(me,8),r.fc(be,8),r.fc(ve,8),r.fc(ye,8),r.fc(we,8))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(jt.c),Object(r.fc)(jt.b,8),Object(r.fc)(r.H),Object(r.fc)(r.E),Object(r.fc)(ge,8),Object(r.fc)(me,8),Object(r.fc)(be,8),Object(r.fc)(ve,8),Object(r.fc)(ye,8),Object(r.fc)(we,8))},token:t,providedIn:"any"}),t})(),Oe=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[_e]}),t})();var Ee=n("D0XW");class Ce{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Se(t,this.dueTime,this.scheduler))}}class Se extends Kt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ie,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ie(t){t.debouncedNext()}var xe=n("zIRd"),Te=n("30Go"),je=n("qOnz"),Ae=n("/6Yf"),ke="firebasestorage.googleapis.com",Pe=function(t){function e(n,r){var i=t.call(this,Le(n),"Firebase Storage: "+r+" ("+Le(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Te.c)(e,t),e.prototype.codeEquals=function(t){return Le(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(je.c),Re="canceled",Ne="invalid-argument",De="unsupported-environment";function Le(t){return"storage/"+t}function Ve(){return new Pe("unknown","An unknown error occurred, please check the error payload for server response.")}function Me(){return new Pe(Re,"User canceled the upload/download.")}function Ue(){return new Pe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Fe(t){return new Pe(Ne,t)}function He(){return new Pe("app-deleted","The Firebase app was deleted.")}function qe(t){return new Pe("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ze(t,e){return new Pe("invalid-format","String does not match format '"+t+"': "+e)}function Be(t){throw new Pe("internal-error","Internal error: "+t)}var Ge={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},We=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function $e(t,e){switch(t){case Ge.RAW:return new We(Xe(e));case Ge.BASE64:case Ge.BASE64URL:return new We(Ke(t,e));case Ge.DATA_URL:return new We((n=new Qe(e)).base64?Ke(Ge.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(vE){throw ze(Ge.DATA_URL,"Malformed data URL.")}return Xe(e)}(n.rest),new Qe(e).contentType)}var n;throw Ve()}function Xe(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Ke(t,e){switch(t){case Ge.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw ze(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ge.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw ze(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(vE){throw ze(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Qe=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw ze(Ge.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Je="running",Ze="pausing",Ye="paused",tn="success",en="canceling",nn="canceled",rn="error",on={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sn(t){switch(t){case Je:case Ze:case en:return on.RUNNING;case Ye:return on.PAUSED;case tn:return on.SUCCESS;case nn:return on.CANCELED;case rn:default:return on.ERROR}}var an=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),un=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=an.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=an.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=an.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Be("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Be("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Be("cannot .getStatus() before sending");try{return this.xhr_.status}catch(vE){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Be("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),cn=function(){function t(){}return t.prototype.createXhrIo=function(){return new un},t}();function ln(t){return"string"==typeof t||t instanceof String}function hn(t){return fn()&&t instanceof Blob}function fn(){return"undefined"!=typeof Blob}function dn(t,e,n,r){if(r<e)throw new Pe(Ne,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Pe(Ne,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function pn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function gn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=pn();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(fn())return new Blob(t);throw new Pe(De,"This browser doesn't seem to support creating Blobs")}var mn=function(){function t(t,e){var n=0,r="";hn(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(hn(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(fn()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(gn.apply(null,r))}var i=e.map((function(t){return ln(t)?$e(Ge.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),bn=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(vE){return new t(e,"")}if(""===n.path)return n;throw new Pe("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=ke.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Pe("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function vn(t){var e,n;try{e=JSON.parse(t)}catch(vE){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function yn(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function wn(t){return"https://"+ke+"/v0"+t}function _n(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function On(t,e){return e}var En=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||On}}(),Cn=null;function Sn(){if(Cn)return Cn;var t=[];t.push(new En("bucket")),t.push(new En("generation")),t.push(new En("metageneration")),t.push(new En("name","fullPath",!0));var e=new En("name");e.xform=function(t,e){return function(t){return!ln(t)||t.length<2?t:yn(t)}(e)},t.push(e);var n=new En("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new En("timeCreated")),t.push(new En("updated")),t.push(new En("md5Hash",null,!0)),t.push(new En("cacheControl",null,!0)),t.push(new En("contentDisposition",null,!0)),t.push(new En("contentEncoding",null,!0)),t.push(new En("contentLanguage",null,!0)),t.push(new En("contentType",null,!0)),t.push(new En("metadata","customMetadata",!0)),Cn=t}function In(t,e,n){var r=vn(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new bn(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function xn(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Tn=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function jn(t){if(!t)throw Ve()}function An(t,e){return function(n,r){var i=In(t,r,e);return jn(null!==i),i}}function kn(t){return function(e,n){var r;return(r=401===e.getStatus()?new Pe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Pe("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Pe("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Pn(t){var e=kn(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Pe("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Rn(t,e,n){var r=wn(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Tn(r,"GET",An(t,n),i);return o.errorHandler=Pn(e),o}function Nn(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Dn=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Ln(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(vE){jn(!1)}return jn(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Vn=262144,Mn=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),Un=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Fn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Hn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Sn(),this._resumable=this._shouldDoResumable(this._blob),this._state=Je,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Re)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(rn))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Re)?r.completeTransitions_():(r._error=t,r._transition(rn))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===Je&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case Je:t(n);break;case en:e._transition(nn);break;case Ze:e._transition(Ye)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Nn(e,r,i),a={name:s.fullPath},u=wn(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=xn(s,n),h=new Tn(u,"POST",(function(t){var e;Ln(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(vE){jn(!1)}return jn(ln(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=kn(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new Tn(n,"POST",(function(t){var e=Ln(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(vE){jn(!1)}n||jn(!1);var i=Number(n);return jn(!isNaN(i)),new Dn(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=kn(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=Vn*this._chunkMultiplier,n=new Dn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new Dn(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Pe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw Ue();var p=new Tn(n,"POST",(function(t,n){var i,s=Ln(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?An(e,o)(t,n):null,new Dn(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=kn(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(vE){return t._error=vE,void t._transition(rn)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(tn)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){Vn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=Rn(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(tn)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Nn(e,r,i),c=xn(u,n),l=mn.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Ue();var h={name:u.fullPath},f=wn(o),d=t.maxUploadRetryTime,p=new Tn(f,"POST",An(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=kn(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(tn)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case en:case Ze:this._state=t,void 0!==this._request&&this._request.cancel();break;case Je:var e=this._state===Ye;this._state=t,e&&(this._notifyObservers(),this._start());break;case Ye:this._state=t,this._notifyObservers();break;case nn:this._error=Me(),this._state=t,this._notifyObservers();break;case rn:case tn:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case Ze:this._transition(Ye);break;case en:this._transition(nn);break;case Je:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=sn(this._state);return new Un(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Mn(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(sn(this._state)){case on.SUCCESS:Fn(this._resolve.bind(null,this.snapshot))();break;case on.CANCELED:case on.ERROR:Fn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(sn(this._state)){case on.RUNNING:case on.PAUSED:t.next&&Fn(t.next.bind(t,this.snapshot))();break;case on.SUCCESS:t.complete&&Fn(t.complete.bind(t))();break;case on.CANCELED:case on.ERROR:t.error&&Fn(t.error.bind(t,this._error))();break;default:t.error&&Fn(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===Ye||this._state===Ze;return t&&this._transition(Je),t},t.prototype.pause=function(){var t=this._state===Je;return t&&this._transition(Ze),t},t.prototype.cancel=function(){var t=this._state===Je||this._state===Ze;return t&&this._transition(en),t},t}(),qn=function(){function t(t,e){this._service=t,this._location=e instanceof bn?e:bn.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new bn(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return yn(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new bn(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw qe(t)},t}();function zn(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&dn("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=wn(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Tn(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=vn(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new bn(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new bn(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return jn(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=kn(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function Bn(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new bn(t._location.bucket,n);return new qn(t.storage,r)}var Gn=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Wn=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Gn(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Gn(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Gn(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Gn(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),$n=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Xn(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Xn(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Xn=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Bn(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Wn(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new Hn(t,new mn(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Ge.RAW),this._throwIfRoot("putString"),new Wn(function(t,e,n,r){void 0===n&&(n=Ge.RAW),t._throwIfRoot("putString");var i=$e(n,e),o=Object(Te.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new Hn(t,new mn(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(Te.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Te.d)(this,(function(a){switch(a.label){case 0:return[4,zn(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new $n(t,n.storage)}))},t.prototype.list=function(t){var e=this;return zn(this._delegate,t).then((function(t){return new $n(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Rn(t.storage,t._location,Sn()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=wn(e.fullServerUrl()),o=xn(n,r),s=t.maxOperationRetryTime,a=new Tn(i,"PATCH",An(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Pn(e),a}(t.storage,t._location,e,Sn()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=wn(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Tn(r,"GET",function(t,e){return function(n,r){var i=In(t,r,e);return jn(null!==i),function(t,e){var n=vn(e);if(null===n)return null;if(!ln(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return wn("/b/"+i(t.bucket)+"/o/"+i(n))+_n({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=Pn(e),o}(t.storage,t._location,Sn()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Pe("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=wn(e.fullServerUrl()),r=new Tn(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Pn(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw qe(t)},t}(),Kn=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Qn=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(vE){o(vE)}else null!==s?((r=Ve()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?He():Me():new Pe("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Jn(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Jn(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===an.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Jn(s,n))}else{var a=n.getErrorCode()===an.ABORT;e(!1,new Jn(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Te.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Te.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Jn=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Zn(t){return/^[A-Za-z]+:\/\//.test(t)}function Yn(t,e){if(e&&Zn(e)){if(t instanceof nr)return new qn(t,e);throw Fe("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof nr){var r=e;if(null==r._bucket)throw new Pe("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new qn(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw Fe('`path` param cannot contain ".."');return Bn(e,n)}return e}(t,e)}var tr,er,nr=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?bn.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:bn.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){dn("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){dn("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new qn(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Kn(He());var r=function(t,e,n,r){var i=_n(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==xe.a?xe.a.SDK_VERSION:"AppManager")}(s),new Qn(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),rr=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Zn(t))throw Fe("ref() expected a child path but got a URL, use refFromURL instead.");return new Xn(Yn(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Zn(t))throw Fe("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bn.makeFromUrl(t)}catch(vE){throw Fe("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xn(Yn(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function ir(t){const e=function(t){return new Pt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=Ee.a){return n=>n.lift(new Ce(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Lt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function or(t,e,n){return{getDownloadURL:()=>Object(kt.a)(void 0).pipe(Object(Dt.b)(e.outsideAngular),Mt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(kt.a)(void 0).pipe(Object(Dt.b)(e.outsideAngular),Mt(()=>t.getMetadata()),n),delete:()=>Object(Rt.a)(t.delete()),child:r=>or(t.child(r),e,n),updateMetadata:e=>Object(Rt.a)(t.updateMetadata(e)),put:(e,n)=>ir(t.put(e,n)),putString:(e,n,r)=>ir(t.putString(e,n,r)),listAll:()=>Object(Rt.a)(t.listAll())}}er={TaskState:on,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Ge,Storage:nr,Reference:Xn},(tr=xe.a).INTERNAL.registerComponent(new Ae.a("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new rr(n,new nr(n,r,new cn,e))}),"PUBLIC").setServiceProps(er).setMultipleInstances(!0)),tr.registerVersion("@firebase/storage","0.4.2");const sr=new r.t("angularfire2.storageBucket"),ar=new r.t("angularfire2.storage.maxUploadRetryTime"),ur=new r.t("angularfire2.storage.maxOperationRetryTime");let cr=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new jt.d(i),this.keepUnstableUntilFirst=Object(jt.h)(this.schedulers);const a=Object(jt.g)(t,i,e);this.storage=Object(jt.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return or(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return or(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return or(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.fc(jt.c),r.fc(jt.b,8),r.fc(sr,8),r.fc(r.H),r.fc(r.E),r.fc(ar,8),r.fc(ur,8))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(jt.c),Object(r.fc)(jt.b,8),Object(r.fc)(sr,8),Object(r.fc)(r.H),Object(r.fc)(r.E),Object(r.fc)(ar,8),Object(r.fc)(ur,8))},token:t,providedIn:"any"}),t})(),lr=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),hr=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[cr],imports:[lr]}),t})();class fr extends At.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new zt.a;return this._value}next(t){super.next(this._value=t)}}var dr=n("z+Ro"),pr=n("DH7j");class gr extends Kt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class mr extends Kt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var br=n("SeVD");function vr(t,e,n,r,i=new mr(t,n,r)){if(!i.closed)return e instanceof Pt.a?e.subscribe(i):Object(br.a)(e)(i)}var yr=n("yCtX");const wr={};class _r{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Or(t,this.resultSelector))}}class Or extends gr{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(wr),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(vr(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===wr?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Er(t){return new Pt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Rt.a)(n):Object(te.b)()).subscribe(e)})}var Cr=n("bHdf");function Sr(){return Object(Cr.a)(1)}function Ir(t){return function(e){return 0===t?Object(te.b)():e.lift(new xr(t))}}class xr{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new Tr(t,this.total))}}class Tr extends Kt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function jr(...t){return Sr()(Object(kt.a)(...t))}function Ar(...t){const e=t[t.length-1];return Object(dr.a)(e)?(t.pop(),n=>jr(t,n,e)):e=>jr(t,e)}function kr(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Pr(t,e,n))}}class Pr{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Rr(t,this.accumulator,this.seed,this.hasSeed))}}class Rr extends Kt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Nr(t){return function(e){const n=new Dr(t),r=e.lift(n);return n.caught=r}}class Dr{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Lr(t,this.selector,this.caught))}}class Lr extends Vt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Vt.a(this);this.add(r);const i=Object(Vt.c)(n,r);i!==r&&this.add(i)}}}var Vr=n("5+tZ");function Mr(t,e){return Object(Vr.a)(t,e,1)}var Ur=n("vkgz");function Fr(t){return e=>e.lift(new Hr(t))}class Hr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new qr(t,this.callback))}}class qr extends Kt.a{constructor(t,e){super(t),this.add(new qt.a(e))}}class zr{constructor(t,e){this.id=t,this.url=e}}class Br extends zr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gr extends zr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wr extends zr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $r extends zr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xr extends zr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr extends zr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr extends zr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jr extends zr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr extends zr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ti{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ei{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const si="primary";class ai{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ui(t){return new ai(t)}function ci(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function li(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hi(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fi(t[i],e[i]))return!1;return!0}function fi(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function di(t){return Array.prototype.concat.apply([],t)}function pi(t){return t.length>0?t[t.length-1]:null}function gi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function mi(t){return Object(r.wb)(t)?t:Object(r.xb)(t)?Object(Rt.a)(Promise.resolve(t)):Object(kt.a)(t)}function bi(t,e,n){return n?function(t,e){return hi(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!_i(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fi(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!_i(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!_i(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!_i(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class vi{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ui(this.queryParams)),this._queryParamMap}toString(){return Si.serialize(this)}}class yi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gi(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ii(this)}}class wi{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ui(this.parameters)),this._parameterMap}toString(){return Pi(this)}}function _i(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Oi(t,e){let n=[];return gi(t.children,(t,r)=>{r===si&&(n=n.concat(e(t,r)))}),gi(t.children,(t,r)=>{r!==si&&(n=n.concat(e(t,r)))}),n}class Ei{}class Ci{parse(t){const e=new Vi(t);return new vi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Ii(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return gi(e.children,(e,n)=>{n!==si&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Oi(e,(n,r)=>r===si?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Ii(e)}/${n[0]}`:`${Ii(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ti(e)}=${Ti(t)}`).join("&"):`${Ti(e)}=${Ti(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Si=new Ci;function Ii(t){return t.segments.map(t=>Pi(t)).join("/")}function xi(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ti(t){return xi(t).replace(/%3B/gi,";")}function ji(t){return xi(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ai(t){return decodeURIComponent(t)}function ki(t){return Ai(t.replace(/\+/g,"%20"))}function Pi(t){return`${ji(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ji(t)}=${ji(e[t])}`).join("")}`;var e}const Ri=/^[^\/()?;=#]+/;function Ni(t){const e=t.match(Ri);return e?e[0]:""}const Di=/^[^=?&#]+/,Li=/^[^?&#]+/;class Vi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yi([],{}):new yi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new yi(t,e)),n}parseSegment(){const t=Ni(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wi(Ai(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ni(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ni(this.remaining);t&&(n=t,this.capture(n))}t[Ai(e)]=Ai(n)}parseQueryParam(t){const e=function(t){const e=t.match(Di);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Li);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ki(e),i=ki(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ni(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=si);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new yi([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Mi{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ui(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ui(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Fi(t,this._root).map(t=>t.value)}}function Ui(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ui(t,n);if(e)return e}return null}function Fi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Fi(t,n);if(r.length)return r.unshift(e),r}return[]}class Hi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qi(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class zi extends Mi{constructor(t,e){super(t),this.snapshot=e,Ki(this,t)}toString(){return this.snapshot.toString()}}function Bi(t,e){const n=function(t,e){const n=new $i([],{},{},"",{},si,e,null,t.root,-1,{});return new Xi("",new Hi(n,[]))}(t,e),r=new fr([new wi("",{})]),i=new fr({}),o=new fr({}),s=new fr({}),a=new fr(""),u=new Gi(r,i,s,a,o,si,e,n.root);return u.snapshot=n.root,new zi(new Hi(u,[]),n)}class Gi{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Lt.a)(t=>ui(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Lt.a)(t=>ui(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $i{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ui(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ui(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xi extends Mi{constructor(t,e){super(e),this.url=t,Ki(this,e)}toString(){return Qi(this._root)}}function Ki(t,e){e.value._routerState=t,e.children.forEach(e=>Ki(t,e))}function Qi(t){const e=t.children.length>0?` { ${t.children.map(Qi).join(", ")} } `:"";return`${t.value}${e}`}function Ji(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hi(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hi(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hi(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zi(t,e){return hi(t.params,e.params)&&function(t,e){return _i(t,e)&&t.every((t,n)=>hi(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Zi(t.parent,e.parent))}function Yi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function to(t){return"object"==typeof t&&null!=t&&t.outlets}function eo(t,e,n,r,i){let o={};return r&&gi(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new vi(n.root===t?e:function t(e,n,r){const i={};return gi(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new yi(e.segments,i)}(n.root,t,e),o,i)}class no{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Yi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(to);if(r&&r!==pi(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ro{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function io(t,e,n){if(t||(t=new yi([],{})),0===t.segments.length&&t.hasChildren())return oo(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(to(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!co(a,u,e))return o;r+=2}else{if(!co(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new yi(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new yi(t.segments.slice(r.pathIndex),t.children),oo(e,0,i)}return r.match&&0===i.length?new yi(t.segments,{}):r.match&&!t.hasChildren()?so(t,e,n):r.match?oo(t,0,i):so(t,e,n)}function oo(t,e,n){if(0===n.length)return new yi(t.segments,{});{const r=function(t){return to(t[0])?t[0].outlets:{[si]:t}}(n),i={};return gi(r,(n,r)=>{null!==n&&(i[r]=io(t.children[r],e,n))}),gi(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new yi(t.segments,i)}}function so(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(to(o)){const t=ao(o.outlets);return new yi(r,t)}if(0===i&&Yi(n[0])){r.push(new wi(t.segments[e].path,n[0])),i++;continue}const s=to(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Yi(a)?(r.push(new wi(s,uo(a))),i+=2):(r.push(new wi(s,{})),i++)}return new yi(r,{})}function ao(t){const e={};return gi(t,(t,n)=>{null!==t&&(e[n]=so(new yi([],{}),0,t))}),e}function uo(t){const e={};return gi(t,(t,n)=>e[n]=""+t),e}function co(t,e,n){return t==n.path&&hi(e,n.parameters)}class lo{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ji(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=qi(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),gi(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=qi(t),i=t.value.component?n.children:e;gi(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=qi(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ii(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ni(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ji(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ho(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ho(t){Ji(t.value),t.children.forEach(ho)}class fo{constructor(t,e){this.routes=t,this.module=e}}function po(t){return"function"==typeof t}function go(t){return t instanceof vi}const mo=Symbol("INITIAL_VALUE");function bo(){return Mt(t=>function(...t){let e=void 0,n=void 0;return Object(dr.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(pr.a)(t[0])&&(t=t[0]),Object(yr.a)(t,n).lift(new _r(e))}(...t.map(t=>t.pipe(ee(1),Ar(mo)))).pipe(kr((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==mo)return t;if(r===mo&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||go(r))return r}return t},t)},mo),Qt(t=>t!==mo),Object(Lt.a)(t=>go(t)?t:!0===t),ee(1)))}class vo{constructor(t){this.segmentGroup=t||null}}class yo{constructor(t){this.urlTree=t}}function wo(t){return new Pt.a(e=>e.error(new vo(t)))}function _o(t){return new Pt.a(e=>e.error(new yo(t)))}function Oo(t){return new Pt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Eo{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.C)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,si).pipe(Object(Lt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nr(t=>{if(t instanceof yo)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof vo)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,si).pipe(Object(Lt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Nr(t=>{if(t instanceof vo)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new yi([],{[si]:t}):t;return new vi(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Lt.a)(t=>new yi([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(kt.a)({});const n=[],r=[],i={};return gi(t,(t,o)=>{const s=e(o,t).pipe(Object(Lt.a)(t=>i[o]=t));o===si?n.push(s):r.push(s)}),kt.a.apply(null,n.concat(r)).pipe(Sr(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qt((e,n)=>t(e,n,r)):he.a,Ir(1),n?ie(e):ae(()=>new Xt))}(),Object(Lt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(kt.a)(...n).pipe(Mr(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Nr(t=>{if(t instanceof vo)return Object(kt.a)(null);throw t}))),fe(t=>!!t),Nr((t,n)=>{if(t instanceof Xt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(kt.a)(new yi([],{}));throw new vo(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return xo(r)!==o?wo(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):wo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_o(i):this.lineralizeSegments(n,i).pipe(Object(Vr.a)(n=>{const i=new yi(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Co(e,r,i);if(!s)return wo(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?_o(l):this.lineralizeSegments(r,l).pipe(Object(Vr.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Lt.a)(t=>(n._loadedConfig=t,new yi(r,{})))):Object(kt.a)(new yi(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Co(e,n,r);if(!i)return wo(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Vr.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Io(t,e,n)&&xo(n)!==si)}(t,n,r)?{segmentGroup:So(new yi(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&xo(r)!==si&&(n[xo(r)]=new yi([],{}));return n}(r,new yi(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Io(t,e,n))}(t,n,r)?{segmentGroup:So(new yi(t.segments,function(t,e,n,r){const i={};for(const o of n)Io(t,e,o)&&!r[xo(o)]&&(i[xo(o)]=new yi([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Lt.a)(t=>new yi(o,t))):0===r.length&&0===s.length?Object(kt.a)(new yi(o,{})):this.expandSegment(n,i,r,s,si,!0).pipe(Object(Lt.a)(t=>new yi(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(kt.a)(new fo(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(kt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Vr.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Lt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Pt.a(e=>e.error(ci(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(kt.a)(new fo([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(kt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&po(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!po(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return mi(o)});return Object(kt.a)(i).pipe(bo(),Object(Ur.a)(t=>{if(!go(t))return;const e=ci(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Lt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(kt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Oo(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new vi(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return gi(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return gi(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new yi(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Co(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||li)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function So(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new yi(t.segments.concat(e.segments),e.children)}return t}function Io(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function xo(t){return t.outlet||si}class To{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jo{constructor(t,e){this.component=t,this.route=e}}function Ao(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=qi(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_i(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_i(t.url,e.url)||!hi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zi(t,e)||!hi(t.queryParams,e.queryParams);case"paramsChange":default:return!Zi(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new To(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new jo(u.outlet.component,a))}else a&&Po(n,u,o),o.canActivateChecks.push(new To(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),gi(s,(t,e)=>Po(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function ko(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Po(t,e,n){const r=qi(t),i=t.value;gi(r,(t,r)=>{Po(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new jo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ro(t,e){return null!==t&&e&&e(new ri(t)),Object(kt.a)(!0)}function No(t,e){return null!==t&&e&&e(new ei(t)),Object(kt.a)(!0)}function Do(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(kt.a)(!0);const i=r.map(r=>Er(()=>{const i=ko(r,e,n);let o;if(function(t){return t&&po(t.canActivate)}(i))o=mi(i.canActivate(e,t));else{if(!po(i))throw new Error("Invalid CanActivate guard");o=mi(i(e,t))}return o.pipe(fe())}));return Object(kt.a)(i).pipe(bo())}function Lo(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Er(()=>{const i=e.guards.map(i=>{const o=ko(i,e.node,n);let s;if(function(t){return t&&po(t.canActivateChild)}(o))s=mi(o.canActivateChild(r,t));else{if(!po(o))throw new Error("Invalid CanActivateChild guard");s=mi(o(r,t))}return s.pipe(fe())});return Object(kt.a)(i).pipe(bo())}));return Object(kt.a)(i).pipe(bo())}class Vo{}class Mo{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ho(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,si),n=new $i([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},si,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hi(n,e),i=new Xi(this.url,r);return this.inheritParamsAndData(i._root),Object(kt.a)(i)}catch(vE){return new Pt.a(e=>e.error(vE))}}inheritParamsAndData(t){const e=t.value,n=Wi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Oi(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===si?-1:e.value.outlet===si?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(vE){if(!(vE instanceof Vo))throw vE}if(this.noLeftoversInUrl(e,n,r))return[];throw new Vo}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Vo;if((t.outlet||si)!==r)throw new Vo;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?pi(n).parameters:{};i=new $i(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bo(t),r,t.component,t,Uo(e),Fo(e)+n.length,Go(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Vo;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||li)(n,t,e);if(!r)throw new Vo;const i={};gi(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new $i(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bo(t),r,t.component,t,Uo(e),Fo(e)+o.length,Go(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ho(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Hi(i,t)]}if(0===a.length&&0===c.length)return[new Hi(i,[])];const l=this.processSegment(a,u,c,si);return[new Hi(i,l)]}}function Uo(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Fo(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ho(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>qo(t,e,n)&&zo(n)!==si)}(t,n,r)){const i=new yi(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&zo(o)!==si){const n=new yi([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[zo(o)]=n}return i}(t,e,r,new yi(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qo(t,e,n))}(t,n,r)){const o=new yi(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(qo(t,n,a)&&!i[zo(a)]){const n=new yi([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[zo(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new yi(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function qo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function zo(t){return t.outlet||si}function Bo(t){return t.data||{}}function Go(t){return t.resolve||{}}function Wo(t){return function(e){return e.pipe(Mt(e=>{const n=t(e);return n?Object(Rt.a)(n).pipe(Object(Lt.a)(()=>e)):Object(Rt.a)([e])}))}}class $o extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Xo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Mb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Tb(0,"router-outlet")},directives:function(){return[fs]},encapsulation:2}),t})();function Ko(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Qo(r,Jo(e,r))}}function Qo(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==si)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ko(t.children,e)}function Jo(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Zo(t){const e=t.children&&t.children.map(Zo),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==si&&(n.component=Xo),n}const Yo=new r.t("ROUTES");class ts{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Lt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new fo(di(r.injector.get(Yo)).map(Zo),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Rt.a)(this.loader.load(t)):mi(t()).pipe(Object(Vr.a)(t=>t instanceof r.A?Object(kt.a)(t):Object(Rt.a)(this.compiler.compileModuleAsync(t))))}}class es{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ns,this.attachRef=null}}class ns{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new es,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class rs{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function is(t){throw t}function os(t,e,n){return e.parse("/")}function ss(t,e){return Object(kt.a)(null)}let as=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new At.a,this.errorHandler=is,this.malformedUriErrorHandler=os,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ss,afterPreactivation:ss},this.urlHandlingStrategy=new rs,this.routeReuseStrategy=new $o,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.C),this.console=o.get(r.eb);const c=o.get(r.E);this.isNgZoneEnabled=c instanceof r.E,this.resetConfig(u),this.currentUrlTree=new vi(new yi([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ts(s,a,t=>this.triggerEvent(new Yr(t)),t=>this.triggerEvent(new ti(t))),this.routerState=Bi(this.currentUrlTree,this.rootComponentType),this.transitions=new fr({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Qt(t=>0!==t.id),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Mt(t=>{let n=!1,r=!1;return Object(kt.a)(t).pipe(Object(Ur.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(kt.a)(t).pipe(Mt(t=>{const n=this.transitions.getValue();return e.next(new Br(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?te.a:[t]}),Mt(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Mt(t=>function(t,e,n,r,i){return new Eo(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Lt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Ur.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Vr.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Mo(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Lt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ur.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Ur.a)(t=>{const n=new Xr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Br(n,this.serializeUrl(r),i,o);e.next(a);const u=Bi(r,this.rootComponentType).snapshot;return Object(kt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),te.a}),Wo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ur.a)(t=>{const e=new Kr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{guards:Ao(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Vr.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(kt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Rt.a)(t).pipe(Object(Vr.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(kt.a)(!0);const s=o.map(o=>{const s=ko(o,e,i);let a;if(function(t){return t&&po(t.canDeactivate)}(s))a=mi(s.canDeactivate(t,e,n,r));else{if(!po(s))throw new Error("Invalid CanDeactivate guard");a=mi(s(t,e,n,r))}return a.pipe(fe())});return Object(kt.a)(s).pipe(bo())}(t.component,t.route,n,e,r)),fe(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Vr.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Rt.a)(e).pipe(Mr(e=>Object(Rt.a)([No(e.route.parent,r),Ro(e.route,r),Lo(t,e.path,n),Do(t,e.route,n)]).pipe(Sr(),fe(t=>!0!==t,!0))),fe(t=>!0!==t,!0))}(r,o,t,e):Object(kt.a)(n)),Object(Lt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ur.a)(t=>{if(go(t.guardsResult)){const e=ci(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Ur.a)(t=>{const e=new Qr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Qt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Wr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Wo(t=>{if(t.guards.canActivateChecks.length)return Object(kt.a)(t).pipe(Object(Ur.a)(t=>{const e=new Jr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Mt(t=>{let n=!1;return Object(kt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Vr.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(kt.a)(t);let o=0;return Object(Rt.a)(n).pipe(Mr(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(kt.a)({});const o={};return Object(Rt.a)(i).pipe(Object(Vr.a)(i=>function(t,e,n,r){const i=ko(t,e,r);return mi(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ur.a)(t=>{o[i]=t}))),Ir(1),Object(Vr.a)(()=>Object.keys(o).length===i.length?Object(kt.a)(o):te.a))}(t._resolve,t,e,r).pipe(Object(Lt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Wi(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ur.a)(()=>o++),Ir(1),Object(Vr.a)(e=>o===n.length?Object(kt.a)(t):te.a))}))}),Object(Ur.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Wr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ur.a)(t=>{const e=new Zr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Wo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Lt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Hi(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Gi(new fr((i=n.value).url),new fr(i.params),new fr(i.queryParams),new fr(i.fragment),new fr(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Hi(r,o)}}var i}(t,e._root,n?n._root:void 0);return new zi(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ur.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Lt.a)(t=>(new lo(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(Ur.a)({next(){n=!0},complete(){n=!0}}),Fr(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Wr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Nr(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=go(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Wr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new $r(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Hp){t.reject(Hp)}}var i;return te.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ko(t),this.config=t.map(Zo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.bb)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return eo(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new no(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return gi(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new no(n,e,r)}(n);if(o.toRoot())return eo(e.root,new yi([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ro(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ro(t,t===e.root,0)}const r=Yi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ro(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?oo(s.segmentGroup,s.index,o.commands):io(s.segmentGroup,s.index,o.commands);return eo(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.bb)()&&this.isNgZoneEnabled&&!r.E.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=go(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(vE){e=this.malformedUriErrorHandler(vE,this.urlSerializer,t)}return e}isActive(t,e){if(go(t))return bi(this.currentUrlTree,t,e);const n=this.parseUrl(t);return bi(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Gr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.T),r.fc(Ei),r.fc(ns),r.fc(O),r.fc(r.u),r.fc(r.B),r.fc(r.j),r.fc(void 0))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),us=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new At.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.bb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ls(this.skipLocationChange),replaceUrl:ls(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ls(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ls(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(as),r.Sb(Gi),r.gc("tabindex"),r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.ic("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Eb]}),t})(),cs=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new At.a,this.subscription=t.events.subscribe(t=>{t instanceof Gr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.bb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:ls(this.skipLocationChange),replaceUrl:ls(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ls(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ls(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(as),r.Sb(Gi),r.Sb(b))},t.\u0275dir=r.Nb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ic("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.ac("href",e.href,r.Ac),r.Hb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Eb]}),t})();function ls(t){return""===t||!!t}let hs=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Gr&&this.update()})}ngAfterContentInit(){Object(Rt.a)([this.links.changes,this.linksWithHrefs.changes,Object(kt.a)(null)]).pipe(Object(Cr.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Rt.a)(e).pipe(Object(Cr.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(as),r.Sb(r.o),r.Sb(r.K),r.Sb(r.i),r.Sb(us,8),r.Sb(cs,8))},t.\u0275dir=r.Nb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Lb(n,us,!0),r.Lb(n,cs,!0)),2&t&&(r.xc(i=r.jc())&&(e.links=i),r.xc(i=r.jc())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Eb]}),t})(),fs=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.q,this.deactivateEvents=new r.q,this.name=i||si,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ds(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ns),r.Sb(r.W),r.Sb(r.l),r.gc("name"),r.Sb(r.i))},t.\u0275dir=r.Nb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ds{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gi?this.route:t===ns?this.childContexts:this.parent.get(t,e)}}class ps{}class gs{preload(t,e){return Object(kt.a)(null)}}let ms=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ts(e,n,e=>t.triggerEvent(new Yr(e)),e=>t.triggerEvent(new ti(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(t=>t instanceof Gr),Mr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.C);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Rt.a)(n).pipe(Object(Cr.a)(),Object(Lt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Vr.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.fc(as),r.fc(r.B),r.fc(r.j),r.fc(r.u),r.fc(ps))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),bs=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Br?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oi&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new oi(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(as),r.fc(J),r.fc(void 0))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();const vs=new r.t("ROUTER_CONFIGURATION"),ys=new r.t("ROUTER_FORROOT_GUARD"),ws=[O,{provide:Ei,useClass:Ci},{provide:as,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new as(null,t,e,n,r,i,o,di(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Ei,ns,O,r.u,r.B,r.j,Yo,vs,[class{},new r.F],[class{},new r.F]]},ns,{provide:Gi,useFactory:function(t){return t.routerState.root},deps:[as]},{provide:r.B,useClass:r.Q},ms,gs,class{preload(t,e){return e().pipe(Nr(()=>Object(kt.a)(null)))}},{provide:vs,useValue:{enableTracing:!1}}];function _s(){return new r.D("Router",as)}let Os=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ws,Is(e),{provide:ys,useFactory:Ss,deps:[[as,new r.F,new r.P]]},{provide:vs,useValue:n||{}},{provide:b,useFactory:Cs,deps:[u,[new r.s(y),new r.F],vs]},{provide:bs,useFactory:Es,deps:[as,J,vs]},{provide:ps,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:gs},{provide:r.D,multi:!0,useFactory:_s},[xs,{provide:r.d,multi:!0,useFactory:Ts,deps:[xs]},{provide:As,useFactory:js,deps:[xs]},{provide:r.b,multi:!0,useExisting:As}]]}}static forChild(e){return{ngModule:t,providers:[Is(e)]}}}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)(r.fc(ys,8),r.fc(as,8))}}),t})();function Es(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bs(t,e,n)}function Cs(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function Ss(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Is(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Yo,multi:!0,useValue:t}]}let xs=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new At.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(as),r=this.injector.get(vs);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(kt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(vs),n=this.injector.get(ms),i=this.injector.get(bs),o=this.injector.get(as),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.u))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();function Ts(t){return t.appInitializer.bind(t)}function js(t){return t.bootstrapListener.bind(t)}const As=new r.t("Router Initializer");var ks=n("XoHu");function Ps(t,e){return new Pt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Rt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Rs=new r.t("NgValueAccessor"),Ns={provide:Rs,useExisting:Object(r.ab)(()=>Ds),multi:!0};let Ds=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Fb([Ns])]}),t})();const Ls={provide:Rs,useExisting:Object(r.ab)(()=>Ms),multi:!0},Vs=new r.t("CompositionEventMode");let Ms=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o),r.Sb(Vs,8))},t.\u0275dir=r.Nb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ic("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Fb([Ls])]}),t})(),Us=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Nb({type:t}),t})(),Fs=(()=>{class t extends Us{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Hs(e||t)},t.\u0275dir=r.Nb({type:t,features:[r.Db]}),t})();const Hs=r.Zb(Fs);class qs extends Us{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class zs{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Bs=(()=>{class t extends zs{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(qs,2))},t.\u0275dir=r.Nb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Kb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.Db]}),t})(),Gs=(()=>{class t extends zs{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fs,2))},t.\u0275dir=r.Nb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Kb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.Db]}),t})();function Ws(t){return null==t||0===t.length}function $s(t){return null!=t&&"number"==typeof t.length}const Xs=new r.t("NgValidators"),Ks=new r.t("NgAsyncValidators"),Qs=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Js{static min(t){return e=>{if(Ws(e.value)||Ws(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ws(e.value)||Ws(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ws(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ws(t.value)||Qs.test(t.value)?null:{email:!0}}static minLength(t){return e=>Ws(e.value)||!$s(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>$s(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Js.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ws(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Zs);return 0==e.length?null:function(t){return ta(ea(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Zs);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(pr.a)(e))return Ps(e,null);if(Object(ks.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ps(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ps(t=1===t.length&&Object(pr.a)(t[0])?t[0]:t,null).pipe(Object(Lt.a)(t=>e(...t)))}return Ps(t,null)}(ea(t,e).map(Ys)).pipe(Object(Lt.a)(ta))}}}function Zs(t){return null!=t}function Ys(t){const e=Object(r.xb)(t)?Object(Rt.a)(t):t;return Object(r.wb)(e),e}function ta(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ea(t,e){return e.map(e=>e(t))}function na(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const ra={provide:Rs,useExisting:Object(r.ab)(()=>ia),multi:!0};let ia=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Fb([ra])]}),t})();const oa={provide:Rs,useExisting:Object(r.ab)(()=>aa),multi:!0};let sa=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),aa=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(qs),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o),r.Sb(sa),r.Sb(r.u))},t.\u0275dir=r.Nb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Fb([oa])]}),t})();const ua={provide:Rs,useExisting:Object(r.ab)(()=>ca),multi:!0};let ca=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Fb([ua])]}),t})();const la={provide:Rs,useExisting:Object(r.ab)(()=>ha),multi:!0};let ha=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Fb([la])]}),t})();const fa={provide:Rs,useExisting:Object(r.ab)(()=>da),multi:!0};let da=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Fb([fa])]}),t})();function pa(t,e){t.validator=Js.compose([t.validator,e.validator]),t.asyncValidator=Js.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ga(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ga(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function ga(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ma(t,e){t.validator=Js.compose([t.validator,e.validator]),t.asyncValidator=Js.composeAsync([t.asyncValidator,e.asyncValidator])}function ba(t){return null!=t?Js.compose(na(t)):null}function va(t){return null!=t?Js.composeAsync(na(t)):null}const ya=[Ds,ca,ia,ha,da,aa];function wa(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function _a(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Oa="VALID",Ea="INVALID",Ca="PENDING",Sa="DISABLED";function Ia(t){return(Aa(t)?t.validators:t)||null}function xa(t){return Array.isArray(t)?ba(t):t||null}function Ta(t,e){return(Aa(e)?e.asyncValidators:t)||null}function ja(t){return Array.isArray(t)?va(t):t||null}function Aa(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ka{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=xa(this._rawValidators),this._composedAsyncValidatorFn=ja(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Oa}get invalid(){return this.status===Ea}get pending(){return this.status==Ca}get disabled(){return this.status===Sa}get enabled(){return this.status!==Sa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=xa(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ja(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ca,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sa,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Oa,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Oa&&this.status!==Ca||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sa:Oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator=!0;const e=Ys(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ra?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Na&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.q,this.statusChanges=new r.q}_calculateStatus(){return this._allControlsDisabled()?Sa:this.errors?Ea:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(Ea)?Ea:Oa}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Aa(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Pa extends ka{constructor(t=null,e,n){super(Ia(e),Ta(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ra extends ka{constructor(t,e,n){super(Ia(e),Ta(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Pa?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Na extends ka{constructor(t,e,n){super(Ia(e),Ta(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Pa?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Da={provide:Fs,useExisting:Object(r.ab)(()=>Va)},La=(()=>Promise.resolve(null))();let Va=(()=>{class t extends Fs{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.q,this.form=new Ra({},ba(t),va(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){La.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),pa(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){La.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),_a(this._directives,t)})}addFormGroup(t){La.then(()=>{const e=this._findContainer(t.path),n=new Ra({});ma(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){La.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){La.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,wa(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Xs,10),r.Sb(Ks,10))},t.\u0275dir=r.Nb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ic("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Fb([Da]),r.Db]}),t})(),Ma=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Nb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ua=new r.t("NgModelWithFormControlWarning"),Fa={provide:Fs,useExisting:Object(r.ab)(()=>Ha)};let Ha=(()=>{class t extends Fs{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.q}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return pa(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){_a(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);ma(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);ma(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,wa(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&pa(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=ba(this._validators);this.form.validator=Js.compose([this.form.validator,t]);const e=va(this._asyncValidators);this.form.asyncValidator=Js.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Xs,10),r.Sb(Ks,10))},t.\u0275dir=r.Nb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ic("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Fb([Fa]),r.Db,r.Eb]}),t})();const qa={provide:qs,useExisting:Object(r.ab)(()=>za)};let za=(()=>{class t extends qs{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.q,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ms?n=t:(e=t,ya.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(function(t,e,n,i){Object(r.bb)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ba(this._rawValidators)}get asyncValidator(){return va(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fs,13),r.Sb(Xs,10),r.Sb(Ks,10),r.Sb(Rs,10),r.Sb(Ua,8))},t.\u0275dir=r.Nb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Fb([qa]),r.Db,r.Eb]}),t._ngModelWarningSentOnce=!1,t})(),Ba=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),Ga=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ra(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Pa(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Na(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Pa||t instanceof Ra||t instanceof Na?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),Wa=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[sa],imports:[Ba]}),t})(),$a=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ua,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[Ga,sa],imports:[Ba]}),t})();var Xa=n("n6bG");function Ka(t,e,n,r){return Object(Xa.a)(n)&&(r=n,n=void 0),r?Ka(t,e,n).pipe(Object(Lt.a)(t=>Object(pr.a)(t)?r(...t):r(t))):new Pt.a(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var Qa=n("Y7HM");function Ja(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class Za{call(t,e){return e.subscribe(new Ya(t))}}class Ya extends gr{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=vr(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var tu=n("Lhse");function eu(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(yr.a)(t,void 0).lift(new nu(e))}class nu{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ru(t,this.resultSelector))}}class ru extends Kt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(pr.a)(t)?e.push(new ou(t)):e.push("function"==typeof t[tu.a]?new iu(t[tu.a]()):new su(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class iu{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class ou{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[tu.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class su extends Vt.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[tu.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Vt.c)(this.observable,new Vt.a(this))}}function au(t){return e=>e.lift(new uu(t))}class uu{constructor(t){this.notifier=t}call(t,e){const n=new cu(t),r=Object(Vt.c)(this.notifier,new Vt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class cu extends Vt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class lu{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new hu(t,this.compare,this.keySelector))}}class hu extends Kt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function fu(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new du(t,n))}}class du{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new pu(t,this.observables,this.project))}}class pu extends gr{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(vr(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV");const gu=["*"],mu=["dialog"];function bu(t){return null!=t}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const vu={animation:!0,transitionTimerDelayMs:5};let yu=(()=>{class t{constructor(){this.animation=vu.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ob)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const wu=()=>{},{transitionTimerDelayMs:_u}=vu,Ou=new Map,Eu=(t,e,n)=>{let r=n.context||{};const i=Ou.get(t);if(i)switch(n.runningTransition){case"continue":return te.a;case"stop":i.transition$.complete(),r=Object.assign(i.context,r),Ou.delete(t)}!function(t){t||document}(t);const o=e(t,r)||wu;if(!n.animation||"none"===window.getComputedStyle(t).transitionProperty)return o(),Object(kt.a)(void 0);const s=new At.a,a=s.pipe(function(...t){return e=>jr(e,Object(kt.a)(...t))}(!0));Ou.set(t,{transition$:s,context:r});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(t),c=Ka(t,"transitionend").pipe(au(a),Qt(({target:e})=>e===t));return function(...t){if(1===t.length){if(!Object(pr.a)(t[0]))return t[0];t=t[0]}return Object(yr.a)(t,void 0).lift(new Za)}(function(t=0,e,n){let r=-1;return Object(Qa.a)(e)?r=Number(e)<1?1:Number(e):Object(dr.a)(e)&&(n=e),Object(dr.a)(n)||(n=Ee.a),new Pt.a(e=>{const i=Object(Qa.a)(t)?t:+t-n.now();return n.schedule(Ja,i,{index:0,period:r,subscriber:e})})}(u+_u).pipe(au(a)),c).pipe(au(a)).subscribe(()=>{Ou.delete(t),o(),s.next(),s.complete()}),s.asObservable()};let Cu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Su=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Iu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),xu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Tu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})();var ju=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const Au=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ku(t){const e=Array.from(t.querySelectorAll(Au)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let Pu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K,Wa]]}),t})(),Ru=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Nb({type:t,selectors:[["",8,"navbar"]]}),t})(),Nu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),Du=(()=>{class t{constructor(t){this.backdrop=!0,this.keyboard=!0,this.animation=t.animation}}return t.\u0275fac=function(e){return new(e||t)(r.fc(yu))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(yu))},token:t,providedIn:"root"}),t})();class Lu{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Vu=()=>{};let Mu=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Vu}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(a))},token:t,providedIn:"root"}),t})(),Uu=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(ee(1)).subscribe(()=>{Eu(this._el.nativeElement,({classList:t})=>t.add("show"),{animation:this.animation,runningTransition:"continue"})})}hide(){return Eu(this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.o),r.Sb(r.E))},t.\u0275cmp=r.Mb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Ib("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Kb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Fu{close(t){}dismiss(t){}}class Hu{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new At.a,this._dismissed=new At.a,this._hidden=new At.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(au(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(au(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(kt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),eu(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var qu=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let zu=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new At.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.q,this.shown=new At.a,this.hidden=new At.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=eu(Eu(t,()=>t.classList.remove("show"),e),Eu(this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"continue"};eu(Eu(t,()=>t.classList.add("show"),e),Eu(this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ka(t,"keydown").pipe(au(this._closed$),Qt(t=>t.which===ju.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(qu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Ka(this._dialogEl.nativeElement,"mousedown").pipe(au(this._closed$),Object(Ur.a)(()=>e=!1),Mt(()=>Ka(t,"mouseup").pipe(au(this._closed$),ee(1))),Qt(({target:e})=>t===e)).subscribe(()=>{e=!0}),Ka(t,"click").pipe(au(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(qu.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=ku(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Eu(this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(r.o),r.Sb(r.E))},t.\u0275cmp=r.Mb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.Dc(mu,!0),2&t&&r.xc(n=r.jc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Hb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Ib("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Kb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:gu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0,1),r.Xb(2,"div",2),r.oc(3),r.Wb(),r.Wb()),2&t&&r.Ib("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Bu=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new At.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.q,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Ka(e,"focusin").pipe(au(n),Object(Lt.a)(t=>t.target));Ka(e,"keydown").pipe(au(n),Qt(t=>t.which===ju.Tab),fu(t)).subscribe(([t,n])=>{const[r,i]=ku(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Ka(e,"click").pipe(au(n),fu(t),Object(Lt.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:bu(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new Fu,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new Hu(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Uu).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(zu).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{bu(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{bu(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.R?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Lu([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Lu([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new Lu([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.u.create({providers:[{provide:Fu,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Lu([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.g),r.fc(r.u),r.fc(a),r.fc(Mu),r.fc(r.L),r.fc(r.E))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(r.g),Object(r.fc)(r.r),Object(r.fc)(a),Object(r.fc)(Mu),Object(r.fc)(r.L),Object(r.fc)(r.E))},token:t,providedIn:"root"}),t})(),Gu=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.l),r.fc(r.u),r.fc(Bu),r.fc(Du))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(r.l),Object(r.fc)(r.r),Object(r.fc)(Bu),Object(r.fc)(Du))},token:t,providedIn:"root"}),t})(),Wu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[Gu]}),t})(),$u=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Xu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Ku=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Qu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Ju=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Zu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),Yu=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),tc=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),ec=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[K]]}),t})();const nc=[Cu,Su,Iu,xu,Tu,Pu,Nu,Wu,$u,Xu,Ku,Qu,Ju,Zu,Yu,tc,ec];let rc=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[nc,Cu,Su,Iu,xu,Tu,Pu,Nu,Wu,$u,Xu,Ku,Qu,Ju,Zu,Yu,tc,ec]}),t})();function ic(){return t=>t.lift(new oc)}class oc{call(t,e){return e.subscribe(new sc(t))}}class sc extends Kt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ac=n("Jgta"),uc=n("q/0M"),cc=function(t,e){return(cc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function lc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var hc,fc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},dc=dc||{},pc=fc||self;function gc(){}function mc(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function bc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var vc="closure_uid_"+(1e9*Math.random()>>>0),yc=0;function wc(t,e,n){return t.call.apply(t.bind,arguments)}function _c(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Oc(t,e,n){return(Oc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wc:_c).apply(null,arguments)}function Ec(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Cc(){return Date.now()}function Sc(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ic(){this.j=this.j,this.i=this.i}Ic.prototype.j=!1,Ic.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,vc)&&t[vc]||(t[vc]=++yc)}(this)},Ic.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var xc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Tc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function jc(t){return Array.prototype.concat.apply([],arguments)}function Ac(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function kc(t){return/^[\s\xa0]*$/.test(t)}var Pc,Rc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Nc(t,e){return-1!=t.indexOf(e)}function Dc(t,e){return t<e?-1:t>e?1:0}t:{var Lc=pc.navigator;if(Lc){var Vc=Lc.userAgent;if(Vc){Pc=Vc;break t}}Pc=""}function Mc(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Uc(t){var e={};for(var n in t)e[n]=t[n];return e}var Fc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hc(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Fc.length;o++)n=Fc[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function qc(t){return qc[" "](t),t}qc[" "]=gc;var zc,Bc,Gc=Nc(Pc,"Opera"),Wc=Nc(Pc,"Trident")||Nc(Pc,"MSIE"),$c=Nc(Pc,"Edge"),Xc=$c||Wc,Kc=Nc(Pc,"Gecko")&&!(Nc(Pc.toLowerCase(),"webkit")&&!Nc(Pc,"Edge"))&&!(Nc(Pc,"Trident")||Nc(Pc,"MSIE"))&&!Nc(Pc,"Edge"),Qc=Nc(Pc.toLowerCase(),"webkit")&&!Nc(Pc,"Edge");function Jc(){var t=pc.document;return t?t.documentMode:void 0}t:{var Zc="",Yc=(Bc=Pc,Kc?/rv:([^\);]+)(\)|;)/.exec(Bc):$c?/Edge\/([\d\.]+)/.exec(Bc):Wc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bc):Qc?/WebKit\/(\S+)/.exec(Bc):Gc?/(?:Version)[ \/]?(\S+)/.exec(Bc):void 0);if(Yc&&(Zc=Yc?Yc[1]:""),Wc){var tl=Jc();if(null!=tl&&tl>parseFloat(Zc)){zc=String(tl);break t}}zc=Zc}var el={};function nl(t){return function(t,e){var n=el;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Rc(String(zc)).split("."),r=Rc(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Dc(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Dc(0==s[2].length,0==a[2].length)||Dc(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var rl=pc.document&&Wc&&(Jc()||parseInt(zc,10))||void 0,il=!Wc||9<=Number(rl),ol=Wc&&!nl("9"),sl=function(){if(!pc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pc.addEventListener("test",gc,e),pc.removeEventListener("test",gc,e)}catch(n){}return t}();function al(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ul(t,e){if(al.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Kc){t:{try{qc(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cl[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}al.prototype.b=function(){this.defaultPrevented=!0},Sc(ul,al);var cl={2:"touch",3:"pen",4:"mouse"};ul.prototype.b=function(){ul.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ol)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ll="closure_listenable_"+(1e6*Math.random()|0),hl=0;function fl(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++hl,this.Y=this.Z=!1}function dl(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function pl(t){this.src=t,this.a={},this.b=0}function gl(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=xc(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(dl(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ml(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}pl.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ml(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new fl(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var bl="closure_lm_"+(1e6*Math.random()|0),vl={};function yl(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=xl(r),e&&e[ll]?e.wa(n,r,bc(i)?!!i.capture:!!i,o):wl(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)yl(t,e[o],n,r,i);return null}return n=xl(n),t&&t[ll]?t.va(e,n,bc(r)?!!r.capture:!!r,i):wl(t,e,n,!1,r,i)}function wl(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=bc(i)?!!i.capture:!!i;if(s&&!il)return null;var a=Sl(t);if(a||(t[bl]=a=new pl(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Cl,e=il?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sl||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ol(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _l(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ll])gl(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ol(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Sl(e))?(gl(n,t),0==n.b&&(n.src=null,e[bl]=null)):dl(t)}}}function Ol(t){return t in vl?vl[t]:vl[t]="on"+t}function El(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&_l(t),n.call(r,e)}function Cl(t,e){if(t.Y)return!0;if(!il){if(!e)t:{e=["window","event"];for(var n=pc,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return El(t,e=new ul(e,this))}return El(t,new ul(e,this))}function Sl(t){return(t=t[bl])instanceof pl?t:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function xl(t){return"function"==typeof t?t:(t[Il]||(t[Il]=function(e){return t.handleEvent(e)}),t[Il])}function Tl(){Ic.call(this),this.c=new pl(this),this.J=this,this.C=null}function jl(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new al(e,t);else if(e instanceof al)e.target=e.target||t;else{var i=e;Hc(e=new al(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Al(s,r,!0,e)&&i}if(i=Al(s=e.a=t,r,!0,e)&&i,i=Al(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Al(s=e.a=n[o],r,!1,e)&&i}function Al(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&gl(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Sc(Tl,Ic),Tl.prototype[ll]=!0,(hc=Tl.prototype).addEventListener=function(t,e,n,r){yl(this,t,e,n,r)},hc.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=bc(i)?!!i.capture:!!i,r=xl(r),e&&e[ll]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ml(s=e.a[n],r,i,o))&&(dl(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Sl(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ml(n,r,i,o)),(r=-1<e?n[e]:null)&&_l(r))}(this,t,e,n,r)},hc.G=function(){if(Tl.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)dl(n[r]);delete e.a[t],e.b--}}this.C=null},hc.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},hc.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kl=pc.JSON.stringify;function Pl(){this.b=this.a=null}var Rl,Nl=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ll}),(function(t){t.reset()}));function Dl(){var t=Fl,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ll(){this.next=this.b=this.a=null}function Vl(t){pc.setTimeout((function(){throw t}),0)}function Ml(t,e){Rl||function(){var t=pc.Promise.resolve(void 0);Rl=function(){t.then(Hl)}}(),Ul||(Rl(),Ul=!0),Fl.add(t,e)}Pl.prototype.add=function(t,e){var n=Nl.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ll.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ll.prototype.reset=function(){this.next=this.b=this.a=null};var Ul=!1,Fl=new Pl;function Hl(){for(var t;t=Dl();){try{t.a.call(t.b)}catch(n){Vl(n)}var e=Nl;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ul=!1}function ql(t,e){Tl.call(this),this.b=t||1,this.a=e||pc,this.f=Oc(this.Za,this),this.g=Cc()}function zl(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bl(t,e,n){if("function"==typeof t)n&&(t=Oc(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Oc(t.handleEvent,t)}return 2147483647<Number(e)?-1:pc.setTimeout(t,e||0)}function Gl(t){t.a=Bl((function(){t.a=null,t.c&&(t.c=!1,Gl(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Sc(ql,Tl),(hc=ql.prototype).aa=!1,hc.M=null,hc.Za=function(){if(this.aa){var t=Cc()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),jl(this,"tick"),this.aa&&(zl(this),this.start()))}},hc.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Cc())},hc.G=function(){ql.X.G.call(this),zl(this),delete this.a};var Wl=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}cc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Gl(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(pc.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ic);function $l(t){Ic.call(this),this.b=t,this.a={}}Sc($l,Ic);var Xl=[];function Kl(t,e,n,r){Array.isArray(n)||(n&&(Xl[0]=n.toString()),n=Xl);for(var i=0;i<n.length;i++){var o=yl(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ql(t){Mc(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_l(t)}),t),t.a={}}function Jl(){this.a=!0}function Zl(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return kl(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}$l.prototype.G=function(){$l.X.G.call(this),Ql(this)},$l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jl.prototype.info=function(){};var Yl={},th=null;function eh(){return th=th||new Tl}function nh(t){al.call(this,Yl.Fa,t)}function rh(t){var e=eh();jl(e,new nh(e,t))}function ih(t,e){al.call(this,Yl.STAT_EVENT,t),this.stat=e}function oh(t){var e=eh();jl(e,new ih(e,t))}function sh(t){al.call(this,Yl.Ga,t)}function ah(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return pc.setTimeout((function(){t()}),e)}Yl.Fa="serverreachability",Sc(nh,al),Yl.STAT_EVENT="statevent",Sc(ih,al),Yl.Ga="timingevent",Sc(sh,al);var uh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ch={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function lh(){}function hh(){}lh.prototype.a=null;var fh,dh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ph(){al.call(this,"d")}function gh(){al.call(this,"c")}function mh(){}function bh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new $l(this),this.P=vh,this.R=new ql(t=Xc?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Sc(ph,al),Sc(gh,al),Sc(mh,lh),fh=new mh;var vh=45e3,yh={},wh={};function _h(t,e,n){t.H=1,t.i=zh(Vh(e)),t.j=n,t.I=!0,Oh(t,null)}function Oh(t,e){t.u=Cc(),Sh(t),t.l=Vh(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),nf(n.b,"t",r),t.D=0,t.a=Jf(t.g,t.g.C?e:null),0<t.O&&(t.F=new Wl(Oc(t.Ca,t,t.a),t.O)),Kl(t.J,t.a,"readystatechange",t.Xa),e=t.B?Uc(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),rh(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Eh(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ch(t,n);if(i==wh){4==e&&(t.h=4,oh(14),r=!1),Zl(t.c,t.f,null,"[Incomplete Response]");break}if(i==yh){t.h=4,oh(15),Zl(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Zl(t.c,t.f,i,null),Ah(t,i)}4==e&&0==n.length&&(t.h=1,oh(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),zf(e),e.F=!0,oh(11))):(Zl(t.c,t.f,n,"[Invalid Chunked Response]"),jh(t),Th(t))}function Ch(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?wh:(n=Number(e.substring(n,r)),isNaN(n)?yh:(r+=1)+n>e.length?wh:(e=e.substr(r,n),t.D=r+n,e))}function Sh(t){t.T=Cc()+t.P,Ih(t,t.P)}function Ih(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ah(Oc(t.Va,t),e)}function xh(t){t.o&&(pc.clearTimeout(t.o),t.o=null)}function Th(t){0==t.g.v||t.A||Wf(t.g,t)}function jh(t){xh(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,zl(t.R),Ql(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ah(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||lf(n.b,t)))if(n.I=t.N,!t.C&&lf(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(kO){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Gf(n),Nf(n)}qf(n),oh(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ah(Oc(n.Sa,n),6e3));if(1>=cf(n.b)&&n.ea){try{n.ea()}catch(kO){}n.ea=void 0}}else Xf(n,11)}else if((t.C||n.a==t)&&Gf(n),!kc(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Nc(l,"spdy")||Nc(l,"quic")||Nc(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(hf(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,qh(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Cc()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Qf(u,u.C?u.ga:null,u.fa),d.C){ff(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(xh(p),Sh(p)),u.a=d}else Hf(u);0<n.g.length&&Vf(n)}else"stop"!=i[0]&&"close"!=i[0]||Xf(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xf(n,7):Rf(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);rh(4)}catch(kO){}}function kh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(mc(t)||"string"==typeof t)Tc(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(mc(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(mc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ph(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ph)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Rh(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nh(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nh(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(hc=bh.prototype).setTimeout=function(t){this.P=t},hc.Xa=function(t){t=t.target;var e=this.F;e&&3==jf(t)?e.f():this.Ca(t)},hc.Ca=function(t){try{if(t==this.a)t:{var e=jf(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Xc&&!this.a.$())){this.A||4!=e||7==n||rh(8==n||0>=r?3:2),xh(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kc(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,oh(12),jh(this),Th(this);break t}Zl(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ah(this,u)}this.I?(Eh(this,e,o),Xc&&this.b&&3==e&&(Kl(this.J,this.R,"tick",this.Wa),this.R.start())):(Zl(this.c,this.f,o,null),Ah(this,o)),4==e&&jh(this),this.b&&!this.A&&(4==e?Wf(this.g,this):(this.b=!1,Sh(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,oh(12)):(this.h=0,oh(13)),jh(this),Th(this)}}}catch(c){}},hc.Wa=function(){if(this.a){var t=jf(this.a),e=this.a.$();this.D<e.length&&(xh(this),Eh(this,t,e),this.b&&4!=t&&Sh(this))}},hc.cancel=function(){this.A=!0,jh(this)},hc.Va=function(){this.o=null;var t=Cc();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(rh(3),oh(17)),jh(this),this.h=2,Th(this)):Ih(this,this.T-t)},(hc=Ph.prototype).K=function(){Rh(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},hc.L=function(){return Rh(this),this.a.concat()},hc.get=function(t,e){return Nh(this.b,t)?this.b[t]:e},hc.set=function(t,e){Nh(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},hc.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lh(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Lh){this.a=void 0!==e?e:t.a,Mh(this,t.f),this.j=t.j,Uh(this,t.c),Fh(this,t.h),this.g=t.g,e=t.b;var n=new Zh;n.c=e.c,e.a&&(n.a=new Ph(e.a),n.b=e.b),Hh(this,n),this.i=t.i}else t&&(n=String(t).match(Dh))?(this.a=!!e,Mh(this,n[1]||"",!0),this.j=Bh(n[2]||""),Uh(this,n[3]||"",!0),Fh(this,n[4]),this.g=Bh(n[5]||"",!0),Hh(this,n[6]||"",!0),this.i=Bh(n[7]||"")):(this.a=!!e,this.b=new Zh(null,this.a))}function Vh(t){return new Lh(t)}function Mh(t,e,n){t.f=n?Bh(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Uh(t,e,n){t.c=n?Bh(e,!0):e}function Fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Hh(t,e,n){e instanceof Zh?(t.b=e,function(t,e){e&&!t.f&&(Yh(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tf(this,e),nf(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Gh(e,Qh)),t.b=new Zh(e,t.a))}function qh(t,e,n){t.b.set(e,n)}function zh(t){return qh(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Cc()).toString(36)),t}function Bh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Lh.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Gh(e,$h,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Gh(e,$h,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gh(n,"/"==n.charAt(0)?Kh:Xh,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Gh(n,Jh)),t.join("")};var $h=/[#\/\?@]/g,Xh=/[#\?:]/g,Kh=/[#\?]/g,Qh=/[#\?@]/g,Jh=/#/g;function Zh(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yh(t){t.a||(t.a=new Ph,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function tf(t,e){Yh(t),e=rf(t,e),Nh(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nh((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Rh(t)))}function ef(t,e){return Yh(t),e=rf(t,e),Nh(t.a.b,e)}function nf(t,e,n){tf(t,e),0<n.length&&(t.c=null,t.a.set(rf(t,e),Ac(n)),t.b+=n.length)}function rf(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(hc=Zh.prototype).add=function(t,e){Yh(this),this.c=null,t=rf(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},hc.forEach=function(t,e){Yh(this),this.a.forEach((function(n,r){Tc(n,(function(n){t.call(e,n,r,this)}),this)}),this)},hc.L=function(){Yh(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},hc.K=function(t){Yh(this);var e=[];if("string"==typeof t)ef(this,t)&&(e=jc(e,this.a.get(rf(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=jc(e,t[n])}return e},hc.set=function(t,e){return Yh(this),this.c=null,ef(this,t=rf(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},hc.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},hc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var of=function(){return function(t,e){this.b=t,this.a=e}}();function sf(t){this.g=t||af,t=pc.PerformanceNavigationTiming?0<(t=pc.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(pc.ia&&pc.ia.ya&&pc.ia.ya()&&pc.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var af=10;function uf(t){return!!t.b||!!t.a&&t.a.size>=t.f}function cf(t){return t.b?1:t.a?t.a.size:0}function lf(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function hf(t,e){t.a?t.a.add(e):t.b=e}function ff(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function df(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=lc(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ac(t.c)}function pf(){}function gf(){this.a=new pf}function mf(t,e,n){var r=n||"";try{kh(t,(function(t,n){var i=t;bc(t)&&(i=kl(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(vE){throw e.push(r+"type="+encodeURIComponent("_badmap")),vE}}function bf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}sf.prototype.cancel=function(){var t,e;if(this.c=df(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=lc(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},pf.prototype.stringify=function(t){return pc.JSON.stringify(t,void 0)},pf.prototype.parse=function(t){return pc.JSON.parse(t,void 0)};var vf=pc.JSON.parse;function yf(t){Tl.call(this),this.headers=new Ph,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=wf,this.D=this.F=!1}Sc(yf,Tl);var wf="",_f=/^https?$/i,Of=["POST","PUT"];function Ef(t){return"content-type"==t.toLowerCase()}function Cf(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Sf(t),xf(t)}function Sf(t){t.u||(t.u=!0,jl(t,"complete"),jl(t,"error"))}function If(t){if(t.b&&void 0!==dc&&(!t.s[1]||4!=jf(t)||2!=t.W()))if(t.l&&4==jf(t))Bl(t.za,0,t);else if(jl(t,"readystatechange"),4==jf(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Dh)[1]||null;if(!o&&pc.self&&pc.self.location){var s=pc.self.location.protocol;o=s.substr(0,s.length-1)}i=!_f.test(o?o.toLowerCase():"")}e=i}if(e)jl(t,"complete"),jl(t,"success");else{t.h=6;try{var a=2<jf(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Sf(t)}}finally{xf(t)}}}function xf(t,e){if(t.a){Tf(t);var n=t.a,r=t.s[0]?gc:null;t.a=null,t.s=null,e||jl(t,"ready");try{n.onreadystatechange=r}catch(vE){}}}function Tf(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(pc.clearTimeout(t.m),t.m=null)}function jf(t){return t.a?t.a.readyState:0}function Af(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Mc(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qh(t,e,n))}function kf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Pf(t){this.pa=0,this.g=[],this.c=new Jl,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=kf("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=kf("baseRetryDelayMs",5e3,t),this.Ra=kf("retryDelaySeedMs",1e4,t),this.Ma=kf("forwardChannelMaxRetries",2,t),this.ma=kf("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new sf(t&&t.concurrentRequestLimit),this.ka=new gf,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Rf(t){if(Df(t),3==t.v){var e=t.R++,n=Vh(t.B);qh(n,"SID",t.J),qh(n,"RID",e),qh(n,"TYPE","terminate"),Uf(t,n),(e=new bh(t,t.c,e,void 0)).H=2,e.i=zh(Vh(n)),n=!1,pc.navigator&&pc.navigator.sendBeacon&&(n=pc.navigator.sendBeacon(e.i.toString(),"")),!n&&pc.Image&&((new Image).src=e.i,n=!0),n||(e.a=Jf(e.g,null),e.a.ba(e.i)),e.u=Cc(),Sh(e)}Kf(t)}function Nf(t){t.a&&(zf(t),t.a.cancel(),t.a=null)}function Df(t){Nf(t),t.j&&(pc.clearTimeout(t.j),t.j=null),Gf(t),t.b.cancel(),t.h&&("number"==typeof t.h&&pc.clearTimeout(t.h),t.h=null)}function Lf(t,e){t.g.push(new of(t.Oa++,e)),3==t.v&&Vf(t)}function Vf(t){uf(t.b)||t.h||(t.h=!0,Ml(t.Ba,t),t.u=0)}function Mf(t,e){var n;n=e?e.f:t.R++;var r=Vh(t.B);qh(r,"SID",t.J),qh(r,"RID",n),qh(r,"AID",t.P),Uf(t,r),t.i&&t.l&&Af(r,t.i,t.l),n=new bh(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ff(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),hf(t.b,n),_h(n,r,e)}function Uf(t,e){t.f&&kh({},(function(t,n){qh(e,n,t)}))}function Ff(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Oc(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{mf(l,s,"req"+c+"_")}catch(Pd){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Hf(t){t.a||t.j||(t.T=1,Ml(t.Aa,t),t.o=0)}function qf(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=ah(Oc(t.Aa,t),$f(t,t.o)),t.o++,0))}function zf(t){null!=t.s&&(pc.clearTimeout(t.s),t.s=null)}function Bf(t){t.a=new bh(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Vh(t.la);qh(e,"RID","rpc"),qh(e,"SID",t.J),qh(e,"CI",t.H?"0":"1"),qh(e,"AID",t.P),Uf(t,e),qh(e,"TYPE","xmlhttp"),t.i&&t.l&&Af(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=zh(Vh(e)),n.j=null,n.I=!0,Oh(n,t)}function Gf(t){null!=t.m&&(pc.clearTimeout(t.m),t.m=null)}function Wf(t,e){var n=null;if(t.a==e){Gf(t),zf(t),t.a=null;var r=2}else{if(!lf(t.b,e))return;n=e.s,ff(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Cc()-e.u;var i=t.u;jl(r=eh(),new sh(r,n,e,i)),Vf(t)}else Hf(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(cf(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ah(Oc(t.Ba,t,e),$f(t,t.u)),t.u++,0)))}(t,e)||2==r&&qf(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Xf(t,5);break;case 4:Xf(t,10);break;case 3:Xf(t,6);break;default:Xf(t,2)}}function $f(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Xf(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Oc(t.Ya,t);n||(n=new Lh("//www.google.com/images/cleardot.gif"),pc.location&&"http"==pc.location.protocol||Mh(n,"https"),zh(n)),function(t,e){var n=new Jl;if(pc.Image){var r=new Image;r.onload=Ec(bf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ec(bf,n,r,"TestLoadImage: error",!1,e),r.onabort=Ec(bf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ec(bf,n,r,"TestLoadImage: timeout",!1,e),pc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else oh(2);t.v=0,t.f&&t.f.ra(e),Kf(t),Df(t)}function Kf(t){t.v=0,t.I=-1,t.f&&(0==df(t.b).length&&0==t.g.length||(t.b.c.length=0,Ac(t.g),t.g.length=0),t.f.qa())}function Qf(t,e,n){var r=function(t){return t instanceof Lh?Vh(t):new Lh(t,void 0)}(n);if(""!=r.c)e&&Uh(r,e+"."+r.c),Fh(r,r.h);else{var i=pc.location;r=function(t,e,n,r){var i=new Lh(null,void 0);return t&&Mh(i,t),e&&Uh(i,e),n&&Fh(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Mc(t.V,(function(t,e){qh(r,e,t)})),n=t.na,(e=t.A)&&n&&qh(r,e,n),qh(r,"VER",t.ha),Uf(t,r),r}function Jf(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yf(t.Na)).F=t.C,e}function Zf(){}function Yf(){if(Wc&&!(10<=Number(rl)))throw Error("Environmental error: no available transport.")}function td(t,e){Tl.call(this),this.a=new Pf(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!kc(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kc(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rd(this)}function ed(t){ph.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nd(){gh.call(this),this.status=1}function rd(t){this.a=t}(hc=yf.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:fh),this.a.onreadystatechange=Oc(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Cf(this,o)}t=n||"";var i=new Ph(this.headers);r&&kh(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ef,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=pc.FormData&&t instanceof pc.FormData,!(0<=xc(Of,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Tf(this),0<this.o&&((this.D=function(t){return Wc&&nl(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Oc(this.xa,this)):this.m=Bl(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Cf(this,o)}},hc.xa=function(){void 0!==dc&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,jl(this,"timeout"),this.abort(8))},hc.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,jl(this,"complete"),jl(this,"abort"),xf(this))},hc.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xf(this,!0)),yf.X.G.call(this)},hc.za=function(){this.j||(this.A||this.l||this.g?If(this):this.Ua())},hc.Ua=function(){If(this)},hc.W=function(){try{return 2<jf(this)?this.a.status:-1}catch(Bc){return-1}},hc.$=function(){try{return this.a?this.a.responseText:""}catch(Bc){return""}},hc.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vf(e)}},hc.ua=function(){return this.h},hc.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(hc=Pf.prototype).ha=8,hc.v=1,hc.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new bh(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Hc(r=Uc(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ff(this,n,e),qh(i=Vh(this.B),"RID",t),qh(i,"CVER",22),this.A&&qh(i,"X-HTTP-Session-Id",this.A),Uf(this,i),this.i&&r&&Af(i,this.i,r),hf(this.b,n),this.Ia&&qh(i,"TYPE","init"),this.da?(qh(i,"$req",e),qh(i,"SID","null"),n.U=!0,_h(n,i,null)):_h(n,i,e),this.v=2}}else 3==this.v&&(t?Mf(this,t):0==this.g.length||uf(this.b)||Mf(this))},hc.Aa=function(){if(this.j=null,Bf(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ah(Oc(this.Ta,this),t)}},hc.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,oh(10),Nf(this),Bf(this))},hc.Sa=function(){null!=this.m&&(this.m=null,Nf(this),qf(this),oh(19))},hc.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),oh(2)):(this.c.info("Failed to ping google.com"),oh(1))},(hc=Zf.prototype).ta=function(){},hc.sa=function(){},hc.ra=function(){},hc.qa=function(){},hc.Ja=function(){},Yf.prototype.a=function(t,e){return new td(t,e)},Sc(td,Tl),td.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;oh(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Qf(t,null,t.fa),Vf(t)},td.prototype.close=function(){Rf(this.a)},td.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Lf(this.a,e)}else this.l?((e={}).__data__=kl(t),Lf(this.a,e)):Lf(this.a,t)},td.prototype.G=function(){this.a.f=null,delete this.f,Rf(this.a),delete this.a,td.X.G.call(this)},Sc(ed,ph),Sc(nd,gh),Sc(rd,Zf),rd.prototype.ta=function(){jl(this.a,"a")},rd.prototype.sa=function(t){jl(this.a,new ed(t))},rd.prototype.ra=function(t){jl(this.a,new nd(t))},rd.prototype.qa=function(){jl(this.a,"b")},Yf.prototype.createWebChannel=Yf.prototype.a,td.prototype.send=td.prototype.h,td.prototype.open=td.prototype.g,td.prototype.close=td.prototype.close,uh.NO_ERROR=0,uh.TIMEOUT=8,uh.HTTP_ERROR=6,ch.COMPLETE="complete",hh.EventType=dh,dh.OPEN="a",dh.CLOSE="b",dh.ERROR="c",dh.MESSAGE="d",Tl.prototype.listen=Tl.prototype.va,yf.prototype.listenOnce=yf.prototype.wa,yf.prototype.getLastError=yf.prototype.Qa,yf.prototype.getLastErrorCode=yf.prototype.ua,yf.prototype.getStatus=yf.prototype.W,yf.prototype.getResponseJson=yf.prototype.Pa,yf.prototype.getResponseText=yf.prototype.$,yf.prototype.send=yf.prototype.ba;var id=uh,od=ch,sd=Yl,ad=hh,ud=yf,cd=new uc.b("@firebase/firestore");function ld(){return cd.logLevel}function hd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cd.logLevel<=uc.a.DEBUG){var r=e.map(pd);cd.debug.apply(cd,Object(Te.g)(["Firestore (8.2.2): "+t],r))}}function fd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cd.logLevel<=uc.a.ERROR){var r=e.map(pd);cd.error.apply(cd,Object(Te.g)(["Firestore (8.2.2): "+t],r))}}function dd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cd.logLevel<=uc.a.WARN){var r=e.map(pd);cd.warn.apply(cd,Object(Te.g)(["Firestore (8.2.2): "+t],r))}}function pd(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(vE){return t}}function gd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw fd(e),new Error(e)}function md(t,e){t||gd()}function bd(t,e){return t}function vd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yd=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=vd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function wd(t,e){return t<e?-1:t>e?1:0}function _d(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Od(t){return t+"\0"}var Ed=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return wd(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Ed.h=new Ed("");var Cd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Te.c)(e,t),e}(Error),Id=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Ed.fromBase64String(e))}catch(e){throw new Sd(Cd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ed.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),xd=function(t){this._=t};function Td(){if("undefined"==typeof Uint8Array)throw new Sd(Cd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function jd(){if("undefined"==typeof atob)throw new Sd(Cd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.fromBase64String=function(t){return jd(),new e(Id.fromBase64String(t))},e.fromUint8Array=function(t){return Td(),new e(Id.fromUint8Array(t))},e.prototype.toBase64=function(){return jd(),this._.toBase64()},e.prototype.toUint8Array=function(){return Td(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(xd),kd=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Pd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Rd=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Rd.UNAUTHENTICATED=new Rd(null),Rd.P=new Rd("google-credentials-uid"),Rd.g=new Rd("first-party-uid");var Nd=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Dd=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Rd.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Ld=function(){function t(t){var e=this;this.C=null,this.currentUser=Rd.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(hd("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(md("string"==typeof n.accessToken),new Nd(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return md(null===t||"string"==typeof t),new Rd(t)},t}(),Vd=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Rd.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Md=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Vd(this.k,this.M))},t.prototype.S=function(t){t(Rd.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Ud=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Ud.U=-1;var Fd=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Sd(Cd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Sd(Cd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Sd(Cd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sd(Cd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?wd(this.nanoseconds,t.nanoseconds):wd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Hd=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new Fd(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),qd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&gd(),void 0===n?n=t.length-e:n>t.length-e&&gd(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(qd),Bd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Bd.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Sd(Cd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Sd(Cd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Sd(Cd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(qd),Wd=function(){function t(t){this.path=t}return t.ft=function(e){return new t(zd.ct(e))},t.dt=function(e){return new t(zd.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===zd.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return zd.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new zd(e.slice()))},t}();function $d(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xd(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Qd=function(){function t(t){this.fields=t,t.sort(Gd.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return _d(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Jd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zd(t){if(md(!!t),"string"==typeof t){var e=0,n=Jd.exec(t);if(md(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yd(t.seconds),nanos:Yd(t.nanos)}}function Yd(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tp(t){return"string"==typeof t?Ed.fromBase64String(t):Ed.fromUint8Array(t)}function ep(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function np(t){var e=Zd(t.mapValue.fields.__local_write_time__.timestampValue);return new Fd(e.seconds,e.nanos)}function rp(t){return null==t}function ip(t){return 0===t&&1/t==-1/0}function op(t){return"number"==typeof t&&Number.isInteger(t)&&!ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function sp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ep(t)?4:10:gd()}function ap(t,e){var n=sp(t);if(n!==sp(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return np(t).isEqual(np(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Zd(t.timestampValue),r=Zd(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return tp(t.bytesValue).isEqual(tp(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Yd(t.geoPointValue.latitude)===Yd(e.geoPointValue.latitude)&&Yd(t.geoPointValue.longitude)===Yd(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Yd(t.integerValue)===Yd(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Yd(t.doubleValue),r=Yd(e.doubleValue);return n===r?ip(n)===ip(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _d(t.arrayValue.values||[],e.arrayValue.values||[],ap);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if($d(n)!==$d(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ap(n[i],r[i])))return!1;return!0}(t,e);default:return gd()}}function up(t,e){return void 0!==(t.values||[]).find((function(t){return ap(t,e)}))}function cp(t,e){var n=sp(t),r=sp(e);if(n!==r)return wd(n,r);switch(n){case 0:return 0;case 1:return wd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Yd(t.integerValue||t.doubleValue),r=Yd(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return lp(t.timestampValue,e.timestampValue);case 4:return lp(np(t),np(e));case 5:return wd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=tp(t),r=tp(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=wd(n[i],r[i]);if(0!==o)return o}return wd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=wd(Yd(t.latitude),Yd(e.latitude));return 0!==n?n:wd(Yd(t.longitude),Yd(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=cp(n[i],r[i]);if(o)return o}return wd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=wd(r[s],o[s]);if(0!==a)return a;var u=cp(n[r[s]],i[o[s]]);if(0!==u)return u}return wd(r.length,o.length)}(t.mapValue,e.mapValue);default:throw gd()}}function lp(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return wd(t,e);var n=Zd(t),r=Zd(e),i=wd(n.seconds,r.seconds);return 0!==i?i:wd(n.nanos,r.nanos)}function hp(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Zd(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tp(e.bytesValue).toBase64():"referenceValue"in e?Wd.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):gd();var n}(t)}function fp(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function dp(t){return!!t&&"integerValue"in t}function pp(t){return!!t&&"arrayValue"in t}function gp(t){return!!t&&"nullValue"in t}function mp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bp(t){return!!t&&"mapValue"in t}var vp=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!bp(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return ap(this.proto,t.proto)},t}(),yp=function(){function t(t){void 0===t&&(t=vp.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===sp(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Gd.at(),this.Rt);return null!=t?new vp(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=bp(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function wp(t){var e=[];return Xd(t.fields||{},(function(t,n){var r=new Gd([t]);if(bp(n)){var i=wp(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Qd(e)}var _p=function(t,e){this.key=t,this.version=e},Op=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Te.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(_p),Ep=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Te.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_p),Cp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_p),Sp=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Ip(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Sp(t,e,n,r,i,o,s)}function xp(t){var e=bd(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+hp(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Fp(e.startAt)),e.endAt&&(n+="|ub:",n+=Fp(e.endAt)),e.St=n}return e.St}function Tp(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!qp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ap(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bp(t.startAt,e.startAt)&&Bp(t.endAt,e.endAt)}function jp(t){return Wd.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ap=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Te.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new kp(t,n,r):"array-contains"===n?new Dp(t,r):"in"===n?new Lp(t,r):"not-in"===n?new Vp(t,r):"array-contains-any"===n?new Mp(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Pp(t,n):new Rp(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(cp(e,this.value)):null!==e&&sp(this.value)===sp(e)&&this.Ct(cp(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gd()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),kp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Wd.dt(r.referenceValue),i}return Object(Te.c)(e,t),e.prototype.matches=function(t){var e=Wd.J(t.key,this.key);return this.Ct(e)},e}(Ap),Pp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Np(0,n),r}return Object(Te.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ap),Rp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Np(0,n),r}return Object(Te.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ap);function Np(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Wd.dt(t.referenceValue)}))}var Dp=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Te.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return pp(e)&&up(e.arrayValue,this.value)},e}(Ap),Lp=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Te.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&up(this.value.arrayValue,e)},e}(Ap),Vp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Te.c)(e,t),e.prototype.matches=function(t){if(up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!up(this.value.arrayValue,e)},e}(Ap),Mp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Te.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return up(e.value.arrayValue,t)}))},e}(Ap),Up=function(t,e){this.position=t,this.before=e};function Fp(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return hp(t)})).join(",")}var Hp=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function zp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Wd.J(Wd.dt(s.referenceValue),n.key):cp(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ap(t.position[n],e.position[n]))return!1;return!0}var Gp=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ot=null,this.Ft=null};function Wp(t,e,n,r,i,o,s,a){return new Gp(t,e,n,r,i,o,s,a)}function $p(t){return new Gp(t)}function Xp(t){return!rp(t.limit)&&"F"===t.limitType}function Kp(t){return!rp(t.limit)&&"L"===t.limitType}function Qp(t){return t.Nt.length>0?t.Nt[0].field:null}function Jp(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Zp(t){return null!==t.collectionGroup}function Yp(t){var e=bd(t);if(null===e.Ot){e.Ot=[];var n=Jp(e),r=Qp(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new Hp(n)),e.Ot.push(new Hp(Gd.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new Hp(Gd.lt(),u))}}}return e.Ot}function tg(t){var e=bd(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Ip(e.path,e.collectionGroup,Yp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Yp(e);r<i.length;r++){var o=i[r];n.push(new Hp(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Up(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Up(e.startAt.position,!e.startAt.before):null;e.Ft=Ip(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ft}function eg(t,e,n){return new Gp(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ng(t,e){return Tp(tg(t),tg(e))&&t.limitType===e.limitType}function rg(t){return xp(tg(t))+"|lt:"+t.limitType}function ig(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+hp(e.value);var e})).join(", ")+"]"),rp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Fp(t.startAt)),t.endAt&&(e+=", endAt: "+Fp(t.endAt)),"Target("+e+")"}(tg(t))+"; limitType="+t.limitType+")"}function og(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Wd.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!zp(t.startAt,Yp(t),e)||t.endAt&&zp(t.endAt,Yp(t),e))}(t,e)}function sg(t){return function(e,n){for(var r=!1,i=0,o=Yp(t);i<o.length;i++){var s=o[i],a=ag(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function ag(t,e,n){var r=t.field.ht()?Wd.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?cp(r,i):gd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gd()}}var ug=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Hd.min()),void 0===o&&(o=Hd.min()),void 0===s&&(s=Ed.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function cg(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function lg(t){return{integerValue:""+t}}function hg(t,e){return op(e)?lg(e):cg(t,e)}var fg=function(){this.Ut=void 0};function dg(t,e,n){return t instanceof mg?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof bg?vg(t,e):t instanceof yg?wg(t,e):function(t,e){var n=gg(t,e),r=Og(n)+Og(t.Qt);return dp(n)&&dp(t.Qt)?lg(r):cg(t.Kt,r)}(t,e)}function pg(t,e,n){return t instanceof bg?vg(t,e):t instanceof yg?wg(t,e):n}function gg(t,e){return t instanceof _g?dp(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e}(fg),bg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Te.c)(e,t),e}(fg);function vg(t,e){for(var n=Eg(e),r=function(t){n.some((function(e){return ap(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Te.c)(e,t),e}(fg);function wg(t,e){for(var n=Eg(e),r=function(t){n=n.filter((function(e){return!ap(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Te.c)(e,t),e}(fg);function Og(t){return Yd(t.integerValue||t.doubleValue)}function Eg(t){return pp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Cg=function(t,e){this.field=t,this.transform=e},Sg=function(t,e){this.version=t,this.transformResults=e},Ig=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function xg(t,e){return void 0!==t.updateTime?e instanceof Op&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Op}var Tg=function(){};function jg(t,e,n){return t instanceof Ng?function(t,e,n){var r=t.value;if(n.transformResults){var i=Vg(t.fieldTransforms,e,n.transformResults);r=Ug(t.fieldTransforms,r,i)}return new Op(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Dg?function(t,e,n){if(!xg(t.Gt,e))return new Cp(t.key,n.version);var r=Lg(t,e,n.transformResults?Vg(t.fieldTransforms,e,n.transformResults):[]);return new Op(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ep(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ag(t,e,n,r){return t instanceof Ng?function(t,e,n,r){if(!xg(t.Gt,e))return e;var i=t.value,o=Mg(t.fieldTransforms,n,e);i=Ug(t.fieldTransforms,i,o);var s=Rg(e);return new Op(t.key,s,i,{bt:!0})}(t,e,r):t instanceof Dg?function(t,e,n,r){if(!xg(t.Gt,e))return e;var i=Rg(e),o=Lg(t,e,Mg(t.fieldTransforms,n,e));return new Op(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return xg(t.Gt,e)?new Ep(t.key,Hd.min()):e}(t,e)}function kg(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Op?e.field(o.field):void 0,a=gg(o.transform,s||null);null!=a&&(n=null==n?(new yp).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function Pg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&_d(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof bg&&e instanceof bg||t instanceof yg&&e instanceof yg?_d(t.elements,e.elements,ap):t instanceof _g&&e instanceof _g?ap(t.Qt,e.Qt):t instanceof mg&&e instanceof mg}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Rg(t){return t instanceof Op?t.version:Hd.min()}var Ng=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Te.c)(e,t),e}(Tg),Dg=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Te.c)(e,t),e}(Tg);function Lg(t,e,n){var r;return r=function(t,e){var n=new yp(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Op?e.data():vp.empty()),Ug(t.fieldTransforms,r,n)}function Vg(t,e,n){var r=[];md(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Op&&(a=e.field(o.field)),r.push(pg(s,a,n[i]))}return r}function Mg(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Op&&(c=n.field(a.field)),i.push(dg(u,c,e))}return i}function Ug(t,e,n){for(var r=new yp(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Fg,Hg,qg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Te.c)(e,t),e}(Tg),zg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Te.c)(e,t),e}(Tg),Bg=function(t){this.count=t};function Gg(t){switch(t){case Cd.OK:return gd();case Cd.CANCELLED:case Cd.UNKNOWN:case Cd.DEADLINE_EXCEEDED:case Cd.RESOURCE_EXHAUSTED:case Cd.INTERNAL:case Cd.UNAVAILABLE:case Cd.UNAUTHENTICATED:return!1;case Cd.INVALID_ARGUMENT:case Cd.NOT_FOUND:case Cd.ALREADY_EXISTS:case Cd.PERMISSION_DENIED:case Cd.FAILED_PRECONDITION:case Cd.ABORTED:case Cd.OUT_OF_RANGE:case Cd.UNIMPLEMENTED:case Cd.DATA_LOSS:return!0;default:return gd()}}function Wg(t){if(void 0===t)return fd("GRPC error has no .code"),Cd.UNKNOWN;switch(t){case Fg.OK:return Cd.OK;case Fg.CANCELLED:return Cd.CANCELLED;case Fg.UNKNOWN:return Cd.UNKNOWN;case Fg.DEADLINE_EXCEEDED:return Cd.DEADLINE_EXCEEDED;case Fg.RESOURCE_EXHAUSTED:return Cd.RESOURCE_EXHAUSTED;case Fg.INTERNAL:return Cd.INTERNAL;case Fg.UNAVAILABLE:return Cd.UNAVAILABLE;case Fg.UNAUTHENTICATED:return Cd.UNAUTHENTICATED;case Fg.INVALID_ARGUMENT:return Cd.INVALID_ARGUMENT;case Fg.NOT_FOUND:return Cd.NOT_FOUND;case Fg.ALREADY_EXISTS:return Cd.ALREADY_EXISTS;case Fg.PERMISSION_DENIED:return Cd.PERMISSION_DENIED;case Fg.FAILED_PRECONDITION:return Cd.FAILED_PRECONDITION;case Fg.ABORTED:return Cd.ABORTED;case Fg.OUT_OF_RANGE:return Cd.OUT_OF_RANGE;case Fg.UNIMPLEMENTED:return Cd.UNIMPLEMENTED;case Fg.DATA_LOSS:return Cd.DATA_LOSS;default:return gd()}}(Hg=Fg||(Fg={}))[Hg.OK=0]="OK",Hg[Hg.CANCELLED=1]="CANCELLED",Hg[Hg.UNKNOWN=2]="UNKNOWN",Hg[Hg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hg[Hg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hg[Hg.NOT_FOUND=5]="NOT_FOUND",Hg[Hg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hg[Hg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hg[Hg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hg[Hg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hg[Hg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hg[Hg.ABORTED=10]="ABORTED",Hg[Hg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hg[Hg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hg[Hg.INTERNAL=13]="INTERNAL",Hg[Hg.UNAVAILABLE=14]="UNAVAILABLE",Hg[Hg.DATA_LOSS=15]="DATA_LOSS";var $g=function(){function t(t,e){this.J=t,this.root=e||Kg.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Kg.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Kg.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Xg(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Xg(this.root,t,this.J,!1)},t.prototype.se=function(){return new Xg(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Xg(this.root,t,this.J,!0)},t}(),Xg=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Kg=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw gd();if(this.right._e())throw gd();var t=this.left.me();if(t!==this.right.me())throw gd();return t+(this._e()?0:1)},t}();Kg.EMPTY=null,Kg.RED=!0,Kg.Jt=!1,Kg.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw gd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw gd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw gd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw gd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw gd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Kg(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Qg=function(){function t(t){this.J=t,this.data=new $g(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Jg(this.data.ee())},t.prototype.ne=function(t){return new Jg(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Jg=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Zg=new $g(Wd.J);function Yg(){return Zg}function tm(){return Yg()}var em=new $g(Wd.J);function nm(){return em}var rm=new $g(Wd.J);function im(){return rm}var om=new Qg(Wd.J);function sm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=om,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var am=new Qg(wd);function um(){return am}var cm=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Wd.J(e.key,n.key)}:function(t,e){return Wd.J(t.key,e.key)},this.Ve=nm(),this.pe=new $g(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),lm=function(){function t(){this.ve=new $g(Wd.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):gd():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),hm=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,cm.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&ng(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),fm=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,dm.Be(e,n)),new t(Hd.min(),r,um(),Yg(),sm())},t}(),dm=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Ed.h,n,sm(),sm(),sm())},t}(),pm=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},gm=function(t,e){this.targetId=t,this.Ge=e},mm=function(t,e,n,r){void 0===n&&(n=Ed.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bm=function(){function t(){this.ze=0,this.He=wm(),this.Je=Ed.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=sm(),e=sm(),n=sm();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:gd()}})),new dm(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=wm()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),vm=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Yg(),this.fn=ym(),this.dn=new Qg(wd)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Op?this.En(r,t.We):t.We instanceof Ep&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:gd()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(jp(i))if(0===n){var o=new Wd(i.path);this.Tn(e,o,new Ep(o,Hd.min()))}else md(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&jp(o.target)){var s=new Wd(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Ep(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=sm();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new fm(t,n,this.dn,this._n,r);return this._n=Yg(),this.fn=ym(),this.dn=new Qg(wd),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new bm,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Qg(wd),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||hd("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new bm),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function ym(){return new $g(Wd.J)}function wm(){return new $g(Wd.J)}var _m={asc:"ASCENDING",desc:"DESCENDING"},Om={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Em=function(t,e){this.T=t,this.qt=e};function Cm(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sm(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Im(t,e){return Cm(t,e.G())}function xm(t){return md(!!t),Hd.j(function(t){var e=Zd(t);return new Fd(e.seconds,e.nanos)}(t))}function Tm(t,e){return function(t){return new zd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function jm(t){var e=zd.ct(t);return md(Zm(e)),e}function Am(t,e){return Tm(t.T,e.path)}function km(t,e){var n=jm(e);if(n.get(1)!==t.T.projectId)throw new Sd(Cd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Sd(Cd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Wd(Dm(n))}function Pm(t,e){return Tm(t.T,e)}function Rm(t){var e=jm(t);return 4===e.length?zd.at():Dm(e)}function Nm(t){return new zd(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Dm(t){return md(t.length>4&&"documents"===t.get(4)),t.X(5)}function Lm(t,e,n){return{name:Am(t,e),fields:n.proto.mapValue.fields}}function Vm(t,e,n){var r=km(t,e.name),i=xm(e.updateTime),o=new vp({mapValue:{fields:e.fields}});return new Op(r,i,o,{hasCommittedMutations:!!n})}function Mm(t,e){var n;if(e instanceof Ng)n={update:Lm(t,e.key,e.value)};else if(e instanceof qg)n={delete:Am(t,e.key)};else if(e instanceof Dg)n={update:Lm(t,e.key,e.data),updateMask:Jm(e.zt)};else{if(!(e instanceof zg))return gd();n={verify:Am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof mg)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof bg)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof yg)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof _g)return{fieldPath:e.field.ot(),increment:n.Qt};throw gd()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Im(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:gd()}(t,e.Gt)),n}function Um(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ig.updateTime(xm(t.updateTime)):void 0!==t.exists?Ig.exists(t.exists):Ig.jt()}(e.currentDocument):Ig.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(md("REQUEST_TIME"===e.setToServerValue),n=new mg):"appendMissingElements"in e?n=new bg(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new yg(e.removeAllFromArray.values||[]):"increment"in e?n=new _g(t,e.increment):gd();var r=Gd._t(e.fieldPath);return new Cg(r,n)}(t,e)})):[];if(e.update){var i=km(t,e.update.name),o=new vp({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Qd((t.fieldPaths||[]).map((function(t){return Gd._t(t)})))}(e.updateMask);return new Dg(i,o,s,n,r)}return new Ng(i,o,n,r)}if(e.delete){var a=km(t,e.delete);return new qg(a,n)}if(e.verify){var u=km(t,e.verify);return new zg(u,n)}return gd()}function Fm(t,e){return{documents:[Pm(t,e.path)]}}function Hm(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Pm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pm(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(mp(t.value))return{unaryFilter:{field:$m(t.field),op:"IS_NAN"}};if(gp(t.value))return{unaryFilter:{field:$m(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(mp(t.value))return{unaryFilter:{field:$m(t.field),op:"IS_NOT_NAN"}};if(gp(t.value))return{unaryFilter:{field:$m(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$m(t.field),op:Wm(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:$m(t.field),direction:Gm(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||rp(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=zm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=zm(e.endAt)),n}function qm(t){var e=Rm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){md(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Qm(e)]:void 0!==e.fieldFilter?[Km(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):gd():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Hp(Xm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return rp(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Bm(n.startAt));var l=null;return n.endAt&&(l=Bm(n.endAt)),Wp(e,i,a,s,u,"F",c,l)}function zm(t){return{before:t.before,values:t.position}}function Bm(t){return new Up(t.values||[],!!t.before)}function Gm(t){return _m[t]}function Wm(t){return Om[t]}function $m(t){return{fieldPath:t.ot()}}function Xm(t){return Gd._t(t.fieldPath)}function Km(t){return Ap.create(Xm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return gd()}}(t.fieldFilter.op),t.fieldFilter.value)}function Qm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xm(t.unaryFilter.field);return Ap.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xm(t.unaryFilter.field);return Ap.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xm(t.unaryFilter.field);return Ap.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xm(t.unaryFilter.field);return Ap.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return gd()}}function Jm(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Zm(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ym=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},tb=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&gd(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),eb=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Ym,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new ib(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=cb(e.target.error);n.qn.reject(new ib(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ib(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(hd("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new sb(e)},t}(),nb=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(je.h)())&&fd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return hd("SimpleDb","Removing database:",t),ab(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(je.h)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(hd("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ib(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Sd(Cd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ib(t,n))},i.onupgradeneeded=function(t){hd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){hd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Te.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(Te.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Te.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=eb.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),tb.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return hd("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rb=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return ab(this.ts.delete())},t}(),ib=function(t){function e(e,n){var r=this;return(r=t.call(this,Cd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Te.c)(e,t),e}(Sd);function ob(t){return"IndexedDbTransactionError"===t.name}var sb=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(hd("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(hd("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ab(n)},t.prototype.add=function(t){return hd("SimpleDb","ADD",this.store.name,t,t),ab(this.store.add(t))},t.prototype.get=function(t){var e=this;return ab(this.store.get(t)).next((function(n){return void 0===n&&(n=null),hd("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return hd("SimpleDb","DELETE",this.store.name,t),ab(this.store.delete(t))},t.prototype.count=function(){return hd("SimpleDb","COUNT",this.store.name),ab(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){hd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new tb((function(n,r){e.onerror=function(t){var e=cb(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new tb((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new rb(i),s=e(i.primaryKey,i.value,o);if(s instanceof tb){var a=s.catch((function(t){return o.done(),tb.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return tb.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ab(t){return new tb((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=cb(t.target.error);n(e)}}))}var ub=!1;function cb(t){var e=nb.Kn(Object(je.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Sd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ub||(ub=!0,setTimeout((function(){throw r}),0)),r}}return t}var lb=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Ym,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Sd(Cd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function hb(t,e){if(fd("AsyncQueue",e+": "+t),ob(t))return new Sd(Cd.UNAVAILABLE,e+": "+t);throw t}var fb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",db=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function pb(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=mb(e)),e=gb(t.get(n),e);return mb(e)}function gb(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function mb(t){return t+"\x01\x01"}function bb(t){var e=t.length;if(md(e>=2),2===e)return md("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),zd.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&gd(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:gd()}o=s+2}return new zd(r)}var vb=function(t,e){this.seconds=t,this.nanoseconds=e},yb=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};yb.store="owner",yb.key="owner";var wb=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};wb.store="mutationQueues",wb.keyPath="userId";var _b=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};_b.store="mutations",_b.keyPath="batchId",_b.userMutationsIndex="userMutationsIndex",_b.userMutationsKeyPath=["userId","batchId"];var Ob=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,pb(e)]},t.key=function(t,e,n){return[t,pb(e),n]},t}();Ob.store="documentMutations",Ob.PLACEHOLDER=new Ob;var Eb=function(t,e){this.path=t,this.readTime=e},Cb=function(t,e){this.path=t,this.version=e},Sb=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Sb.store="remoteDocuments",Sb.readTimeIndex="readTimeIndex",Sb.readTimeIndexPath="readTime",Sb.collectionReadTimeIndex="collectionReadTimeIndex",Sb.collectionReadTimeIndexPath=["parentPath","readTime"];var Ib=function(t){this.byteSize=t};Ib.store="remoteDocumentGlobal",Ib.key="remoteDocumentGlobalKey";var xb=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};xb.store="targets",xb.keyPath="targetId",xb.queryTargetsIndexName="queryTargetsIndex",xb.queryTargetsKeyPath=["canonicalId","targetId"];var Tb=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Tb.store="targetDocuments",Tb.keyPath=["targetId","path"],Tb.documentTargetsIndex="documentTargetsIndex",Tb.documentTargetsKeyPath=["path","targetId"];var jb=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};jb.key="targetGlobalKey",jb.store="targetGlobal";var Ab=function(t,e){this.collectionId=t,this.parent=e};Ab.store="collectionParents",Ab.keyPath=["collectionId","parent"];var kb=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};kb.store="clientMetadata",kb.keyPath="clientId";var Pb=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Pb.store="bundles",Pb.keyPath="bundleId";var Rb=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Rb.store="namedQueries",Rb.keyPath="name";var Nb=Object(Te.g)(Object(Te.g)(Object(Te.g)(Object(Te.g)([wb.store,_b.store,Ob.store,Sb.store,xb.store,yb.store,jb.store,Tb.store],[kb.store]),[Ib.store]),[Ab.store]),[Pb.store,Rb.store]),Db=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Te.c)(e,t),e}(db);function Lb(t,e){var n=bd(t);return nb.Hn(n.bs,e)}var Vb=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=jg(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Ag(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Ag(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),sm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_d(this.mutations,t.mutations,(function(t,e){return Pg(t,e)}))&&_d(this.baseMutations,t.baseMutations,(function(t,e){return Pg(t,e)}))},t}(),Mb=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){md(e.mutations.length===r.length);for(var i=im(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ub=function(t){this.ks=t};function Fb(t,e){if(e.document)return Vm(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Wd.Tt(e.noDocument.path),r=Gb(e.noDocument.readTime);return new Ep(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Wd.Tt(e.unknownDocument.path);return r=Gb(e.unknownDocument.version),new Cp(i,r)}return gd()}function Hb(t,e,n){var r=qb(n),i=e.key.path.Z().rt();if(e instanceof Op){var o=function(t,e){return{name:Am(t,e.key),fields:e.vt().mapValue.fields,updateTime:Cm(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new Sb(null,null,o,s,r,i)}if(e instanceof Ep){var a=e.key.path.rt(),u=Bb(e.version);return s=e.hasCommittedMutations,new Sb(null,new Eb(a,u),null,s,r,i)}if(e instanceof Cp){var c=e.key.path.rt(),l=Bb(e.version);return new Sb(new Cb(c,l),null,null,!0,r,i)}return gd()}function qb(t){var e=t.G();return[e.seconds,e.nanoseconds]}function zb(t){var e=new Fd(t[0],t[1]);return Hd.j(e)}function Bb(t){var e=t.G();return new vb(e.seconds,e.nanoseconds)}function Gb(t){var e=new Fd(t.seconds,t.nanoseconds);return Hd.j(e)}function Wb(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Um(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Um(t.ks,e)})),s=Fd.fromMillis(e.localWriteTimeMs);return new Vb(e.batchId,s,n,o)}function $b(t){var e,n,r=Gb(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Gb(t.lastLimboFreeSnapshotVersion):Hd.min();return void 0!==t.query.documents?(md(1===(n=t.query).documents.length),e=tg($p(Rm(n.documents[0])))):e=function(t){return tg(qm(t))}(t.query),new ug(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ed.fromBase64String(t.resumeToken))}function Xb(t,e){var n,r=Bb(e.Mt),i=Bb(e.lastLimboFreeSnapshotVersion);n=jp(e.target)?Fm(t.ks,e.target):Hm(t.ks,e.target);var o=e.resumeToken.toBase64();return new xb(e.targetId,xp(e.target),r,o,e.sequenceNumber,i,n)}function Kb(t){var e=qm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eg(e,e.limit,"L"):e}var Qb=function(){function t(){}return t.prototype.Ms=function(t,e){return Jb(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Gb(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Jb(t).put({bundleId:(n=e).id,createTime:Bb(xm(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Zb(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Kb(e.bundledQuery),readTime:Gb(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return Zb(t).put(function(t){return{name:t.name,readTime:Bb(xm(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Jb(t){return Lb(t,Pb.store)}function Zb(t){return Lb(t,Rb.store)}var Yb=function(){function t(){this.qs=new tv}return t.prototype.Us=function(t,e){return this.qs.add(e),tb.resolve()},t.prototype.Qs=function(t,e){return tb.resolve(this.qs.getEntries(e))},t}(),tv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Qg(zd.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Qg(zd.J)).rt()},t}(),ev=function(){function t(){this.Ks=new tv}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:pb(i)};return nv(t).put(o)}return tb.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Od(e),""],!1,!0);return nv(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(bb(o.parent))}return n}))},t}();function nv(t){return Lb(t,Ab.store)}var rv={js:!1,Ws:0,Gs:0,zs:0},iv=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function ov(t){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){if(t.code!==Cd.FAILED_PRECONDITION||t.message!==fb)throw t;return hd("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}iv.Zs=10,iv.ti=1e3,iv.ei=new iv(41943040,iv.Zs,iv.ti),iv.ni=new iv(-1,0,0);var sv=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Xd(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return Kd(this.ri)},t}(),av=function(){function t(){this.oi=new sv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:Hd.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?tb.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function uv(t,e,n){var r=t.store(_b.store),i=t.store(Ob.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){md(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ob.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return tb.$n(o).next((function(){return c}))}function cv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw gd();e=t.noDocument}return JSON.stringify(e).length}var lv=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return md(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fv(t).ls({index:_b.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=dv(t),s=fv(t);return s.add({}).next((function(a){md("number"==typeof a);for(var u=new Vb(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Mm(t.ks,e)})),i=n.mutations.map((function(e){return Mm(t.ks,e)}));return new _b(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Qg((function(t,e){return wd(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Ob.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Ob.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[a]=u.keys()})),tb.$n(l).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return fv(t).get(e).next((function(t){return t?(md(t.userId===n.userId),Wb(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?tb.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fv(t).ls({index:_b.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(md(e.batchId>=r),o=Wb(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fv(t).ls({index:_b.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fv(t).os(_b.userMutationsIndex,n).next((function(t){return t.map((function(t){return Wb(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=Ob.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return dv(t).ls({range:i},(function(r,i,s){var a=r[0],u=r[2],c=bb(r[1]);if(a===n.userId&&e.path.isEqual(c))return fv(t).get(u).next((function(t){if(!t)throw gd();md(t.userId===n.userId),o.push(Wb(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new Qg(wd),i=[];return e.forEach((function(e){var o=Ob.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=dv(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[2],u=bb(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),tb.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ob.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Qg(wd);return dv(t).ls({range:s},(function(t,e,o){var s=t[0],u=t[2],c=bb(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Di(t,a)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(fv(t).get(e).next((function(t){if(null===t)throw gd();md(t.userId===n.userId),r.push(Wb(n.Kt,t))})))})),tb.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return uv(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),tb.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return tb.resolve();var r=IDBKeyRange.lowerBound(Ob.prefixForUser(e.userId)),i=[];return dv(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=bb(t[1]);i.push(o)}else r.done()})).next((function(){md(0===i.length)}))}))},t.prototype.ki=function(t,e){return hv(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return pv(t).get(this.userId).next((function(t){return t||new wb(e.userId,-1,"")}))},t}();function hv(t,e,n){var r=Ob.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return dv(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function fv(t){return Lb(t,_b.store)}function dv(t){return Lb(t,Ob.store)}function pv(t){return Lb(t,wb.store)}var gv=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),mv=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new gv(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return Hd.j(new Fd(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return bv(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return md(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return bv(t).ls((function(s,a){var u=$b(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))})).next((function(){return tb.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return bv(t).ls((function(t,n){var r=$b(n);e(r)}))},t.prototype.Ui=function(t){return vv(t).get(jb.key).next((function(t){return md(null!==t),t}))},t.prototype.Qi=function(t,e){return vv(t).put(jb.key,e)},t.prototype.zi=function(t,e){return bv(t).put(Xb(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=xp(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bv(t).ls({range:r,index:xb.queryTargetsIndexName},(function(t,n,r){var o=$b(n);Tp(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=yv(t);return e.forEach((function(e){var s=pb(e.path);i.push(o.put(new Tb(n,s))),i.push(r.Ii.sr(t,n,e))})),tb.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=yv(t);return tb.forEach(e,(function(e){var o=pb(e.path);return tb.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=yv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=yv(t),i=sm();return r.ls({range:n,hs:!0},(function(t,e,n){var r=bb(t[1]),o=new Wd(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=pb(e.path),r=IDBKeyRange.bound([n],[Od(n)],!1,!0),i=0;return yv(t).ls({index:Tb.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return bv(t).get(e).next((function(t){return t?$b(t):null}))},t}();function bv(t){return Lb(t,xb.store)}function vv(t){return Lb(t,jb.store)}function yv(t){return Lb(t,Tb.store)}function wv(t,e){var n=t[1],r=e[1],i=wd(t[0],e[0]);return 0===i?wd(n,r):i}var _v=function(){function t(t){this.ar=t,this.buffer=new Qg(wv),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ov=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;hd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(Te.b)(e,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return ob(e=n.sent())?(hd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ov(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ev=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return tb.resolve(Ud.U);var r=new _v(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(hd("LruGarbageCollector","Garbage collection skipped; disabled"),tb.resolve(rv)):this.br(t).next((function(r){return r<n.params.Hs?(hd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),rv):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>c.params.Ys?(hd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Vr(t,n)})).next((function(t){return u=Date.now(),ld()<=uc.a.DEBUG&&hd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),tb.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),Cv=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Ev(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return Sv(t,n)},t.prototype.rr=function(t,e,n){return Sv(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return Sv(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return pv(t)._s((function(r){return hv(t,r,e).next((function(t){return t&&(n=!0),tb.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(s,a){if(a<=e){var u=n.Nr(t,s).next((function(e){if(!e)return o++,r.fi(t,s).next((function(){return r._i(s),yv(t).delete([0,pb(s.path)])}))}));i.push(u)}})).next((function(){return tb.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Sv(t,e)},t.prototype.Cr=function(t,e){var n,r=yv(t),i=Ud.U;return r.ls({index:Tb.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ud.U&&e(new Wd(bb(n)),i),i=s,n=o):i=Ud.U})).next((function(){i!==Ud.U&&e(new Wd(bb(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function Sv(t,e){return yv(t).put(function(t,e){return new Tb(0,pb(t.path),e)}(e,t.vs))}var Iv=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return jv(t).put(Av(e),n)},t.prototype._i=function(t,e){var n=jv(t),r=Av(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return jv(t).get(Av(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return jv(t).get(Av(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:cv(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=tm();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=tm(),i=new $g(Wd.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,cv(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return tb.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return jv(t).ls({range:r},(function(t,e,r){for(var s=Wd.Tt(t);o&&Wd.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=nm(),o=e.path.length+1,s={};if(n.isEqual(Hd.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=qb(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Sb.collectionReadTimeIndex}return jv(t).ls(s,(function(t,n,s){if(t.length===o){var a=Fb(r.Kt,n);e.path.st(a.key.path)?a instanceof Op&&og(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new xv(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Tv(t).get(Ib.key).next((function(t){return md(!!t),t}))},t.prototype.Lr=function(t,e){return Tv(t).put(Ib.key,e)},t.prototype.$r=function(t){if(t){var e=Fb(this.Kt,t);return e instanceof Ep&&e.version.isEqual(Hd.min())?null:e}return null},t}(),xv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new sv((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Te.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Qg((function(t,e){return wd(t.ot(),e.ot())}));return this.oi.forEach((function(o,s){var a=e.zr.get(o);if(s.li){var u=Hb(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=cv(u);r+=c-a,n.push(e.Gr.ui(t,o,u))}else if(r-=a,e.Wr){var l=Hb(e.Gr.Kt,new Ep(o,Hd.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),tb.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(av);function Tv(t){return Lb(t,Ib.store)}function jv(t){return Lb(t,Sb.store)}function Av(t){return t.path.rt()}var kv=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;md(n<r&&n>=0&&r<=11);var o=new eb("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(yb.store)}(t),function(t){t.createObjectStore(wb.store,{keyPath:wb.keyPath}),t.createObjectStore(_b.store,{keyPath:_b.keyPath,autoIncrement:!0}).createIndex(_b.userMutationsIndex,_b.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ob.store)}(t),Pv(t),function(t){t.createObjectStore(Sb.store)}(t));var s=tb.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Tb.store),t.deleteObjectStore(xb.store),t.deleteObjectStore(jb.store)}(t),Pv(t)),s=s.next((function(){return function(t){var e=t.store(jb.store),n=new jb(0,0,Hd.min().G(),0);return e.put(jb.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(_b.store).os().next((function(n){t.deleteObjectStore(_b.store),t.createObjectStore(_b.store,{keyPath:_b.keyPath,autoIncrement:!0}).createIndex(_b.userMutationsIndex,_b.userMutationsKeyPath,{unique:!0});var r=e.store(_b.store),i=n.map((function(t){return r.put(t)}));return tb.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(kb.store,{keyPath:kb.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Ib.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Sb.store);e.createIndex(Sb.readTimeIndex,Sb.readTimeIndexPath,{unique:!1}),e.createIndex(Sb.collectionReadTimeIndex,Sb.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Pb.store,{keyPath:Pb.keyPath})}(t),function(t){t.createObjectStore(Rb.store,{keyPath:Rb.keyPath})}(t)}))),s},t.prototype.Jr=function(t){var e=0;return t.store(Sb.store).ls((function(t,n){e+=cv(n)})).next((function(){var n=new Ib(e);return t.store(Ib.store).put(Ib.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(wb.store),r=t.store(_b.store);return n.os().next((function(n){return tb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(_b.userMutationsIndex,i).next((function(r){return tb.forEach(r,(function(r){md(r.userId===n.userId);var i=Wb(e.Kt,r);return uv(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(Tb.store),n=t.store(Sb.store);return t.store(jb.store).get(jb.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new zd(n),s=function(t){return[0,pb(t)]}(o);r.push(e.get(s).next((function(n){return n?tb.resolve():function(n){return e.put(new Tb(0,pb(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return tb.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(Ab.store,{keyPath:Ab.keyPath});var n=e.store(Ab.store),r=new tv,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:pb(i)})}};return e.store(Sb.store).ls({hs:!0},(function(t,e){var n=new zd(t);return i(n.Z())})).next((function(){return e.store(Ob.store).ls({hs:!0},(function(t,e){var n=bb(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(xb.store);return n.ls((function(t,r){var i=$b(r),o=Xb(e.Kt,i);return n.put(o)}))},t}();function Pv(t){t.createObjectStore(Tb.store,{keyPath:Tb.keyPath}).createIndex(Tb.documentTargetsIndex,Tb.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(xb.store,{keyPath:xb.keyPath}).createIndex(xb.queryTargetsIndexName,xb.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(jb.store)}var Rv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nv=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new Sd(Cd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Cv(this,i),this.lo=n+"main",this.Kt=new Ub(u),this._o=new nb(this.lo,11,new kv(this.Kt)),this.fo=new mv(this.Ii,this.Kt),this.Ti=new ev,this.wo=function(t,e){return new Iv(t,e)}(this.Kt,this.Ti),this.Eo=new Qb,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&fd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Sd(Cd.FAILED_PRECONDITION,Rv);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new Ud(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Te.b)(e,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(Te.b)(e,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(Te.b)(e,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Lv(e).put(new kb(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(ob(e))return hd("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return hd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return Dv(t).get(yb.key).next((function(t){return tb.resolve(e.Co(t))}))},t.prototype.xo=function(t){return Lv(t).delete(this.clientId)},t.prototype.No=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Lb(t,kb.store);return e.os().next((function(t){var n=r.Fo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return tb.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?tb.resolve(!0):Dv(t).get(yb.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Sd(Cd.FAILED_PRECONDITION,Rv);return!1}}return!(!e.networkEnabled||!e.inForeground)||Lv(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&hd("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t=this;return Object(Te.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[yb.store,kb.store],(function(e){var n=new Db(e,Ud.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Lv(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return lv.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return hd("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Nb,(function(o){return r=new Db(o,i.io?i.io.next():Ud.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw fd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new Sd(Cd.FAILED_PRECONDITION,fb);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return Dv(t).get(yb.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Sd(Cd.FAILED_PRECONDITION,Rv)}))},t.prototype.Do=function(t){var e=new yb(this.clientId,this.allowTabSynchronization,Date.now());return Dv(t).put(yb.key,e)},t.jn=function(){return nb.jn()},t.prototype.So=function(t){var e=this,n=Dv(t);return n.get(yb.key).next((function(t){return e.Co(t)?(hd("IndexedDbPersistence","Releasing primary lease."),n.delete(yb.key)):tb.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(fd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return hd("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return fd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){fd("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Dv(t){return Lb(t,yb.store)}function Lv(t){return Lb(t,kb.store)}function Vv(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mv=function(t,e){this.progress=t,this.zo=e},Uv=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=tm();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=Yg();return i.forEach((function(t,e){e||(e=new Ep(t,Hd.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Wd.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Zp(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Wd(e)).next((function(t){var e=nm();return t instanceof Op&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=nm();return this.Ti.Qs(t,i).next((function(s){return tb.forEach(s,(function(s){var a=function(t,e){return new Gp(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Ag(u,r.get(c),0,o.Ss);r=l instanceof Op?r.Ht(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){og(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=sm(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Dg&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Op&&(c=c.Ht(t,e))})),c}))},t}(),Fv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=sm(),i=sm(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Hv=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Hd.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(Xp(e)||Kp(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(ld()<=uc.a.DEBUG&&hd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ig(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Qg(sg(t));return e.forEach((function(e,r){r instanceof Op&&og(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return ld()<=uc.a.DEBUG&&hd("QueryEngine","Using full collection scan to execute query:",ig(e)),this.uc.jr(t,e,Hd.min())},t}(),qv=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new $g(wd),this.wc=new sv((function(t){return xp(t)}),Tp),this.Ec=Hd.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new Uv(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function zv(t,e,n,r){return new qv(t,e,n,r)}function Bv(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Te.d)(this,(function(s){switch(s.label){case 0:return n=bd(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(s){return o=s,r=n.persistence.Ko(e),i=new Uv(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],s=sm(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Gv(t,e){var n=bd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=tb.resolve();return o.forEach((function(t){s=s.next((function(){return r.fi(e,t)})).next((function(e){var o=e,s=n.Fs.get(t);md(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),s.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Wv(t){var e=bd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function $v(t,e){var n=bd(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return md(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.fo.Ji(t,c))}}}));var a=Yg();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))})),s.push(Xv(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(Hd.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));s.push(u)}return tb.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function Xv(t,e,n,r,i){var o=sm();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Yg();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof Ep&&s.version.isEqual(Hd.min())?(e._i(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,u),o=o.Ht(n,s)):hd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Kv(t,e){var n=bd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function Qv(t,e){var n=bd(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?tb.resolve(r=i):n.fo.qi(t).next((function(i){return r=new ug(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Jv(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Te.d)(this,(function(a){switch(a.label){case 0:r=bd(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ob(s=a.sent()))throw s;return hd("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Zv(t,e,n){var r=bd(t),i=Hd.min(),o=sm();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=bd(t),i=r.wc.get(n);return void 0!==i?tb.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,tg(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:Hd.min(),n?o:sm())})).next((function(t){return{documents:t,Pc:o}}))}))}function Yv(t,e){var n=bd(t),r=bd(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function ty(t){var e=bd(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=bd(t),i=Yg(),o=qb(n),s=jv(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Sb.readTimeIndex,range:a},(function(t,e){var n=Fb(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:zb(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function ey(t){return Object(Te.b)(this,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){return[2,(e=bd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=jv(t),n=Hd.min();return e.ls({index:Sb.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=zb(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function ny(t,e,n,r){return Object(Te.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Object(Te.d)(this,(function(p){switch(p.label){case 0:for(i=bd(t),o=sm(),s=Yg(),a=im(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,Qv(i,function(t){return tg($p(zd.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Xv(t,f,s,Hd.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function ry(t,e,n){return void 0===n&&(n=sm()),Object(Te.b)(this,void 0,void 0,(function(){var r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return[4,Qv(t,tg(Kb(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=bd(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=xm(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Ed.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var iy=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return tb.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:xm(n.createTime)}),tb.resolve()},t.prototype.$s=function(t,e){return tb.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Kb(t.bundledQuery),readTime:xm(t.readTime)}}(e)),tb.resolve()},t}(),oy=function(){function t(){this.Sc=new Qg(sy.Dc),this.Cc=new Qg(sy.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new sy(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new sy(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Wd(new zd([])),r=new sy(n,t),i=new sy(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Wd(new zd([])),n=new sy(e,t),r=new sy(e,t+1),i=sm();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new sy(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),sy=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Wd.J(t.key,e.key)||wd(t.$c,e.$c)},t.xc=function(t,e){return wd(t.$c,e.$c)||Wd.J(t.key,e.key)},t}(),ay=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Qg(sy.Dc)}return t.prototype.Ri=function(t){return tb.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Vb(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new sy(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return tb.resolve(o)},t.prototype.yi=function(t,e){return tb.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return tb.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return tb.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return tb.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new sy(e,0),i=new sy(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),tb.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new Qg(wd);return e.forEach((function(t){var e=new sy(t,0),i=new sy(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),tb.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Wd.Et(i)||(i=i.child(""));var o=new sy(new Wd(i),0),s=new Qg(wd);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),tb.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;md(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return tb.forEach(e.mutations,(function(i){var o=new sy(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new sy(e,0),r=this.qc.Pe(n);return tb.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return tb.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),uy=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new $g(Wd.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return tb.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=tm();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),tb.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=nm(),i=new Wd(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a.li,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof Op&&og(e,u)&&(r=r.Ht(u.key,u))}return tb.resolve(r)},t.prototype.Gc=function(t,e){return tb.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new cy(this)},t.prototype.Mr=function(t){return tb.resolve(this.size)},t}(),cy=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Te.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),tb.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(av),ly=function(){function t(t){this.persistence=t,this.zc=new sv((function(t){return xp(t)}),Tp),this.lastRemoteSnapshotVersion=Hd.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new oy,this.targetCount=0,this.Yc=gv.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),tb.resolve()},t.prototype.Ki=function(t){return tb.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return tb.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),tb.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),tb.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new gv(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,tb.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),tb.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,tb.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,a.targetId)),i++)})),tb.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return tb.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return tb.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),tb.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),tb.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),tb.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return tb.resolve(n)},t.prototype.ki=function(t,e){return tb.resolve(this.Jc.ki(e))},t}(),hy=function(){function t(t,e){var n=this;this.Xc={},this.io=new Ud(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new ly(this),this.Ti=new Yb,this.wo=function(t,e){return new uy(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new Ub(e),this.Eo=new iy(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new ay(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;hd("MemoryPersistence","Starting transaction:",t);var i=new fy(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return tb.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),fy=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Te.c)(e,t),e}(db),dy=function(){function t(t){this.persistence=t,this.sa=new oy,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw gd()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),tb.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),tb.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),tb.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return tb.forEach(this.oa,(function(r){var i=Wd.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return tb.Bn([function(){return tb.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function py(t,e){return"firestore_clients_"+t+"_"+e}function gy(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function my(t,e){return"firestore_targets_"+t+"_"+e}var by=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Sd(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(fd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vy=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Sd(r.error.code,r.error.message)),i?new t(e,r.state,o):(fd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yy=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=um(),s=0;i&&s<r.activeTargetIds.length;++s)i=op(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(fd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),wy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(fd("SharedClientState","Failed to parse online state: "+e),null)},t}(),_y=function(){function t(){this.activeTargetIds=um()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Oy=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new $g(wd),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=py(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new _y),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Te.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(py(this.persistenceKey,r)))&&(o=yy.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(my(this.persistenceKey,t));if(n){var r=vy.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(my(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return hd("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){hd("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){hd("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(hd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void fd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(Te.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Te.d)(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Ud.U;if(null!=t)try{var n=JSON.parse(t);md("number"==typeof n),e=n}catch(t){fd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ud.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new by(this.currentUser,t,e,n),i=gy(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=gy(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=my(this.persistenceKey,t),i=new vy(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return yy.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return by.aa(new Rd(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return vy.aa(r,e)},t.prototype.ba=function(t){return wy.aa(t)},t.prototype.Xa=function(t){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(hd("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=um();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Ey=function(){function t(){this.ru=new _y,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new _y,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),Cy=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Sy=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){hd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){hd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Iy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xy=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Ty=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Te.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new ud;s.listenOnce(od.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case id.NO_ERROR:var e=s.getResponseJson();hd("Connection","XHR received:",JSON.stringify(e)),i(e);break;case id.TIMEOUT:hd("Connection",'RPC "'+t+'" timed out'),o(new Sd(Cd.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:var n=s.getStatus();if(hd("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Cd).indexOf(e)>=0?e:Cd.UNKNOWN}(r.status);o(new Sd(a,r.message))}else o(new Sd(Cd.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Sd(Cd.UNAVAILABLE,"Connection failed."));break;default:gd()}}finally{hd("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Yf,i=eh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(je.m)()||Object(je.o)()||Object(je.k)()||Object(je.l)()||Object(je.p)()||Object(je.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");hd("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new xy({du:function(t){c?hd("Connection","Not sending because WebChannel is closed:",t):(u||(hd("Connection","Opening WebChannel transport."),a.open(),u=!0),hd("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,ad.EventType.OPEN,(function(){c||hd("Connection","WebChannel transport opened.")})),h(a,ad.EventType.CLOSE,(function(){c||(c=!0,hd("Connection","WebChannel transport closed"),l.Pu())})),h(a,ad.EventType.ERROR,(function(t){c||(c=!0,dd("Connection","WebChannel transport errored:",t),l.Pu(new Sd(Cd.UNAVAILABLE,"The operation could not be completed")))})),h(a,ad.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];md(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){hd("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Fg[t];if(void 0!==e)return Wg(e)}(i),s=r.message;void 0===o&&(o=Cd.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Sd(o,s)),a.close()}else hd("Connection","WebChannel received:",n),l.yu(n)}})),h(i,sd.STAT_EVENT,(function(t){10===t.stat?hd("Connection","Detected buffering proxy"):11===t.stat&&hd("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);hd("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return hd("RestConnection","Received: ",t),t}),(function(e){throw dd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Iy[t]},t}());function jy(){return"undefined"!=typeof window?window:null}function Ay(){return"undefined"!=typeof document?document:null}function ky(t){return new Em(t,!0)}var Py=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&hd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Ry=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new Py(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Cd.RESOURCE_EXHAUSTED?(fd(e.toString()),fd("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Cd.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new Sd(Cd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Te.b)(t,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return hd("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(hd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ny=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Te.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:gd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(md(void 0===e||"string"==typeof e),Ed.fromBase64String(e||"")):(md(void 0===e||e instanceof Uint8Array),Ed.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Cd.UNKNOWN:Wg(t.code);return new Sd(e,t.message||"")}(a);n=new mm(r,i,o,s||null)}else if("documentChange"in e){i=km(t,(r=e.documentChange).document.name),o=xm(r.document.updateTime);var a=new vp({mapValue:{fields:r.document.fields}}),u=(s=new Op(i,o,a,{}),r.targetIds||[]);n=new pm(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=km(t,(r=e.documentDelete).document),o=r.readTime?xm(r.readTime):Hd.min(),a=new Ep(i,o),n=new pm([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=km(t,(r=e.documentRemove).document),n=new pm([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return gd();var c=e.filter;i=new Bg(r=c.count||0),n=new gm(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Hd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Hd.min():e.readTime?xm(e.readTime):Hd.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Nm(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=jp(r)?{documents:Fm(t,r)}:{query:Hm(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Sm(t,e.resumeToken):e.Mt.u(Hd.min())>0&&(n.readTime=Cm(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gd()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Nm(this.Kt),e.removeTarget=t,this.eh(e)},e}(Ry),Dy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Te.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(md(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(md(void 0!==e),t.map((function(t){return function(t,e){var n=xm(t.updateTime?t.updateTime:e);n.isEqual(Hd.min())&&(n=xm(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Sg(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=xm(t.commitTime);return this.listener.wh(n,e)}return md(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Nm(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Mm(e.Kt,t)}))};this.eh(n)},e}(Ry),Ly=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Te.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Sd(Cd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Cd.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Cd.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Vy=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(fd(e),this.Ph=!1):hd("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),My=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(Te.b)(o,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){switch(t.label){case 0:return $y(this)?(hd("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return(e=bd(t)).Oh.add(4),[4,Fy(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,Uy(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Vy(n,r)};function Uy(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:if(!$y(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Fy(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Hy(t,e){var n=bd(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Wy(n)?Gy(n):uw(n).Ju()&&zy(n,e))}function qy(t,e){var n=bd(t),r=uw(n);n.Nh.delete(e),r.Ju()&&By(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():$y(n)&&n.Mh.set("Unknown"))}function zy(t,e){t.Lh.cn(e.targetId),uw(t).hh(e)}function By(t,e){t.Lh.cn(e),uw(t).lh(e)}function Gy(t){t.Lh=new vm({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),uw(t).start(),t.Mh.yh()}function Wy(t){return $y(t)&&!uw(t).Hu()&&t.Nh.size>0}function $y(t){return 0===bd(t).Oh.size}function Xy(t){t.Lh=void 0}function Ky(t){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){return t.Nh.forEach((function(e,n){zy(t,e)})),[2]}))}))}function Qy(t,e){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(n){return Xy(t),Wy(t)?(t.Mh.ph(e),Gy(t)):t.Mh.set("Unknown"),[2]}))}))}function Jy(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Te.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof mm&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Te.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),hd("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Zy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof pm?t.Lh.wn(e):e instanceof gm?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Hd.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Wv(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Ed.h,n.Mt)),By(t,e);var r=new ug(n.target,e,1,n.sequenceNumber);zy(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return hd("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Zy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Zy(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r=this;return Object(Te.d)(this,(function(i){switch(i.label){case 0:if(!ob(e))throw e;return t.Oh.add(1),[4,Fy(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Wv(t.Sh)}),t.fs.bo((function(){return Object(Te.b)(r,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return hd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,Uy(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Yy(t,e){return e().catch((function(n){return Zy(t,n,e)}))}function tw(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Te.d)(this,(function(s){switch(s.label){case 0:e=bd(t),n=cw(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return $y(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Kv(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=cw(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Zy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return ew(e)&&nw(e),[2]}}))}))}function ew(t){return $y(t)&&!cw(t).Hu()&&t.xh.length>0}function nw(t){cw(t).start()}function rw(t){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){return cw(t).Th(),[2]}))}))}function iw(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Te.d)(this,(function(i){for(e=cw(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function ow(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Mb.from(r,e,n),[4,Yy(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,tw(t)];case 2:return o.sent(),[2]}}))}))}function sw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(n){switch(n.label){case 0:return e&&cw(t).fh?[4,function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return Gg(r=e.code)&&r!==Cd.ABORTED?(n=t.xh.shift(),cw(t).Xu(),[4,Yy(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,tw(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ew(t)&&nw(t),[2]}}))}))}function aw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return n=bd(t),e?(n.Oh.delete(2),[4,Uy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,Fy(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function uw(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=bd(t);return r.mh(),new Ny(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Ky.bind(null,t),Iu:Qy.bind(null,t),uh:Jy.bind(null,t)}),t.Fh.push((function(n){return Object(Te.b)(e,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Wy(t)?Gy(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Xy(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function cw(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=bd(t);return r.mh(),new Dy(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:rw.bind(null,t),Iu:sw.bind(null,t),Eh:iw.bind(null,t),wh:ow.bind(null,t)}),t.Fh.push((function(n){return Object(Te.b)(e,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,tw(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(hd("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var lw=function(){this.jh=void 0,this.listeners=[]},hw=function(){this.queries=new sv((function(t){return rg(t)}),ng),this.onlineState="Unknown",this.Wh=new Set};function fw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Te.d)(this,(function(c){switch(c.label){case 0:if(n=bd(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new lw),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=hb(a,"Initialization of query '"+ig(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&mw(n),[2]}}))}))}function dw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Te.d)(this,(function(a){return n=bd(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function pw(t,e){for(var n=bd(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.jh=s}}r&&mw(n)}function gw(t,e,n){var r=bd(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function mw(t){t.Wh.forEach((function(t){t.next()}))}var bw=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new hm(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=hm.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),vw=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),yw=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return km(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Vm(this.Kt,t.document,!1):new Ep(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return xm(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new yw(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||sm()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return[4,ny(this.Sh,new yw(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,ry(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mv(Object.assign({},this.progress),t))]}}))}))}}();var ww=function(t){this.key=t},_w=function(t){this.key=t},Ow=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=sm(),this.Ce=sm(),this.ll=sg(t),this._l=new cm(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new lm,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=Xp(this.query)&&i.size===this.query.limit?i.last():null,c=Kp(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof Op?e:null;h&&(h=og(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Xp(this.query)||Kp(this.query))for(;s.size>this.query.limit;){var l=Xp(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gd()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new hm(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new lm,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=sm(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new _w(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new ww(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=sm();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return hm.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Ew=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Cw=function(t){this.key=t,this.yl=!1},Sw=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new sv((function(t){return rg(t)}),ng),this.Dl=new Map,this.Cl=[],this.xl=new $g(Wd.J),this.Nl=new Map,this.Ol=new oy,this.Fl={},this.kl=new Map,this.Ml=gv.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Iw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Te.d)(this,(function(a){switch(a.label){case 0:return n=e_(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Qv(n.Sh,tg(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,xw(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Hy(n.gl,o),a.label=4;case 4:return[2,r]}}))}))}function xw(t,e,n,r){return Object(Te.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(Te.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Te.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Te.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Zv(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(Fw(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,Zv(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Ow(e,i.Pc),s=o.dl(i.documents),a=dm.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(s,t.$l,a),Fw(t,n,u.ml),c=new Ew(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function Tw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return n=bd(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!ng(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Jv(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),qy(n.gl,r.targetId),Mw(n,r.targetId)})).catch(ov)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Mw(n,r.targetId),[4,Jv(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function jw(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Te.d)(this,(function(a){switch(a.label){case 0:r=n_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=bd(t),i=Fd.now(),o=e.reduce((function(t,e){return t.add(e.key)}),sm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=kg(c,n.get(c.key));null!=l&&s.push(new Dg(c.key,l,wp(l.proto.mapValue),Ig.exists(!0)))}return r.Ho.Pi(t,i,s,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new $g(wd)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,zw(r,i.oi)];case 3:return a.sent(),[4,tw(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=hb(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Aw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r;return Object(Te.d)(this,(function(i){switch(i.label){case 0:n=bd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,$v(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(md(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?md(r.yl):t.Ke.size>0&&(md(r.yl),r.yl=!1))})),[4,zw(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ov(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function kw(t,e,n){var r=bd(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=bd(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&mw(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Pw(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(Te.d)(this,(function(c){switch(c.label){case 0:return(r=bd(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new $g(Wd.J)).Ht(o,new Ep(o,Hd.min())),a=sm().add(o),u=new fm(Hd.min(),new Map,new Qg(wd),s,a),[4,Aw(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),qw(r),[3,4];case 2:return[4,Jv(r.Sh,e,!1).then((function(){return Mw(r,e,n)})).catch(ov)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Rw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:n=bd(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gv(n.Sh,e)];case 2:return i=o.sent(),Vw(n,r,null),Lw(n,r),n.pl.Oa(r,"acknowledged"),[4,zw(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ov(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Nw(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:r=bd(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=bd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return md(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),Vw(r,e,n),Lw(r,e),r.pl.Oa(e,"rejected",n),[4,zw(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ov(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Te.d)(this,(function(a){switch(a.label){case 0:$y((n=bd(t)).gl)||hd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=bd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=hb(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Lw(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Vw(t,e,n){var r=bd(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function Mw(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||Uw(t,e)}))}function Uw(t,e){var n=t.xl.get(e);null!==n&&(qy(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),qw(t))}function Fw(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ww?(t.Ol.sr(o.key,e),Hw(t,o)):o instanceof _w?(hd("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||Uw(t,o.key)):gd()}}function Hw(t,e){var n=e.key;t.xl.get(n)||(hd("SyncEngine","New document in limbo: "+n),t.Cl.push(n),qw(t))}function qw(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Cw(e)),t.xl=t.xl.Ht(e,n),Hy(t.gl,new ug(tg($p(e.path)),n,2,Ud.U))}}function zw(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Te.d)(this,(function(a){switch(a.label){case 0:return r=bd(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Fv.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(Te.d)(this,(function(l){switch(l.label){case 0:n=bd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return tb.forEach(e,(function(e){return tb.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return tb.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!ob(r=l.sent()))throw r;return hd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Bw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return(n=bd(t)).currentUser.isEqual(e)?[3,3]:(hd("SyncEngine","User change. New user:",e.R()),[4,Bv(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new Sd(Cd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,zw(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Gw(t,e){var n=bd(t),r=n.Nl.get(e);if(r&&r.yl)return sm().add(r.key);var i=sm(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function Ww(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return[4,Zv((n=bd(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Fw(n,e.targetId,i.ml),i)]}}))}))}function $w(t){return Object(Te.b)(this,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){return[2,ty((e=bd(t)).Sh).then((function(t){return zw(e,t)}))]}))}))}function Xw(t,e,n,r){return Object(Te.b)(this,void 0,void 0,(function(){var i,o;return Object(Te.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=bd(t),r=bd(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):tb.resolve(null)}))}))}((i=bd(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,tw(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Vw(i,e,r||null),Lw(i,e),function(t,e){bd(bd(t).Ho).Ni(e)}(i.Sh,e)):gd(),s.label=4;case 4:return[4,zw(i,o)];case 5:return s.sent(),[3,7];case 6:hd("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Kw(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(Te.d)(this,(function(c){switch(c.label){case 0:return e_(n=bd(t)),n_(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Qw(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,aw(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Hy(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):u=u.then((function(){return Mw(n,e),Jv(n.Sh,e,!0)})),qy(n.gl,e)})),[4,u]);case 4:return c.sent(),[4,Qw(n,a)];case 5:return c.sent(),function(t){var e=bd(t);e.Nl.forEach((function(t,n){qy(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new $g(Wd.J)}(n),n.Ll=!1,[4,aw(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Qw(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Te.d)(this,(function(g){switch(g.label){case 0:n=bd(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,Qv(n.Sh,tg(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Ww(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Yv(n.Sh,a)];case 8:return p=g.sent(),[4,Qv(n.Sh,p)];case 9:return u=g.sent(),[4,xw(n,Jw(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Jw(t){return Wp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Zw(t){var e=bd(t);return bd(bd(e.Sh).persistence).Qo()}function Yw(t,e,n,r){return Object(Te.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Te.d)(this,(function(a){switch(a.label){case 0:return(i=bd(t)).Ll?(hd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ty(i.Sh)];case 3:return o=a.sent(),s=fm.$e(e,"current"===n),[4,zw(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Jv(i.Sh,e,!0)];case 6:return a.sent(),Mw(i,e,r),[3,8];case 7:gd(),a.label=8;case 8:return[2]}}))}))}function t_(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(Te.d)(this,(function(f){switch(f.label){case 0:if(!(r=e_(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(hd("SyncEngine","Adding an already active target "+s),[3,5]):[4,Yv(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,Qv(r.Sh,a)];case 3:return u=f.sent(),[4,xw(r,Jw(a),u.targetId,!1)];case 4:f.sent(),Hy(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Jv(r.Sh,t,!1).then((function(){qy(r.gl,t),Mw(r,t)})).catch(ov)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function e_(t){var e=bd(t);return e.gl.Ch.Bh=Aw.bind(null,e),e.gl.Ch.Sn=Gw.bind(null,e),e.gl.Ch.$h=Pw.bind(null,e),e.vl.uh=pw.bind(null,e.Vl),e.vl.ql=gw.bind(null,e.Vl),e}function n_(t){var e=bd(t);return e.gl.Ch.qh=Rw.bind(null,e),e.gl.Ch.Uh=Nw.bind(null,e),e}var r_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return this.Kt=ky(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return zv(this.persistence,new Hv,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new hy(dy.ra,this.Kt)},t.prototype.Wl=function(t){return new Ey},t.prototype.terminate=function(){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),i_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Te.c)(e,t),e.prototype.initialize=function(e){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ey(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,n_(this.Xl.fa)];case 4:return n.sent(),[4,tw(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return zv(this.persistence,new Hv,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Ov(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=Vv(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?iv.Xs(this.cacheSizeBytes):iv.ei;return new Nv(this.synchronizeTabs,e,t.clientId,n,t.fs,jy(),Ay(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Ey},e}(r_),o_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Te.c)(e,t),e.prototype.initialize=function(e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Oy?(this.pl.fa={nu:Xw.bind(null,n),su:Yw.bind(null,n),iu:t_.bind(null,n),Qo:Zw.bind(null,n),eu:$w.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(Te.b)(r,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return[4,Kw(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=jy();if(!Oy.jn(e))throw new Sd(Cd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vv(t.gu.T,t.gu.persistenceKey);return new Oy(e,t.fs,n,t.clientId,t.Yl)},e}(i_),s_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n=this;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return kw(n.fa,t,1)},this.gl.Ch.s_=Bw.bind(null,this.fa),[4,aw(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new hw},t.prototype.Zl=function(t){var e=ky(t.gu.T),n=new Ty(t.gu);return function(t,e,n){return new Ly(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return kw(s.fa,t,0)},o=Sy.jn()?new Sy:new Cy,new My(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Sw(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return e=bd(t),hd("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,Fy(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),a_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),u_=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Ym,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new vw(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Gd(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),c_=function(t){this._methodName=t};function l_(t,e,n){if(!n)throw new Sd(Cd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function h_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function f_(t,e,n,r){if(!0===e&&!0===r)throw new Sd(Cd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function d_(t){if(!Wd.Et(t))throw new Sd(Cd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function p_(t){if(Wd.Et(t))throw new Sd(Cd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function g_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":gd()}function m_(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Sd(Cd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=g_(t);throw new Sd(Cd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function b_(t,e){if(e<=0)throw new Sd(Cd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var v_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Sd(Cd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sd(Cd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,f_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),y_=new Map,w_=function(){function t(t,e){this.w_="(lite)",this.E_=new v_({}),this.T_=!1,t instanceof Pd?(this.I_=t,this.m_=new Dd):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Sd(Cd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pd(t.options.projectId)}(t),this.m_=new Ld(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Sd(Cd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Sd(Cd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new v_(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Dd;switch(t.type){case"gapi":var e=t.client;return md(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Md(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Sd(Cd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=y_.get(this))&&(hd("ComponentProvider","Removing Datastore"),y_.delete(this),t.terminate()),Promise.resolve();var t},t}(),__=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new E_(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),O_=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),E_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,$p(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Te.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new __(this.firestore,null,new Wd(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(O_);function C_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof xd&&(t=t._),l_("collection","path",e),t instanceof w_)return p_(n=zd.ct.apply(zd,Object(Te.g)([e],r))),new E_(t,null,n);if(!(t instanceof __||t instanceof E_))throw new Sd(Cd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return p_(n=zd.ct.apply(zd,Object(Te.g)([t.path],r)).child(zd.ct(e))),new E_(t.firestore,null,n)}function S_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof xd&&(t=t._),1===arguments.length&&(e=yd.t()),l_("doc","path",e),t instanceof w_)return d_(n=zd.ct.apply(zd,Object(Te.g)([e],r))),new __(t,null,new Wd(n));if(!(t instanceof __||t instanceof E_))throw new Sd(Cd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return d_(n=t.D_.child(zd.ct.apply(zd,Object(Te.g)([e],r)))),new __(t.firestore,t instanceof E_?t.v_:null,new Wd(n))}function I_(t,e){return t instanceof xd&&(t=t._),e instanceof xd&&(e=e._),(t instanceof __||t instanceof E_)&&(e instanceof __||e instanceof E_)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function x_(t,e){return t instanceof xd&&(t=t._),e instanceof xd&&(e=e._),t instanceof O_&&e instanceof O_&&t.firestore===e.firestore&&ng(t.C_,e.C_)&&t.v_===e.v_}var T_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Sd(Cd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Sd(Cd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return wd(this.x_,t.x_)||wd(this.N_,t.N_)},t}(),j_=/^__.*__$/,A_=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new Dg(t,this.data,this.zt,e,this.fieldTransforms):new Ng(t,this.data,e,this.fieldTransforms)},t}(),k_=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new Dg(t,this.data,this.zt,e,this.fieldTransforms)},t}();function P_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gd()}}var R_=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Y_(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(P_(this.k_)&&j_.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),N_=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||ky(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new R_({k_:t,methodName:e,W_:n,path:Gd.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function D_(t){var e=t.p_(),n=ky(t.I_);return new N_(t.I_,!!e.ignoreUndefinedProperties,n)}function L_(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);K_("Data must be an object, but it was:",s,r);var a,u,c=$_(r,s);if(o.merge)a=new Qd(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Q_(e,f[h],n);if(!s.contains(d))throw new Sd(Cd.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");tO(l,d)||l.push(d)}a=new Qd(l),u=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=s.fieldTransforms;return new A_(new vp(c),a,u)}var V_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(c_);function M_(t,e,n){return new R_({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var U_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.z_=function(t){return new Cg(t.path,new mg)},e.prototype.isEqual=function(t){return t instanceof e},e}(c_),F_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Te.c)(e,t),e.prototype.z_=function(t){var e=M_(this,t,!0),n=this.H_.map((function(t){return W_(t,e)})),r=new bg(n);return new Cg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(c_),H_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Te.c)(e,t),e.prototype.z_=function(t){var e=M_(this,t,!0),n=this.H_.map((function(t){return W_(t,e)})),r=new yg(n);return new Cg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(c_),q_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Te.c)(e,t),e.prototype.z_=function(t){var e=new _g(t.Kt,hg(t.Kt,this.J_));return new Cg(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(c_);function z_(t,e,n,r){var i=t.G_(1,e,n);K_("Data must be an object, but it was:",i,r);var o=[],s=new yp;Xd(r,(function(t,r){var a=Z_(e,t,n);r instanceof xd&&(r=r._);var u=i.U_(a);if(r instanceof V_)o.push(a);else{var c=W_(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Qd(o);return new k_(s.yt(),a,i.fieldTransforms)}function B_(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Q_(e,r,n)],u=[i];if(o.length%2!=0)throw new Sd(Cd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Q_(e,o[c])),u.push(o[c+1]);for(var l=[],h=new yp,f=a.length-1;f>=0;--f)if(!tO(l,a[f])){var d=a[f],p=u[f];p instanceof xd&&(p=p._);var g=s.U_(d);if(p instanceof V_)l.push(d);else{var m=W_(p,g);null!=m&&(l.push(d),h.set(d,m))}}var b=new Qd(l);return new k_(h.yt(),b,s.fieldTransforms)}function G_(t,e,n,r){return void 0===r&&(r=!1),W_(n,t.G_(r?4:3,e))}function W_(t,e){if(t instanceof xd&&(t=t._),X_(t))return K_("Unsupported field value:",e,t),$_(t,e);if(t instanceof c_)return function(t,e){if(!P_(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=W_(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof xd&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hg(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Fd.fromDate(t);return{timestampValue:Cm(e.Kt,n)}}if(t instanceof Fd)return n=new Fd(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Cm(e.Kt,n)};if(t instanceof T_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Id)return{bytesValue:Sm(e.Kt,t.l)};if(t instanceof __){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Tm(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+g_(t))}(t,e)}function $_(t,e){var n={};return Kd(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Xd(t,(function(t,r){var i=W_(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function X_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fd||t instanceof T_||t instanceof Id||t instanceof __||t instanceof c_)}function K_(t,e,n){if(!X_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=g_(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Q_(t,e,n){if(e instanceof xd&&(e=e._),e instanceof u_)return e.d_;if("string"==typeof e)return Z_(t,e);throw Y_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var J_=new RegExp("[~\\*/\\[\\]]");function Z_(t,e,n){if(e.search(J_)>=0)throw Y_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(u_.bind.apply(u_,Object(Te.g)([void 0],e.split("."))))).d_}catch(r){throw Y_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Y_(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Sd(Cd.INVALID_ARGUMENT,(a+=". ")+t+u)}function tO(t,e){return t.some((function(t){return t.isEqual(e)}))}var eO=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Te.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Sd(Cd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(Te.d)(this,(function(u){switch(u.label){case 0:return n=bd(t),r=Nm(n.Kt)+"/documents",i={documents:e.map((function(t){return Am(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){md(!!e.found);var n=km(t,e.found.name),r=xm(e.found.updateTime),i=new vp({mapValue:{fields:e.found.fields}});return new Op(n,r,i,{})}(t,e):"missing"in e?function(t,e){md(!!e.missing),md(!!e.readTime);var n=km(t,e.missing),r=xm(e.readTime);return new Ep(n,r)}(t,e):gd()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());md(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Ep||t instanceof Op?n.sf(t):gd()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new qg(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Te.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Wd.ft(n);e.mutations.push(new zg(r,e.Gt(r)))})),[4,function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return n=bd(t),r=Nm(n.Kt)+"/documents",i={writes:e.map((function(t){return Mm(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Op)e=t.version;else{if(!(t instanceof Ep))throw gd();e=Hd.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Sd(Cd.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ig.updateTime(e):Ig.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Hd.min()))throw new Sd(Cd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ig.updateTime(e)}return Ig.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),nO=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Py(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Te.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Te.d)(this,(function(r){return t=new eO(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!rp(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Gg(e)}return!1},t}(),rO=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Rd.UNAUTHENTICATED,this.clientId=yd.t(),this._f=function(){},this.N=new Ym,this.credentials.S((function(t){hd("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new Sd(Cd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Ym;return this.fs.Tf((function(){return Object(Te.b)(t,void 0,void 0,(function(){var t,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function iO(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),hd("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(Te.b)(i,void 0,void 0,(function(){return Object(Te.d)(this,(function(t){switch(t.label){case 0:return[4,Bv(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function oO(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,sO(t)];case 1:return n=i.sent(),hd("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(Te.b)(this,void 0,void 0,(function(){var n,r;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return(n=bd(t)).fs.Af(),hd("RemoteStore","RemoteStore received new credentials"),r=$y(n),n.Oh.add(3),[4,Fy(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,Uy(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function sO(t){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(hd("FirestoreClient","Using default OfflineComponentProvider"),[4,iO(t,new r_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function aO(t){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(hd("FirestoreClient","Using default OnlineComponentProvider"),[4,oO(t,new s_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function uO(t){return sO(t).then((function(t){return t.persistence}))}function cO(t){return sO(t).then((function(t){return t.Sh}))}function lO(t){return aO(t).then((function(t){return t.gl}))}function hO(t){return aO(t).then((function(t){return t.fa}))}function fO(t){return Object(Te.b)(this,void 0,void 0,(function(){var e,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return[4,aO(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Iw.bind(null,e.fa),n.Jh=Tw.bind(null,e.fa),n)]}}))}))}function dO(t,e,n){var r=this;void 0===n&&(n={});var i=new Ym;return t.fs.ys((function(){return Object(Te.b)(r,void 0,void 0,(function(){var r;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new a_({next:function(o){e.ys((function(){return dw(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Sd(Cd.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Sd(Cd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new bw($p(n.path),o,{includeMetadataChanges:!0,sl:!0});return fw(t,s)},[4,fO(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function pO(t,e,n){var r=this;void 0===n&&(n={});var i=new Ym;return t.fs.ys((function(){return Object(Te.b)(r,void 0,void 0,(function(){var r;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new a_({next:function(n){e.ys((function(){return dw(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Sd(Cd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new bw(n,o,{includeMetadataChanges:!0,sl:!0});return fw(t,s)},[4,fO(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var gO=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Py(this,"async_queue_retry"),this.vf=function(){var e=Ay();e&&hd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Ay();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Ay();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Te.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!ob(t=n.sent()))throw t;return hd("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,fd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=lb.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&gd()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Te.b)(this,void 0,void 0,(function(){var t;return Object(Te.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),mO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new gO,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Te.c)(e,t),e.prototype.b_=function(){return this.Lf||vO(this),this.Lf.terminate()},e}(w_);function bO(t){return t.Lf||vO(t),t.Lf.df(),t.Lf}function vO(t){var e=t.p_(),n=function(t,e,n){return new kd(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new rO(t.m_,t.Mf,n)}function yO(t,e,n){var r=this,i=new Ym;return t.fs.enqueue((function(){return Object(Te.b)(r,void 0,void 0,(function(){var r;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,iO(t,n)];case 1:return o.sent(),[4,oO(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Cd.FAILED_PRECONDITION||t.code===Cd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function wO(t){if(t.R_||t.P_)throw new Sd(Cd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var _O=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),sp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yd(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(tp(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw gd()}},t.prototype.Wf=function(t,e){var n=this,r={};return Xd(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new T_(Yd(t.latitude),Yd(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return ep(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(np(t));default:return null}},t.prototype.Bf=function(t){var e=Zd(t);return new Fd(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=zd.ct(t);md(Zm(n));var r=new Pd(n.get(1),n.get(3)),i=new Wd(n.X(5));return r.isEqual(e)||fd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),OO=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new __(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new EO(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(CO("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),EO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(OO);function CO(t,e){return"string"==typeof e?Z_(t,e):e instanceof xd?e._.d_:e.d_}function SO(t){if(Kp(t)&&0===t.Nt.length)throw new Sd(Cd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var IO=function(){};function xO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var TO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Te.c)(e,t),e.prototype.Yf=function(t){var e=D_(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){DO(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(NO(r,t,l[c]));a={arrayValue:{values:u}}}else a=NO(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||DO(s,o),a=G_(n,"where",s,"in"===o||"not-in"===o);var h=Ap.create(i,o,a);return function(t,e){if(e.xt()){var n=Jp(t);if(null!==n&&!n.isEqual(e.field))throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Qp(t);null!==r&&LO(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Sd(Cd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new O_(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Gp(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(IO),jO=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Te.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Hp(e,n);return function(t,e){if(null===Qp(t)){var n=Jp(t);null!==n&&LO(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new O_(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Gp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(IO),AO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Te.c)(e,t),e.prototype.Yf=function(t){return new O_(t.firestore,t.v_,eg(t.C_,this.nd,this.sd))},e}(IO),kO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Te.c)(e,t),e.prototype.Yf=function(t){var e=RO(t,this.type,this.rd,this.od);return new O_(t.firestore,t.v_,function(t,e){return new Gp(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(IO),PO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Te.c)(e,t),e.prototype.Yf=function(t){var e=RO(t,this.type,this.rd,this.od);return new O_(t.firestore,t.v_,function(t,e){return new Gp(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(IO);function RO(t,e,n,r){if(n[0]instanceof xd&&(n[0]=n[0]._),n[0]instanceof OO)return function(t,e,n,r,i){if(!r)throw new Sd(Cd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Yp(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(fp(e,r.key));else{var c=r.field(u.field);if(ep(c))throw new Sd(Cd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Up(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=D_(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Sd(Cd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Zp(t)&&-1!==c.indexOf("/"))throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(zd.ct(c));if(!Wd.Et(l))throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Wd(l);a.push(fp(e,h))}else{var f=G_(n,r,c);a.push(f)}}return new Up(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function NO(t,e,n){if(n instanceof xd&&(n=n._),"string"==typeof n){if(""===n)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zp(e)&&-1!==n.indexOf("/"))throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(zd.ct(n));if(!Wd.Et(r))throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return fp(t,new Wd(r))}if(n instanceof __)return fp(t,n.S_);throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+g_(n)+".")}function DO(t,e){if(!Array.isArray(t)||0===t.length)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function LO(t,e,n){if(!n.isEqual(e))throw new Sd(Cd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function VO(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function MO(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var UO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Te.c)(e,t),e.prototype.Uf=function(t){return new Id(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new __(this.firestore,null,e)},e}(_O),FO=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),HO=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(Te.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new qO(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(CO("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(OO),qO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(HO),zO=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new FO(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new qO(n.zf,n.Hf,r.key,r,new FO(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Sd(Cd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new qO(t.zf,t.Hf,e.doc.key,e.doc,new FO(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new qO(t.zf,t.Hf,e.doc.key,e.doc,new FO(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:BO(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function BO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gd()}}function GO(t,e){return t instanceof HO&&e instanceof HO?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof zO&&e instanceof zO&&t.zf===e.zf&&x_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var WO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Te.c)(e,t),e.prototype.Uf=function(t){return new Id(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new __(this.firestore,null,e)},e}(_O);function $O(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=m_(t,__);var o=m_(t.firestore,mO),s=D_(o);return e instanceof xd&&(e=e._),KO(o,[("string"==typeof e||e instanceof u_?B_(s,"updateDoc",t.S_,e,n,r):z_(s,"updateDoc",t.S_,e)).O_(t.S_,Ig.exists(!0))])}function XO(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof xd&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||VO(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(VO(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof __)c=m_(t.firestore,mO),l=$p(t.S_.path),u={next:function(e){i[a]&&i[a](QO(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=m_(t,O_);c=m_(d.firestore,mO),l=d.C_;var p=new WO(c);u={next:function(t){i[a]&&i[a](new zO(c,p,d,t))},error:i[a+1],complete:i[a+2]},SO(t.C_)}return function(t,e,n,r){var i=this,o=new a_(r),s=new bw(e,o,n);return t.fs.ys((function(){return Object(Te.b)(i,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return e=fw,[4,fO(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(Te.b)(i,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return e=dw,[4,fO(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(bO(c),l,h,u)}function KO(t,e){return function(t,e){var n=this,r=new Ym;return t.fs.ys((function(){return Object(Te.b)(n,void 0,void 0,(function(){var n;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return n=jw,[4,hO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(bO(t),e)}function QO(t,e,n){var r=n.docs.get(e.S_),i=new WO(t);return new HO(t,i,e.S_,r,new FO(n.hasPendingWrites,n.fromCache),e.v_)}var JO=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=D_(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=ZO(t,this.zf),i=MO(r.v_,e,n),o=L_(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,Ig.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=ZO(t,this.zf);return e instanceof xd&&(e=e._),o="string"==typeof e||e instanceof u_?B_(this.wd,"WriteBatch.update",s.S_,e,n,r):z_(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,Ig.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=ZO(t,this.zf);return this.fd=this.fd.concat(new qg(e.S_,Ig.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Sd(Cd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ZO(t,e){if(t instanceof xd&&(t=t._),t.firestore!==e)throw new Sd(Cd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var YO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Te.c)(e,t),e.prototype.get=function(e){var n=this,r=ZO(e,this.zf),i=new WO(this.zf);return t.prototype.get.call(this,e).then((function(t){return new HO(n.zf,i,r.S_,t.Jf,new FO(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=D_(t)}return t.prototype.get=function(t){var e=this,n=ZO(t,this.zf),r=new UO(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return gd();var i=t[0];if(i instanceof Ep)return new OO(e.zf,r,n.S_,null,n.v_);if(i instanceof Op)return new OO(e.zf,r,i.key,i,n.v_);throw gd()}))},t.prototype.set=function(t,e,n){var r=ZO(t,this.zf),i=MO(r.v_,e,n),o=L_(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ZO(t,this.zf);return e instanceof xd&&(e=e._),o="string"==typeof e||e instanceof u_?B_(this.wd,"Transaction.update",s.S_,e,n,r):z_(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=ZO(t,this.zf);return this.Td.delete(e.S_),this},t}()),tE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){wO(t=m_(t,mO));var n=bO(t),r=t.p_(),i=new s_;return yO(n,i,new i_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){wO(t=m_(t,mO));var e=bO(t),n=t.p_(),r=new s_;return yO(e,r,new o_(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Sd(Cd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ym;return t.Mf.Tf((function(){return Object(Te.b)(e,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Te.b)(this,void 0,void 0,(function(){return Object(Te.d)(this,(function(e){switch(e.label){case 0:return nb.jn()?[4,nb.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Vv(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),eE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Pd||(i.md=e),i}return Object(Te.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=m_(t,w_)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&dd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Te.b)(e,void 0,void 0,(function(){var e,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return[4,uO(t)];case 1:return e=r.sent(),[4,lO(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=bd(t);return e.Oh.delete(0),Uy(e)}(n))]}}))}))}))}(bO(m_(this._,mO)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Te.b)(e,void 0,void 0,(function(){var e,n;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return[4,uO(t)];case 1:return e=r.sent(),[4,lO(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Te.b)(this,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return(e=bd(t)).Oh.add(0),[4,Fy(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(bO(m_(this._,mO)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&f_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ym;return t.fs.ys((function(){return Object(Te.b)(e,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(r){switch(r.label){case 0:return e=Dw,[4,hO(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(bO(m_(this._,mO)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new a_(e);return t.fs.ys((function(){return Object(Te.b)(n,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){bd(t).Wh.add(e),e.next()},[4,fO(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(Te.b)(n,void 0,void 0,(function(){var e;return Object(Te.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){bd(t).Wh.delete(e)},[4,fO(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(bO(t=m_(t,mO)),VO(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Sd(Cd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new pE(this,C_(this._,t))}catch(t){throw sE(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new oE(this,S_(this._,t))}catch(t){throw sE(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new hE(this,function(t,e){if(t=m_(t,w_),l_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new O_(t,null,function(t){return new Gp(zd.at(),t)}(e))}(this._,t))}catch(t){throw sE(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ym;return t.fs.ys((function(){return Object(Te.b)(n,void 0,void 0,(function(){var n;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return aO(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new nO(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(bO(t),(function(n){return e(new YO(t,n))}))}(this._,(function(n){return t(new rE(e,n))}))},e.prototype.batch=function(){var t=this;return bO(this._),new iE(new JO(this._,(function(e){return KO(t._,e)})))},e.prototype.loadBundle=function(t){throw new Sd(Cd.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Sd(Cd.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(xd),nE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Te.c)(e,t),e.prototype.Uf=function(t){return new Ad(new Id(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return oE.Ad(e,this.firestore,null)},e}(_O),rE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new nE(e),r}return Object(Te.c)(e,t),e.prototype.get=function(t){var e=this,n=gE(t);return this._.get(n).then((function(t){return new cE(e.zf,new HO(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=gE(t);return n?(h_("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=gE(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Te.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=gE(t);return this._.delete(e),this},e}(xd),iE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.set=function(t,e,n){var r=gE(t);return n?(h_("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=gE(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Te.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=gE(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(xd),oE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new nE(e),r}return Object(Te.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Sd(Cd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new __(n._,r,new Wd(t)))},e.Ad=function(t,n,r){return new e(n,new __(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new pE(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new pE(this.firestore,C_(this._,t))}catch(t){throw sE(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof xd&&(t=t._),t instanceof __&&I_(this._,t)},e.prototype.set=function(t,e){e=h_("DocumentReference.set",e);try{return function(t,e,n){t=m_(t,__);var r=m_(t.firestore,mO),i=MO(t.v_,e,n);return KO(r,[L_(D_(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Ig.jt())])}(this._,t,e)}catch(t){throw sE(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?$O(this._,t):$O.apply(void 0,Object(Te.g)([this._,t,e],n))}catch(t){throw sE(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return KO(m_((t=this._).firestore,mO),[new qg(t.S_,Ig.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=aE(e),i=uE(e,(function(e){return new cE(t.firestore,new HO(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return XO(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=m_(t,__);var e=m_(t.firestore,mO),n=bO(e),r=new WO(e);return function(t,e){var n=this,r=new Ym;return t.fs.ys((function(){return Object(Te.b)(n,void 0,void 0,(function(){var n;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i;return Object(Te.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=bd(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Op?n.resolve(i):i instanceof Ep?n.resolve(null):n.reject(new Sd(Cd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hb(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,cO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new HO(e,r,t.S_,n,new FO(n instanceof Op&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=m_(t,__);var e=m_(t.firestore,mO);return dO(bO(e),t.S_,{source:"server"}).then((function(n){return QO(e,t,n)}))}(this._):function(t){t=m_(t,__);var e=m_(t.firestore,mO);return dO(bO(e),t.S_).then((function(n){return QO(e,t,n)}))}(this._)).then((function(t){return new cE(e.firestore,new HO(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(xd);function sE(t,e,n){return t.message=t.message.replace(e,n),t}function aE(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!VO(r))return r}return{}}function uE(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=VO(t[0])?t[0]:VO(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Te.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new oE(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return GO(this._,t._)},e}(xd),lE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(cE),hE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new nE(e),r}return Object(Te.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,xO(this._,function(t,e,n){var r=e,i=CO("where",t);return new TO(i,r,n)}(t,n,r)))}catch(t){throw sE(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,xO(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=CO("orderBy",t);return new jO(r,n)}(t,n)))}catch(t){throw sE(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,xO(this._,function(t){return b_("limit",t),new AO("limit",t,"F")}(t)))}catch(t){throw sE(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,xO(this._,function(t){return b_("limitToLast",t),new AO("limitToLast",t,"L")}(t)))}catch(t){throw sE(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xO(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kO("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw sE(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xO(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kO("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw sE(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xO(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new PO("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw sE(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xO(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new PO("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw sE(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return x_(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=m_(t,O_);var e=m_(t.firestore,mO),n=bO(e),r=new WO(e);return function(t,e){var n=this,r=new Ym;return t.fs.ys((function(){return Object(Te.b)(n,void 0,void 0,(function(){var n;return Object(Te.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Te.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(Te.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Zv(t,e,!0)];case 1:return a=u.sent(),r=new Ow(e,a.Pc),i=r.dl(a.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=hb(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,cO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new zO(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=m_(t,O_);var e=m_(t.firestore,mO),n=bO(e),r=new WO(e);return pO(n,t.C_,{source:"server"}).then((function(n){return new zO(e,r,t,n)}))}(this._):function(t){t=m_(t,O_);var e=m_(t.firestore,mO),n=bO(e),r=new WO(e);return SO(t.C_),pO(n,t.C_).then((function(n){return new zO(e,r,t,n)}))}(this._)).then((function(t){return new dE(e.firestore,new zO(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=aE(e),i=uE(e,(function(e){return new dE(t.firestore,new zO(t.firestore._,t.Hf,t._,e.ud))}));return XO(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(xd),fE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Te.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new lE(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(xd),dE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Te.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new hE(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new lE(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new fE(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new lE(n.zf,r))}))},e.prototype.isEqual=function(t){return GO(this._,t._)},e}(xd),pE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Te.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new oE(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new oE(this.firestore,void 0===t?S_(this._):S_(this._,t))}catch(t){throw sE(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=m_(t.firestore,mO),r=S_(t),i=MO(t.v_,e);return KO(n,[L_(D_(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Ig.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new oE(e.firestore,t)}))},e.prototype.isEqual=function(t){return I_(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(hE);function gE(t){return t instanceof xd&&(t=t._),m_(t,__)}var mE=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(u_.bind.apply(u_,Object(Te.g)([void 0],e))))||this}return Object(Te.c)(e,t),e.documentId=function(){return new e(Gd.lt().ot())},e.prototype.isEqual=function(t){return t instanceof xd&&(t=t._),t instanceof u_&&this._.d_.isEqual(t.d_)},e}(xd),bE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Te.c)(e,t),e.serverTimestamp=function(){var t=new U_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new V_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new F_("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new H_("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new q_("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(xd);!function(){function t(){this.Pd={},this.yd=new Ym,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var vE,yE={Firestore:eE,GeoPoint:T_,Timestamp:Fd,Blob:Ad,Transaction:rE,WriteBatch:iE,DocumentReference:oE,DocumentSnapshot:cE,Query:hE,QueryDocumentSnapshot:lE,QuerySnapshot:dE,CollectionReference:pE,FieldPath:mE,FieldValue:bE,setLogLevel:function(t){cd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function wE(t,e){return function(t,e=Ee.b){return new Pt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function _E(t,e){return wE(t,e).pipe(Object(Lt.a)(t=>({payload:t,type:"query"})))}function OE(t,e){return _E(t,e).pipe(Ar(void 0),ic(),Object(Lt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function EE(t,e,n){return OE(t,n).pipe(kr((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return CE(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return CE(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return CE(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new lu(void 0,void 0)),Object(Lt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function CE(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function SE(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Ae.a("firestore",(function(t){return function(t,e){return new eE(t,new mO(t,e),new tE)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},yE)))})(vE=xe.a),vE.registerVersion("@firebase/firestore","2.1.2");class IE{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=OE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ar(void 0),ic(),Qt(([t,e])=>e.length>0||!t),Object(Lt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(kr((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=SE(t);return EE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return _E(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Rt.a)(this.query.get(t)).pipe(Object(Dt.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new xE(this.ref.doc(t),this.afs)}}class xE{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=RE(n,e);return new IE(r,i,this.afs)}snapshotChanges(){return wE(this.ref,this.afs.schedulers.outsideAngular).pipe(Ar(void 0),ic(),Object(Lt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Lt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Rt.a)(this.ref.get(t)).pipe(Object(Dt.b)(this.afs.schedulers.insideAngular))}}class TE{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?OE(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Qt(t=>t.length>0),this.afs.keepUnstableUntilFirst):OE(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(kr((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=SE(t);return EE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return _E(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Rt.a)(this.query.get(t)).pipe(Object(Dt.b)(this.afs.schedulers.insideAngular))}}const jE=new r.t("angularfire2.enableFirestorePersistence"),AE=new r.t("angularfire2.firestore.persistenceSettings"),kE=new r.t("angularfire2.firestore.settings"),PE=new r.t("angularfire2.firestore.use-emulator");function RE(t,e=(t=>t)){return{query:e(t),ref:t}}let NE=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new jt.d(o),this.keepUnstableUntilFirst=Object(jt.h)(this.schedulers);const c=Object(jt.g)(t,o,e);!ac.a.auth&&u&&Object(jt.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(jt.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Q(i)){const e=()=>{try{return Object(Rt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(vE){return"undefined"!=typeof console&&console.warn(vE),Object(kt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(kt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=RE(n,e),o=this.schedulers.ngZone.run(()=>r);return new IE(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new TE(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new xE(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.fc(jt.c),r.fc(jt.b,8),r.fc(jE,8),r.fc(kE,8),r.fc(r.H),r.fc(r.E),r.fc(AE,8),r.fc(PE,8),r.fc(ge,8))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(jt.c),Object(r.fc)(jt.b,8),Object(r.fc)(jE,8),Object(r.fc)(kE,8),Object(r.fc)(r.H),Object(r.fc)(r.E),Object(r.fc)(AE,8),Object(r.fc)(PE,8),Object(r.fc)(ge,8))},token:t,providedIn:"any"}),t})(),DE=(()=>{class t{constructor(t){this.firestore=t,this.objecjSorce=new fr({}),this.data=[],this.$getObjecjtSorce=this.objecjSorce.asObservable()}sendObjectSorce(t){this.objecjSorce.next(t)}getMaterial(){return this.firestore.collection("Material").snapshotChanges()}createMaterial(t){return this.firestore.collection("Material").add(t)}updateMaterial(t,e){return this.firestore.collection("Material").doc(t).update(e)}eliminarMaterial(t){return this.firestore.collection("Material").doc(t).delete()}agregarUrl(t){return this.firestore.collection("Material").doc(t.id).update(t.url)}}return t.\u0275fac=function(e){return new(e||t)(r.fc(NE))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LE(t,e){if(1&t){var n=r.Yb();r.Xb(0,"a",11),r.ic("keyup.enter",(function(){return r.zc(n),r.kc(3),r.yc(1).previous()}))("click",(function(){return r.zc(n),r.kc(3),r.yc(1).previous()})),r.Hc(1),r.Xb(2,"span",12),r.Hc(3),r.Wb(),r.Wb()}if(2&t){var i=r.kc(3);r.Hb("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),r.Gb(1),r.Jc(" ",i.previousLabel," "),r.Gb(2),r.Ic(i.screenReaderPageLabel)}}function VE(t,e){if(1&t&&(r.Xb(0,"span"),r.Hc(1),r.Xb(2,"span",12),r.Hc(3),r.Wb(),r.Wb()),2&t){var n=r.kc(3);r.Gb(1),r.Jc(" ",n.previousLabel," "),r.Gb(2),r.Ic(n.screenReaderPageLabel)}}function ME(t,e){if(1&t&&(r.Xb(0,"li",8),r.Fc(1,LE,4,3,"a",9),r.Fc(2,VE,4,2,"span",10),r.Wb()),2&t){r.kc(2);var n=r.yc(1);r.Kb("disabled",n.isFirstPage()),r.Gb(1),r.qc("ngIf",1<n.getCurrent()),r.Gb(1),r.qc("ngIf",n.isFirstPage())}}function UE(t,e){if(1&t){var n=r.Yb();r.Xb(0,"a",11),r.ic("keyup.enter",(function(){r.zc(n);var t=r.kc().$implicit;return r.kc(2),r.yc(1).setCurrent(t.value)}))("click",(function(){r.zc(n);var t=r.kc().$implicit;return r.kc(2),r.yc(1).setCurrent(t.value)})),r.Xb(1,"span",12),r.Hc(2),r.Wb(),r.Xb(3,"span"),r.Hc(4),r.lc(5,"number"),r.Wb(),r.Wb()}if(2&t){var i=r.kc().$implicit,o=r.kc(2);r.Gb(2),r.Jc("",o.screenReaderPageLabel," "),r.Gb(2),r.Ic("..."===i.label?i.label:r.nc(5,2,i.label,""))}}function FE(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"span",12),r.Hc(2),r.Wb(),r.Xb(3,"span"),r.Hc(4),r.lc(5,"number"),r.Wb(),r.Ub()),2&t){var n=r.kc().$implicit,i=r.kc(2);r.Gb(2),r.Jc("",i.screenReaderCurrentLabel," "),r.Gb(2),r.Ic("..."===n.label?n.label:r.nc(5,2,n.label,""))}}function HE(t,e){if(1&t&&(r.Xb(0,"li"),r.Fc(1,UE,6,5,"a",9),r.Fc(2,FE,6,5,"ng-container",10),r.Wb()),2&t){var n=e.$implicit;r.kc(2);var i=r.yc(1);r.Kb("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),r.Gb(1),r.qc("ngIf",i.getCurrent()!==n.value),r.Gb(1),r.qc("ngIf",i.getCurrent()===n.value)}}function qE(t,e){if(1&t){var n=r.Yb();r.Xb(0,"a",11),r.ic("keyup.enter",(function(){return r.zc(n),r.kc(3),r.yc(1).next()}))("click",(function(){return r.zc(n),r.kc(3),r.yc(1).next()})),r.Hc(1),r.Xb(2,"span",12),r.Hc(3),r.Wb(),r.Wb()}if(2&t){var i=r.kc(3);r.Hb("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),r.Gb(1),r.Jc(" ",i.nextLabel," "),r.Gb(2),r.Ic(i.screenReaderPageLabel)}}function zE(t,e){if(1&t&&(r.Xb(0,"span"),r.Hc(1),r.Xb(2,"span",12),r.Hc(3),r.Wb(),r.Wb()),2&t){var n=r.kc(3);r.Gb(1),r.Jc(" ",n.nextLabel," "),r.Gb(2),r.Ic(n.screenReaderPageLabel)}}function BE(t,e){if(1&t&&(r.Xb(0,"li",13),r.Fc(1,qE,4,3,"a",9),r.Fc(2,zE,4,2,"span",10),r.Wb()),2&t){r.kc(2);var n=r.yc(1);r.Kb("disabled",n.isLastPage()),r.Gb(1),r.qc("ngIf",!n.isLastPage()),r.Gb(1),r.qc("ngIf",n.isLastPage())}}function GE(t,e){if(1&t&&(r.Xb(0,"ul",3),r.Fc(1,ME,3,4,"li",4),r.Xb(2,"li",5),r.Hc(3),r.Wb(),r.Fc(4,HE,3,6,"li",6),r.Fc(5,BE,3,4,"li",7),r.Wb()),2&t){var n=r.kc(),i=r.yc(1);r.Kb("responsive",n.responsive),r.Hb("aria-label",n.screenReaderPaginationLabel),r.Gb(1),r.qc("ngIf",n.directionLinks),r.Gb(2),r.Kc(" ",i.getCurrent()," / ",i.getLastPage()," "),r.Gb(1),r.qc("ngForOf",i.pages),r.Gb(1),r.qc("ngIf",n.directionLinks)}}var WE=function(){function t(){this.change=new r.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ob({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),$E=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},XE=Number.MAX_SAFE_INTEGER,KE=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,o=e.totalItems&&e.totalItems!==t.length,s=this.createInstance(t,e),a=s.id,u=s.itemsPerPage,c=this.service.register(s);if(!o&&t instanceof Array){if(this.stateIsIdentical(a,t,r=(s.currentPage-1)*(u=+u||XE),i=r+u))return this.state[a].slice;var l=t.slice(r,i);return this.saveState(a,t,l,r,i),this.service.change.emit(a),l}return c&&this.service.change.emit(a),this.saveState(a,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter((function(e){return!(e in t)}));if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every((function(t,r){return t===e[n+r]}))},(t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$E("design:paramtypes",[WE])],t)).\u0275fac=function(e){return new(e||t)(r.Sb(WE))},t.\u0275pipe=r.Rb({name:"paginate",type:t,pure:!1}),t}(),QE=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},JE=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function ZE(t){return!!t&&"false"!==t}var YE=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=ZE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=ZE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=ZE(t)},enumerable:!0,configurable:!0}),QE([Object(r.v)(),JE("design:type",String)],t.prototype,"id",void 0),QE([Object(r.v)(),JE("design:type",Number)],t.prototype,"maxSize",void 0),QE([Object(r.v)(),JE("design:type",Boolean),JE("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),QE([Object(r.v)(),JE("design:type",Boolean),JE("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),QE([Object(r.v)(),JE("design:type",Boolean),JE("design:paramtypes",[Boolean])],t.prototype,"responsive",null),QE([Object(r.v)(),JE("design:type",String)],t.prototype,"previousLabel",void 0),QE([Object(r.v)(),JE("design:type",String)],t.prototype,"nextLabel",void 0),QE([Object(r.v)(),JE("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),QE([Object(r.v)(),JE("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),QE([Object(r.v)(),JE("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),QE([Object(r.G)(),JE("design:type",r.q)],t.prototype,"pageChange",void 0),QE([Object(r.G)(),JE("design:type",r.q)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Mb({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination","role","navigation",3,"responsive",4,"ngIf"],["role","navigation",1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(r.Xb(0,"pagination-template",0,1),r.ic("pageChange",(function(t){return e.pageChange.emit(t)}))("pageBoundsCorrection",(function(t){return e.pageBoundsCorrection.emit(t)})),r.Fc(2,GE,6,8,"ul",2),r.Wb()),2&t){var n=r.yc(1);r.qc("id",e.id)("maxSize",e.maxSize),r.Gb(2),r.qc("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[nC,U,V]},pipes:function(){return[X]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),tC=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},eC=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nC=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this.pages=[],this.changeSub=this.service.change.subscribe((function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout((function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)})):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],o=Math.ceil(n/e),s=Math.ceil(r/2),a=t<=s,u=o-s<t,c=!a&&!u,l=r<o,h=1;h<=o&&h<=r;){var f=this.calculatePageNumber(h,t,r,o);i.push({label:l&&(2===h&&(c||u)||h===r-1&&(c||a))?"...":f,value:f}),h++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},tC([Object(r.v)(),eC("design:type",String)],t.prototype,"id",void 0),tC([Object(r.v)(),eC("design:type",Number)],t.prototype,"maxSize",void 0),tC([Object(r.G)(),eC("design:type",r.q)],t.prototype,"pageChange",void 0),tC([Object(r.G)(),eC("design:type",r.q)],t.prototype,"pageBoundsCorrection",void 0),(t=tC([eC("design:paramtypes",[WE,r.i])],t)).\u0275fac=function(e){return new(e||t)(r.Sb(WE),r.Sb(r.i))},t.\u0275dir=r.Nb({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[r.Eb]}),t}(),rC=function(){function t(){}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[WE],imports:[[K]]}),t}();function iC(t,e){if(1&t){const t=r.Yb();r.Xb(0,"tr",11),r.Xb(1,"td",12),r.Tb(2,"img",13),r.Hc(3),r.Wb(),r.Xb(4,"td",12),r.Hc(5),r.Wb(),r.Xb(6,"td"),r.Hc(7),r.Wb(),r.Xb(8,"td"),r.Hc(9),r.Wb(),r.Xb(10,"td"),r.Xb(11,"button",14),r.ic("click",(function(){r.zc(t);const n=e.$implicit;return r.kc().eliminar(n)})),r.Hc(12,"Eliminar"),r.Wb(),r.Xb(13,"button",10),r.ic("click",(function(){r.zc(t);const n=e.$implicit,i=r.kc(),o=r.yc(24);return i.editarMaterial(o,n)})),r.Hc(14,"Editar"),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit;r.Gb(2),r.qc("src",t.url,r.Ac),r.Gb(1),r.Ic(t.material),r.Gb(2),r.Ic(t.descripcion),r.Gb(2),r.Jc("",t.cantidad," pzs"),r.Gb(2),r.Jc("$",t.precio,"")}}function oC(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",34),r.ic("click",(function(){r.zc(t);const n=e.ngIf;return r.kc(2).guardar(n)})),r.Hc(1,"Guardar"),r.Wb()}}function sC(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",35),r.ic("click",(function(){r.zc(t);const n=e.ngIf;return r.kc(2).actualizar(n)})),r.Hc(1,"Actualizar"),r.Wb()}}function aC(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",15),r.Xb(1,"h4",16),r.Hc(2,"Crear/Actualizar Material"),r.Wb(),r.Xb(3,"button",17),r.ic("click",(function(){return e.$implicit.dismiss("Cross click")})),r.Xb(4,"span",18),r.Hc(5,"\xd7"),r.Wb(),r.Wb(),r.Wb(),r.Xb(6,"div",19),r.Xb(7,"form"),r.Xb(8,"div",20),r.Xb(9,"form",21),r.Xb(10,"div",20),r.Xb(11,"strong"),r.Xb(12,"label",22),r.Hc(13,"Material"),r.Wb(),r.Wb(),r.Tb(14,"input",23),r.Wb(),r.Xb(15,"div",20),r.Xb(16,"strong"),r.Xb(17,"label",22),r.Hc(18,"Descripcion"),r.Wb(),r.Wb(),r.Tb(19,"input",24),r.Wb(),r.Xb(20,"div",20),r.Xb(21,"strong"),r.Xb(22,"label",22),r.Hc(23,"Cantidad"),r.Wb(),r.Wb(),r.Tb(24,"input",25),r.Wb(),r.Xb(25,"div",20),r.Xb(26,"strong"),r.Xb(27,"label",22),r.Hc(28,"Precio"),r.Wb(),r.Wb(),r.Tb(29,"input",26),r.Wb(),r.Xb(30,"div",20),r.Tb(31,"input",27),r.lc(32,"async"),r.Xb(33,"label"),r.Xb(34,"strong"),r.Hc(35,"Selecciona una imagen"),r.Wb(),r.Wb(),r.Xb(36,"input",28),r.ic("change",(function(e){return r.zc(t),r.kc().onUpload(e)})),r.Wb(),r.Wb(),r.Xb(37,"div",29),r.Tb(38,"div",30),r.lc(39,"async"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(40,"div",31),r.Fc(41,oC,2,0,"button",32),r.lc(42,"async"),r.Fc(43,sC,2,0,"button",33),r.lc(44,"async"),r.Wb()}if(2&t){const t=r.kc();r.Gb(9),r.qc("formGroup",t.materialForm),r.Gb(22),r.qc("value",r.mc(32,6,t.urlImage)),r.Gb(7),r.Ec("width",r.mc(39,8,t.uploadPercent)+"%"),r.Gb(3),r.qc("ngIf",r.mc(42,10,0==t.updSave&&t.urlImage)),r.Gb(2),r.qc("ngIf",r.mc(44,12,1==t.updSave&&t.urlImage))}}let uC=(()=>{class t{constructor(t,e,n,r){this.fb=t,this.modalService=e,this.fibaseService=n,this.storage=r,this.collection={data:[]},this.closeResult=""}onUpload(t){const e=t.target.files[0],n="materiales/"+e.name,r=this.storage.ref(n),i=this.storage.upload(n,e);this.uploadPercent=i.percentageChanges(),i.snapshotChanges().pipe(Fr(()=>this.urlImage=r.getDownloadURL())).subscribe()}ngOnInit(){this.idFirebaseUpdate="",this.config={itemsPerPage:5,currentPage:1,totalItems:this.collection.data.length},this.materialForm=this.fb.group({material:["",Js.required],descripcion:["",Js.required],cantidad:["",Js.required],precio:["",Js.required],url:["",Js.required]}),this.fibaseService.getMaterial().subscribe(t=>{this.collection.data=t.map(t=>({material:t.payload.doc.data().material,descripcion:t.payload.doc.data().descripcion,cantidad:t.payload.doc.data().cantidad,precio:t.payload.doc.data().precio,url:t.payload.doc.data().url,idFirebase:t.payload.doc.id}))},t=>{console.error(t)})}pageChanged(t){this.config.currentPage=t}eliminar(t){this.fibaseService.eliminarMaterial(t.idFirebase)}guardar(t){this.materialForm.value.url=t,this.fibaseService.createMaterial(this.materialForm.value).then(t=>{this.materialForm.reset(),this.modalService.dismissAll(),this.urlImage=new Pt.a}).catch(t=>{console.error(t)})}actualizar(t){null!=this.idFirebaseUpdate&&(this.materialForm.value.url=t,this.fibaseService.updateMaterial(this.idFirebaseUpdate,this.materialForm.value).then(t=>{this.materialForm.reset(),this.modalService.dismissAll(),this.urlImage=new Pt.a}).catch(t=>{console.error(t)}))}editarMaterial(t,e){this.updSave=!0,this.materialForm.setValue({material:e.material,descripcion:e.descripcion,cantidad:e.cantidad,precio:e.precio,url:e.url}),this.idFirebaseUpdate=e.idFirebase,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t},t=>{this.closeResult="Dismissed "+this.getDismissReason(t)})}nuevoMaterial(t){this.updSave=!1,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t},t=>{this.closeResult="Dismissed "+this.getDismissReason(t)})}getDismissReason(t){return t===qu.ESC?"by pressing ESC":t===qu.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ga),r.Sb(Gu),r.Sb(DE),r.Sb(cr))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-crud"]],decls:27,vars:4,consts:[[2,"text-align","center"],[1,"card","text-dark","border-primary","mx-auto","mt-3","mb-3","col-md-4",2,"border-radius","30px","border-width","5px"],[1,"card-body","card-"],[1,"card-title"],[2,"text-transform","capitalize","color","white"],[1,"table","table-hover"],[1,"table-primary"],["class","table",4,"ngFor","ngForOf"],[3,"pageChange"],["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"table"],[2,"text-transform","capitalize"],[2,"width","50px","margin-right","1rem",3,"src"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["for",""],["type","text","formControlName","material",1,"form-control"],["type","text","formControlName","descripcion",1,"form-control"],["type","number","formControlName","cantidad",1,"form-control"],["type","text","formControlName","precio",1,"form-control"],["type","hidden","formControlName","url",1,"form-control",3,"value"],["type","file","accept",".jpeg,.png,.jpg",3,"change"],[1,"progress","form-group"],["role","progressbar",1,"progress-bar","progressbar-striped","bg-success"],[1,"modal-footer"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-info",3,"click"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"h4",4),r.Hc(5,"Materiales de Construccion APASCO"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(6,"table",5),r.Xb(7,"thead"),r.Xb(8,"tr",6),r.Xb(9,"th"),r.Hc(10,"Material"),r.Wb(),r.Xb(11,"th"),r.Hc(12,"Descripcion"),r.Wb(),r.Xb(13,"th"),r.Hc(14,"Cantidad"),r.Wb(),r.Xb(15,"th"),r.Hc(16,"Precio"),r.Wb(),r.Xb(17,"th"),r.Hc(18,"Operiaciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(19,"tbody"),r.Fc(20,iC,15,5,"tr",7),r.lc(21,"paginate"),r.Wb(),r.Wb(),r.Xb(22,"pagination-controls",8),r.ic("pageChange",(function(t){return e.pageChanged(t)})),r.Wb(),r.Fc(23,aC,45,14,"ng-template",null,9,r.Gc),r.Xb(25,"button",10),r.ic("click",(function(){r.zc(t);const n=r.yc(24);return e.nuevoMaterial(n)})),r.Hc(26,"A\xf1adir Nuevo Material"),r.Wb(),r.Wb()}2&t&&(r.Gb(20),r.qc("ngForOf",r.nc(21,1,e.collection.data,e.config)))},directives:[V,YE,Ma,Gs,Va,Ha,Ms,Bs,za,ia,U],pipes:[KE,$],styles:[""]}),t})();const cC=function(){return["/home"]};let lC=(()=>{class t{constructor(t){this.firebaseServ=t,this.material={}}ngOnInit(){this.firebaseServ.$getObjecjtSorce.subscribe(t=>this.material=t).unsubscribe(),console.log(this.material)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(DE))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-detalles"]],decls:21,vars:7,consts:[[1,"row"],[1,"col-md-4"],[1,"card",2,"width","max-content"],[1,"card-header"],[1,"card-text"],[1,"card-img-top"],[2,"width","30rem","height","30rem",3,"src"],[1,"col-md-4",2,"margin-top","10%"],[1,"card-text",2,"text-transform","capitalize"],[1,"card-text","mt-5",2,"text-transform","capitalize"],[1,"bg-white"],[1,"btn","btn-danger","mt-5",2,"width","10rem",3,"routerLink"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"h1",4),r.Hc(5),r.Wb(),r.Wb(),r.Xb(6,"div",5),r.Tb(7,"img",6),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"div",7),r.Xb(9,"h3",8),r.Xb(10,"small"),r.Hc(11),r.Wb(),r.Wb(),r.Xb(12,"h3",9),r.Hc(13),r.Wb(),r.Tb(14,"hr",10),r.Xb(15,"h3",9),r.Hc(16,"disponible: "),r.Tb(17,"br"),r.Hc(18),r.Wb(),r.Xb(19,"button",11),r.Hc(20,"Atras"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Gb(5),r.Ic(e.material.material),r.Gb(2),r.qc("src",e.material.url,r.Ac),r.Gb(4),r.Ic(e.material.descripcion),r.Gb(2),r.Jc("$",e.material.precio,""),r.Gb(5),r.Jc("$",e.material.precio," pzs"),r.Gb(1),r.qc("routerLink",r.tc(6,cC)))},directives:[us],styles:[""]}),t})();function hC(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",3),r.Xb(1,"div",4),r.Tb(2,"img",5),r.Xb(3,"div",6),r.Xb(4,"h4",7),r.Hc(5),r.Wb(),r.Xb(6,"p",8),r.Hc(7),r.Wb(),r.Wb(),r.Xb(8,"div",9),r.Xb(9,"button",10),r.ic("click",(function(){r.zc(t);const n=e.$implicit;return r.kc().verMaterial(n)})),r.Hc(10,"ver mas..."),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit;r.Gb(2),r.qc("src",t.url,r.Ac),r.Gb(3),r.Ic(t.material),r.Gb(2),r.Ic(t.descripcion)}}let fC=(()=>{class t{constructor(t,e){this.firebaseServ=t,this.router=e,this.data=[]}ngOnInit(){this.loadData()}verMaterial(t){this.firebaseServ.sendObjectSorce(t),this.router.navigate(["details",t.material])}loadData(){this.firebaseServ.getMaterial().subscribe(t=>{this.data=t.map(t=>({material:t.payload.doc.data().material,descripcion:t.payload.doc.data().descripcion,cantidad:t.payload.doc.data().cantidad,precio:t.payload.doc.data().precio,url:t.payload.doc.data().url,idFirebase:t.payload.doc.id}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(DE),r.Sb(as))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-home"]],decls:4,vars:1,consts:[[2,"text-align","center"],[1,"row","container-fluid"],["class","col-md-2","style","margin-left: 3em;",4,"ngFor","ngForOf"],[1,"col-md-2",2,"margin-left","3em"],[1,"card",2,"width","15rem","height","28rem","margin-top","2em"],[1,"card","card-img-top",2,"width","15rem","height","15rem",3,"src"],[1,"card-body"],[1,"card-text",2,"text-transform","capitalize"],[1,"card-text","text-muted",2,"text-transform","capitalize"],[1,"card-footer"],[1,"btn","btn-primary","btn-block",3,"click"]],template:function(t,e){1&t&&(r.Xb(0,"h1",0),r.Hc(1,"Bienvenido a Materiales Apasco"),r.Wb(),r.Xb(2,"div",1),r.Fc(3,hC,11,3,"div",2),r.Wb()),2&t&&(r.Gb(3),r.qc("ngForOf",e.data))},directives:[V],styles:[""]}),t})();function dC(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(vE){o(vE)}}function a(t){try{u(r.throw(t))}catch(vE){o(vE)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}let pC=(()=>{class t{constructor(t,e){this.afServ=t,this.router=e}register(t,e){return dC(this,void 0,void 0,(function*(){const n=yield this.afServ.createUserWithEmailAndPassword(t,e);return this.router.navigate(["crud"]),n}))}login(t,e){return dC(this,void 0,void 0,(function*(){const n=yield this.afServ.signInWithEmailAndPassword(t,e);return this.router.navigate(["crud"]),n}))}logout(){return dC(this,void 0,void 0,(function*(){const t=yield this.afServ.signOut();return this.router.navigate(["home"]),t}))}loginGoogle(){return dC(this,void 0,void 0,(function*(){try{const t=this.afServ.signInWithPopup(new ac.a.auth.GoogleAuthProvider);return yield t,this.router.navigate(["crud"])}catch(t){console.log(t)}}))}}return t.\u0275fac=function(e){return new(e||t)(r.fc(_e),r.fc(as))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gC=[{path:"login",component:(()=>{class t{constructor(t){this.authServ=t,this.loginForm=new Ra({email:new Pa(""),password:new Pa("")})}ngOnInit(){}onGoogleLogin(){try{this.authServ.loginGoogle()}catch(t){console.log(t)}}onLogin(){const{email:t,password:e}=this.loginForm.value;this.authServ.login(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(pC))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-login"]],decls:20,vars:1,consts:[[1,"row","mt-5"],[1,"col-md-5","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-success","btn-block","mt-5"],[1,"btn","btn-block","btn-lg","btn-google","mt-3",3,"click"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"h1",4),r.Hc(5,"Inicia Sesion"),r.Wb(),r.Xb(6,"form",5),r.ic("ngSubmit",(function(){return e.onLogin()})),r.Xb(7,"div",6),r.Xb(8,"label",7),r.Hc(9,"Correo"),r.Wb(),r.Tb(10,"input",8),r.Wb(),r.Xb(11,"div",6),r.Xb(12,"label",9),r.Hc(13,"Contrase\xf1a"),r.Wb(),r.Tb(14,"input",10),r.Wb(),r.Xb(15,"div"),r.Xb(16,"button",11),r.Hc(17,"Login"),r.Wb(),r.Wb(),r.Wb(),r.Xb(18,"button",12),r.ic("click",(function(){return e.onGoogleLogin()})),r.Hc(19,"Google"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Gb(6),r.qc("formGroup",e.loginForm))},directives:[Ma,Gs,Ha,Ms,Bs,za],styles:[".btn-google[_ngcontent-%COMP%]{background-color:#dd4b39;color:#fff;width:100%}"]}),t})()},{path:"registro",component:(()=>{class t{constructor(t,e){this.authSer=t,this.firebaseServ=e,this.loginForm=new Ra({email:new Pa(""),password:new Pa("")})}ngOnInit(){}onRegister(){const{email:t,password:e}=this.loginForm.value;this.authSer.register(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(pC),r.Sb(DE))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-registro"]],decls:18,vars:1,consts:[[1,"row","mt-5"],[1,"col-md-5","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-info","btn-block","mt-5"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"h1",4),r.Hc(5,"Registrate"),r.Wb(),r.Xb(6,"form",5),r.ic("ngSubmit",(function(){return e.onRegister()})),r.Xb(7,"div",6),r.Xb(8,"label"),r.Hc(9,"Correo"),r.Wb(),r.Tb(10,"input",7),r.Wb(),r.Xb(11,"div",6),r.Xb(12,"label"),r.Hc(13,"Contrase\xf1a"),r.Wb(),r.Tb(14,"input",8),r.Wb(),r.Xb(15,"div"),r.Xb(16,"button",9),r.Hc(17,"Registrar"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Gb(6),r.qc("formGroup",e.loginForm))},directives:[Ma,Gs,Ha,Ms,Bs,za],styles:[""]}),t})()},{path:"home",component:fC},{path:"crud",component:uC},{path:"details/:mat",component:lC},{path:"**",pathMatch:"full",redirectTo:"home"}];let mC=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[Os.forRoot(gC)],Os]}),t})();const bC=function(){return["crud"]};function vC(t,e){1&t&&(r.Xb(0,"ul",10),r.Xb(1,"li",5),r.Xb(2,"a",6),r.Hc(3,"CRUD"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Gb(2),r.qc("routerLink",r.tc(1,bC)))}const yC=function(){return["home"]};function wC(t,e){if(1&t){const t=r.Yb();r.Xb(0,"ul",4),r.Xb(1,"li",5),r.Xb(2,"a",11),r.ic("click",(function(){return r.zc(t),r.kc().onLogout()})),r.Hc(3),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=e.ngIf;r.Gb(2),r.qc("routerLink",r.tc(2,yC)),r.Gb(1),r.Jc("Logout: (",null==t?null:t.email,")")}}const _C=function(){return["login"]},OC=function(){return["registro"]};function EC(t,e){1&t&&(r.Xb(0,"ul",12),r.Xb(1,"li",5),r.Xb(2,"a",6),r.Hc(3,"Login"),r.Wb(),r.Wb(),r.Xb(4,"li",5),r.Xb(5,"a",6),r.Hc(6,"Registrate"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Gb(2),r.qc("routerLink",r.tc(2,_C)),r.Gb(3),r.qc("routerLink",r.tc(3,OC)))}let CC=(()=>{class t{constructor(t){this.authServ=t,this.user$=this.authServ.afServ.user}ngOnInit(){}onLogout(){this.authServ.logout(),this.band=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(pC))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-navbar"]],decls:14,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],["type","button","data-toggle","collapse","data-target","#navbarColor01","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor01",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["routerLinkActive","active",1,"nav-item"],[1,"nav-link",3,"routerLink"],["class","navbar-nav mr-auto",4,"ngIf"],["class","navbar-nav",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mr-auto"],[1,"nav-link","active",3,"routerLink","click"],[1,"navbar-nav","ml-auto"]],template:function(t,e){if(1&t&&(r.Xb(0,"nav",0),r.Xb(1,"button",1),r.Tb(2,"span",2),r.Wb(),r.Xb(3,"div",3),r.Xb(4,"ul",4),r.Xb(5,"li",5),r.Xb(6,"a",6),r.Hc(7,"Home"),r.Wb(),r.Wb(),r.Wb(),r.Fc(8,vC,4,2,"ul",7),r.lc(9,"async"),r.Fc(10,wC,4,3,"ul",8),r.lc(11,"async"),r.Fc(12,EC,7,4,"ng-template",null,9,r.Gc),r.Wb(),r.Wb()),2&t){const t=r.yc(13);r.Gb(6),r.qc("routerLink",r.tc(8,yC)),r.Gb(2),r.qc("ngIf",r.mc(9,4,e.user$)),r.Gb(2),r.qc("ngIf",r.mc(11,6,e.user$))("ngIfElse",t)}},directives:[Ru,hs,cs,U],pipes:[$],styles:[""]}),t})(),SC=(()=>{class t{constructor(){this.title="inventario"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Mb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Tb(0,"app-navbar"),r.Tb(1,"router-outlet"))},directives:[CC,fs],styles:[""]}),t})(),IC=(()=>{class t{}return t.\u0275mod=r.Qb({type:t,bootstrap:[SC]}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[{provide:sr,useValue:"gs://inventario-construccion.appspot.com"}],imports:[[Tt,rc,mC,rC,Wa,$a,jt.a.initializeApp(i),Oe,hr]]}),t})();Object(r.Z)(),It().bootstrapModule(IC).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);